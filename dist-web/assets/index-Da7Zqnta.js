const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/window-CWXygZvY.js","assets/dpi-BwbmHrYW.js"])))=>i.map(i=>d[i]);
var HM=Object.defineProperty,GM=Object.defineProperties;var YM=Object.getOwnPropertyDescriptors;var Gd=Object.getOwnPropertySymbols;var xw=Object.prototype.hasOwnProperty,ww=Object.prototype.propertyIsEnumerable;var _w=Math.pow,bp=(n,e,t)=>e in n?HM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,b=(n,e)=>{for(var t in e||(e={}))xw.call(e,t)&&bp(n,t,e[t]);if(Gd)for(var t of Gd(e))ww.call(e,t)&&bp(n,t,e[t]);return n},U=(n,e)=>GM(n,YM(e));var Q=(n,e)=>{var t={};for(var r in n)xw.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Gd)for(var r of Gd(n))e.indexOf(r)<0&&ww.call(n,r)&&(t[r]=n[r]);return t};var qM=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var ni=(n,e,t)=>bp(n,typeof e!="symbol"?e+"":e,t);var M=(n,e,t)=>new Promise((r,s)=>{var o=d=>{try{u(t.next(d))}catch(f){s(f)}},l=d=>{try{u(t.throw(d))}catch(f){s(f)}},u=d=>d.done?r(d.value):Promise.resolve(d.value).then(o,l);u((t=t.apply(n,e)).next())});var AQ=qM((vt,Mf)=>{function KM(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function rh(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function JM(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}),t}var Tp={exports:{}},bc={},Np={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kw;function ZM(){if(kw)return mt;kw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(F){return F===null||typeof F!="object"?null:(F=y&&F[y]||F["@@iterator"],typeof F=="function"?F:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,S={};function T(F,q,W){this.props=F,this.context=q,this.refs=S,this.updater=W||w}T.prototype.isReactComponent={},T.prototype.setState=function(F,q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,q,"setState")},T.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function E(){}E.prototype=T.prototype;function P(F,q,W){this.props=F,this.context=q,this.refs=S,this.updater=W||w}var I=P.prototype=new E;I.constructor=P,C(I,T.prototype),I.isPureReactComponent=!0;var A=Array.isArray,D=Object.prototype.hasOwnProperty,O={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function V(F,q,W){var ne,G={},oe=null,le=null;if(q!=null)for(ne in q.ref!==void 0&&(le=q.ref),q.key!==void 0&&(oe=""+q.key),q)D.call(q,ne)&&!L.hasOwnProperty(ne)&&(G[ne]=q[ne]);var Y=arguments.length-2;if(Y===1)G.children=W;else if(1<Y){for(var he=Array(Y),Me=0;Me<Y;Me++)he[Me]=arguments[Me+2];G.children=he}if(F&&F.defaultProps)for(ne in Y=F.defaultProps,Y)G[ne]===void 0&&(G[ne]=Y[ne]);return{$$typeof:n,type:F,key:oe,ref:le,props:G,_owner:O.current}}function B(F,q){return{$$typeof:n,type:F.type,key:q,ref:F.ref,props:F.props,_owner:F._owner}}function ee(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function X(F){var q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(W){return q[W]})}var se=/\/+/g;function ce(F,q){return typeof F=="object"&&F!==null&&F.key!=null?X(""+F.key):q.toString(36)}function ke(F,q,W,ne,G){var oe=typeof F;(oe==="undefined"||oe==="boolean")&&(F=null);var le=!1;if(F===null)le=!0;else switch(oe){case"string":case"number":le=!0;break;case"object":switch(F.$$typeof){case n:case e:le=!0}}if(le)return le=F,G=G(le),F=ne===""?"."+ce(le,0):ne,A(G)?(W="",F!=null&&(W=F.replace(se,"$&/")+"/"),ke(G,q,W,"",function(Me){return Me})):G!=null&&(ee(G)&&(G=B(G,W+(!G.key||le&&le.key===G.key?"":(""+G.key).replace(se,"$&/")+"/")+F)),q.push(G)),1;if(le=0,ne=ne===""?".":ne+":",A(F))for(var Y=0;Y<F.length;Y++){oe=F[Y];var he=ne+ce(oe,Y);le+=ke(oe,q,W,he,G)}else if(he=x(F),typeof he=="function")for(F=he.call(F),Y=0;!(oe=F.next()).done;)oe=oe.value,he=ne+ce(oe,Y++),le+=ke(oe,q,W,he,G);else if(oe==="object")throw q=String(F),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return le}function xe(F,q,W){if(F==null)return F;var ne=[],G=0;return ke(F,ne,"","",function(oe){return q.call(W,oe,G++)}),ne}function me(F){if(F._status===-1){var q=F._result;q=q(),q.then(function(W){(F._status===0||F._status===-1)&&(F._status=1,F._result=W)},function(W){(F._status===0||F._status===-1)&&(F._status=2,F._result=W)}),F._status===-1&&(F._status=0,F._result=q)}if(F._status===1)return F._result.default;throw F._result}var pe={current:null},j={transition:null},H={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:j,ReactCurrentOwner:O};function $(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:xe,forEach:function(F,q,W){xe(F,function(){q.apply(this,arguments)},W)},count:function(F){var q=0;return xe(F,function(){q++}),q},toArray:function(F){return xe(F,function(q){return q})||[]},only:function(F){if(!ee(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},mt.Component=T,mt.Fragment=t,mt.Profiler=s,mt.PureComponent=P,mt.StrictMode=r,mt.Suspense=d,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,mt.act=$,mt.cloneElement=function(F,q,W){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var ne=C({},F.props),G=F.key,oe=F.ref,le=F._owner;if(q!=null){if(q.ref!==void 0&&(oe=q.ref,le=O.current),q.key!==void 0&&(G=""+q.key),F.type&&F.type.defaultProps)var Y=F.type.defaultProps;for(he in q)D.call(q,he)&&!L.hasOwnProperty(he)&&(ne[he]=q[he]===void 0&&Y!==void 0?Y[he]:q[he])}var he=arguments.length-2;if(he===1)ne.children=W;else if(1<he){Y=Array(he);for(var Me=0;Me<he;Me++)Y[Me]=arguments[Me+2];ne.children=Y}return{$$typeof:n,type:F.type,key:G,ref:oe,props:ne,_owner:le}},mt.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:o,_context:F},F.Consumer=F},mt.createElement=V,mt.createFactory=function(F){var q=V.bind(null,F);return q.type=F,q},mt.createRef=function(){return{current:null}},mt.forwardRef=function(F){return{$$typeof:u,render:F}},mt.isValidElement=ee,mt.lazy=function(F){return{$$typeof:g,_payload:{_status:-1,_result:F},_init:me}},mt.memo=function(F,q){return{$$typeof:f,type:F,compare:q===void 0?null:q}},mt.startTransition=function(F){var q=j.transition;j.transition={};try{F()}finally{j.transition=q}},mt.unstable_act=$,mt.useCallback=function(F,q){return pe.current.useCallback(F,q)},mt.useContext=function(F){return pe.current.useContext(F)},mt.useDebugValue=function(){},mt.useDeferredValue=function(F){return pe.current.useDeferredValue(F)},mt.useEffect=function(F,q){return pe.current.useEffect(F,q)},mt.useId=function(){return pe.current.useId()},mt.useImperativeHandle=function(F,q,W){return pe.current.useImperativeHandle(F,q,W)},mt.useInsertionEffect=function(F,q){return pe.current.useInsertionEffect(F,q)},mt.useLayoutEffect=function(F,q){return pe.current.useLayoutEffect(F,q)},mt.useMemo=function(F,q){return pe.current.useMemo(F,q)},mt.useReducer=function(F,q,W){return pe.current.useReducer(F,q,W)},mt.useRef=function(F){return pe.current.useRef(F)},mt.useState=function(F){return pe.current.useState(F)},mt.useSyncExternalStore=function(F,q,W){return pe.current.useSyncExternalStore(F,q,W)},mt.useTransition=function(){return pe.current.useTransition()},mt.version="18.3.1",mt}var Cw;function Sy(){return Cw||(Cw=1,Np.exports=ZM()),Np.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function QM(){if(Sw)return bc;Sw=1;var n=Sy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,f){var g,y={},x=null,w=null;f!==void 0&&(x=""+f),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(w=d.ref);for(g in d)r.call(d,g)&&!o.hasOwnProperty(g)&&(y[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)y[g]===void 0&&(y[g]=d[g]);return{$$typeof:e,type:u,key:x,ref:w,props:y,_owner:s.current}}return bc.Fragment=t,bc.jsx=l,bc.jsxs=l,bc}var bw;function XM(){return bw||(bw=1,Tp.exports=QM()),Tp.exports}var a=XM(),k=Sy();const be=rh(k),Vk=KM({__proto__:null,default:be},[k]);var Yd={},Ep={exports:{}},pr={},Mp={exports:{}},Dp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tw;function eD(){return Tw||(Tw=1,function(n){function e(j,H){var $=j.length;j.push(H);e:for(;0<$;){var F=$-1>>>1,q=j[F];if(0<s(q,H))j[F]=H,j[$]=q,$=F;else break e}}function t(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var H=j[0],$=j.pop();if($!==H){j[0]=$;e:for(var F=0,q=j.length,W=q>>>1;F<W;){var ne=2*(F+1)-1,G=j[ne],oe=ne+1,le=j[oe];if(0>s(G,$))oe<q&&0>s(le,G)?(j[F]=le,j[oe]=$,F=oe):(j[F]=G,j[ne]=$,F=ne);else if(oe<q&&0>s(le,$))j[F]=le,j[oe]=$,F=oe;else break e}}return H}function s(j,H){var $=j.sortIndex-H.sortIndex;return $!==0?$:j.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],g=1,y=null,x=3,w=!1,C=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(j){for(var H=t(f);H!==null;){if(H.callback===null)r(f);else if(H.startTime<=j)r(f),H.sortIndex=H.expirationTime,e(d,H);else break;H=t(f)}}function A(j){if(S=!1,I(j),!C)if(t(d)!==null)C=!0,me(D);else{var H=t(f);H!==null&&pe(A,H.startTime-j)}}function D(j,H){C=!1,S&&(S=!1,E(V),V=-1),w=!0;var $=x;try{for(I(H),y=t(d);y!==null&&(!(y.expirationTime>H)||j&&!X());){var F=y.callback;if(typeof F=="function"){y.callback=null,x=y.priorityLevel;var q=F(y.expirationTime<=H);H=n.unstable_now(),typeof q=="function"?y.callback=q:y===t(d)&&r(d),I(H)}else r(d);y=t(d)}if(y!==null)var W=!0;else{var ne=t(f);ne!==null&&pe(A,ne.startTime-H),W=!1}return W}finally{y=null,x=$,w=!1}}var O=!1,L=null,V=-1,B=5,ee=-1;function X(){return!(n.unstable_now()-ee<B)}function se(){if(L!==null){var j=n.unstable_now();ee=j;var H=!0;try{H=L(!0,j)}finally{H?ce():(O=!1,L=null)}}else O=!1}var ce;if(typeof P=="function")ce=function(){P(se)};else if(typeof MessageChannel!="undefined"){var ke=new MessageChannel,xe=ke.port2;ke.port1.onmessage=se,ce=function(){xe.postMessage(null)}}else ce=function(){T(se,0)};function me(j){L=j,O||(O=!0,ce())}function pe(j,H){V=T(function(){j(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(j){j.callback=null},n.unstable_continueExecution=function(){C||w||(C=!0,me(D))},n.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<j?Math.floor(1e3/j):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(d)},n.unstable_next=function(j){switch(x){case 1:case 2:case 3:var H=3;break;default:H=x}var $=x;x=H;try{return j()}finally{x=$}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var $=x;x=j;try{return H()}finally{x=$}},n.unstable_scheduleCallback=function(j,H,$){var F=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?F+$:F):$=F,j){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=$+q,j={id:g++,callback:H,priorityLevel:j,startTime:$,expirationTime:q,sortIndex:-1},$>F?(j.sortIndex=$,e(f,j),t(d)===null&&j===t(f)&&(S?(E(V),V=-1):S=!0,pe(A,$-F))):(j.sortIndex=q,e(d,j),C||w||(C=!0,me(D))),j},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(j){var H=x;return function(){var $=x;x=H;try{return j.apply(this,arguments)}finally{x=$}}}}(Dp)),Dp}var Nw;function tD(){return Nw||(Nw=1,Mp.exports=eD()),Mp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function nD(){if(Ew)return pr;Ew=1;var n=Sy(),e=tD();function t(i){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+i,h=1;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h]);return"Minified React error #"+i+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function o(i,c){l(i,c),l(i+"Capture",c)}function l(i,c){for(s[i]=c,i=0;i<c.length;i++)r.add(c[i])}var u=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function x(i){return d.call(y,i)?!0:d.call(g,i)?!1:f.test(i)?y[i]=!0:(g[i]=!0,!1)}function w(i,c,h,v){if(h!==null&&h.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return v?!1:h!==null?!h.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,c,h,v){if(c===null||typeof c=="undefined"||w(i,c,h,v))return!0;if(v)return!1;if(h!==null)switch(h.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function S(i,c,h,v,_,N,R){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=v,this.attributeNamespace=_,this.mustUseProperty=h,this.propertyName=i,this.type=c,this.sanitizeURL=N,this.removeEmptyString=R}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){T[i]=new S(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var c=i[0];T[c]=new S(c,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){T[i]=new S(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){T[i]=new S(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){T[i]=new S(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){T[i]=new S(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){T[i]=new S(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){T[i]=new S(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){T[i]=new S(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function P(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var c=i.replace(E,P);T[c]=new S(c,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var c=i.replace(E,P);T[c]=new S(c,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var c=i.replace(E,P);T[c]=new S(c,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){T[i]=new S(i,1,!1,i.toLowerCase(),null,!1,!1)}),T.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){T[i]=new S(i,1,!1,i.toLowerCase(),null,!0,!0)});function I(i,c,h,v){var _=T.hasOwnProperty(c)?T[c]:null;(_!==null?_.type!==0:v||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(C(c,h,_,v)&&(h=null),v||_===null?x(c)&&(h===null?i.removeAttribute(c):i.setAttribute(c,""+h)):_.mustUseProperty?i[_.propertyName]=h===null?_.type===3?!1:"":h:(c=_.attributeName,v=_.attributeNamespace,h===null?i.removeAttribute(c):(_=_.type,h=_===3||_===4&&h===!0?"":""+h,v?i.setAttributeNS(v,c,h):i.setAttribute(c,h))))}var A=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),O=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),ee=Symbol.for("react.provider"),X=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),j=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=j&&i[j]||i["@@iterator"],typeof i=="function"?i:null)}var $=Object.assign,F;function q(i){if(F===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);F=c&&c[1]||""}return`
`+F+i}var W=!1;function ne(i,c){if(!i||W)return"";W=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(ie){var v=ie}Reflect.construct(i,[],c)}else{try{c.call()}catch(ie){v=ie}i.call(c.prototype)}else{try{throw Error()}catch(ie){v=ie}i()}}catch(ie){if(ie&&v&&typeof ie.stack=="string"){for(var _=ie.stack.split(`
`),N=v.stack.split(`
`),R=_.length-1,z=N.length-1;1<=R&&0<=z&&_[R]!==N[z];)z--;for(;1<=R&&0<=z;R--,z--)if(_[R]!==N[z]){if(R!==1||z!==1)do if(R--,z--,0>z||_[R]!==N[z]){var K=`
`+_[R].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=R&&0<=z);break}}}finally{W=!1,Error.prepareStackTrace=h}return(i=i?i.displayName||i.name:"")?q(i):""}function G(i){switch(i.tag){case 5:return q(i.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return i=ne(i.type,!1),i;case 11:return i=ne(i.type.render,!1),i;case 1:return i=ne(i.type,!0),i;default:return""}}function oe(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case O:return"Portal";case B:return"Profiler";case V:return"StrictMode";case ce:return"Suspense";case ke:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case X:return(i.displayName||"Context")+".Consumer";case ee:return(i._context.displayName||"Context")+".Provider";case se:var c=i.render;return i=i.displayName,i||(i=c.displayName||c.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case xe:return c=i.displayName||null,c!==null?c:oe(i.type)||"Memo";case me:c=i._payload,i=i._init;try{return oe(i(c))}catch(h){}}return null}function le(i){var c=i.type;switch(i.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=c.render,i=i.displayName||i.name||"",c.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(c);case 8:return c===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Y(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function he(i){var c=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Me(i){var c=he(i)?"checked":"value",h=Object.getOwnPropertyDescriptor(i.constructor.prototype,c),v=""+i[c];if(!i.hasOwnProperty(c)&&typeof h!="undefined"&&typeof h.get=="function"&&typeof h.set=="function"){var _=h.get,N=h.set;return Object.defineProperty(i,c,{configurable:!0,get:function(){return _.call(this)},set:function(R){v=""+R,N.call(this,R)}}),Object.defineProperty(i,c,{enumerable:h.enumerable}),{getValue:function(){return v},setValue:function(R){v=""+R},stopTracking:function(){i._valueTracker=null,delete i[c]}}}}function Be(i){i._valueTracker||(i._valueTracker=Me(i))}function $e(i){if(!i)return!1;var c=i._valueTracker;if(!c)return!0;var h=c.getValue(),v="";return i&&(v=he(i)?i.checked?"true":"false":i.value),i=v,i!==h?(c.setValue(i),!0):!1}function et(i){if(i=i||(typeof document!="undefined"?document:void 0),typeof i=="undefined")return null;try{return i.activeElement||i.body}catch(c){return i.body}}function Ut(i,c){var h=c.checked;return $({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:h!=null?h:i._wrapperState.initialChecked})}function Yt(i,c){var h=c.defaultValue==null?"":c.defaultValue,v=c.checked!=null?c.checked:c.defaultChecked;h=Y(c.value!=null?c.value:h),i._wrapperState={initialChecked:v,initialValue:h,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Vt(i,c){c=c.checked,c!=null&&I(i,"checked",c,!1)}function gn(i,c){Vt(i,c);var h=Y(c.value),v=c.type;if(h!=null)v==="number"?(h===0&&i.value===""||i.value!=h)&&(i.value=""+h):i.value!==""+h&&(i.value=""+h);else if(v==="submit"||v==="reset"){i.removeAttribute("value");return}c.hasOwnProperty("value")?yn(i,c.type,h):c.hasOwnProperty("defaultValue")&&yn(i,c.type,Y(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(i.defaultChecked=!!c.defaultChecked)}function an(i,c,h){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var v=c.type;if(!(v!=="submit"&&v!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+i._wrapperState.initialValue,h||c===i.value||(i.value=c),i.defaultValue=c}h=i.name,h!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,h!==""&&(i.name=h)}function yn(i,c,h){(c!=="number"||et(i.ownerDocument)!==i)&&(h==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+h&&(i.defaultValue=""+h))}var Pn=Array.isArray;function tt(i,c,h,v){if(i=i.options,c){c={};for(var _=0;_<h.length;_++)c["$"+h[_]]=!0;for(h=0;h<i.length;h++)_=c.hasOwnProperty("$"+i[h].value),i[h].selected!==_&&(i[h].selected=_),_&&v&&(i[h].defaultSelected=!0)}else{for(h=""+Y(h),c=null,_=0;_<i.length;_++){if(i[_].value===h){i[_].selected=!0,v&&(i[_].defaultSelected=!0);return}c!==null||i[_].disabled||(c=i[_])}c!==null&&(c.selected=!0)}}function xn(i,c){if(c.dangerouslySetInnerHTML!=null)throw Error(t(91));return $({},c,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function qt(i,c){var h=c.value;if(h==null){if(h=c.children,c=c.defaultValue,h!=null){if(c!=null)throw Error(t(92));if(Pn(h)){if(1<h.length)throw Error(t(93));h=h[0]}c=h}c==null&&(c=""),h=c}i._wrapperState={initialValue:Y(h)}}function Un(i,c){var h=Y(c.value),v=Y(c.defaultValue);h!=null&&(h=""+h,h!==i.value&&(i.value=h),c.defaultValue==null&&i.defaultValue!==h&&(i.defaultValue=h)),v!=null&&(i.defaultValue=""+v)}function kr(i){var c=i.textContent;c===i._wrapperState.initialValue&&c!==""&&c!==null&&(i.value=c)}function Pr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kr(i,c){return i==null||i==="http://www.w3.org/1999/xhtml"?Pr(c):i==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Cr,Ss=function(i){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(c,h,v,_){MSApp.execUnsafeLocalFunction(function(){return i(c,h,v,_)})}:i}(function(i,c){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=c;else{for(Cr=Cr||document.createElement("div"),Cr.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=Cr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;c.firstChild;)i.appendChild(c.firstChild)}});function He(i,c){if(c){var h=i.firstChild;if(h&&h===i.lastChild&&h.nodeType===3){h.nodeValue=c;return}}i.textContent=c}var st={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cr=["Webkit","ms","Moz","O"];Object.keys(st).forEach(function(i){cr.forEach(function(c){c=c+i.charAt(0).toUpperCase()+i.substring(1),st[c]=st[i]})});function tr(i,c,h){return c==null||typeof c=="boolean"||c===""?"":h||typeof c!="number"||c===0||st.hasOwnProperty(i)&&st[i]?(""+c).trim():c+"px"}function pa(i,c){i=i.style;for(var h in c)if(c.hasOwnProperty(h)){var v=h.indexOf("--")===0,_=tr(h,c[h],v);h==="float"&&(h="cssFloat"),v?i.setProperty(h,_):i[h]=_}}var Hl=$({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oo(i,c){if(c){if(Hl[i]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(t(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(t(61))}if(c.style!=null&&typeof c.style!="object")throw Error(t(62))}}function Di(i,c){if(i.indexOf("-")===-1)return typeof c.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zs=null;function bs(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ot=null,Nt=null,kt=null;function Sr(i){if(i=uc(i)){if(typeof ot!="function")throw Error(t(280));var c=i.stateNode;c&&(c=ad(c),ot(i.stateNode,i.type,c))}}function zn(i){Nt?kt?kt.push(i):kt=[i]:Nt=i}function Qs(){if(Nt){var i=Nt,c=kt;if(kt=Nt=null,Sr(i),c)for(i=0;i<c.length;i++)Sr(c[i])}}function wn(i,c){return i(c)}function Wn(){}var wt=!1;function ga(i,c,h){if(wt)return i(c,h);wt=!0;try{return wn(i,c,h)}finally{wt=!1,(Nt!==null||kt!==null)&&(Wn(),Qs())}}function Xs(i,c){var h=i.stateNode;if(h===null)return null;var v=ad(h);if(v===null)return null;h=v[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(i=i.type,v=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!v;break e;default:i=!1}if(i)return null;if(h&&typeof h!="function")throw Error(t(231,c,typeof h));return h}var J=!1;if(u)try{var ye={};Object.defineProperty(ye,"passive",{get:function(){J=!0}}),window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch(i){J=!1}function ue(i,c,h,v,_,N,R,z,K){var ie=Array.prototype.slice.call(arguments,3);try{c.apply(h,ie)}catch(ve){this.onError(ve)}}var Ge=!1,Ue=null,Pe=!1,Ct=null,ht={onError:function(i){Ge=!0,Ue=i}};function Gt(i,c,h,v,_,N,R,z,K){Ge=!1,Ue=null,ue.apply(ht,arguments)}function gt(i,c,h,v,_,N,R,z,K){if(Gt.apply(this,arguments),Ge){if(Ge){var ie=Ue;Ge=!1,Ue=null}else throw Error(t(198));Pe||(Pe=!0,Ct=ie)}}function Ze(i){var c=i,h=i;if(i.alternate)for(;c.return;)c=c.return;else{i=c;do c=i,(c.flags&4098)!==0&&(h=c.return),i=c.return;while(i)}return c.tag===3?h:null}function Mn(i){if(i.tag===13){var c=i.memoizedState;if(c===null&&(i=i.alternate,i!==null&&(c=i.memoizedState)),c!==null)return c.dehydrated}return null}function Jr(i){if(Ze(i)!==i)throw Error(t(188))}function ya(i){var c=i.alternate;if(!c){if(c=Ze(i),c===null)throw Error(t(188));return c!==i?null:i}for(var h=i,v=c;;){var _=h.return;if(_===null)break;var N=_.alternate;if(N===null){if(v=_.return,v!==null){h=v;continue}break}if(_.child===N.child){for(N=_.child;N;){if(N===h)return Jr(_),i;if(N===v)return Jr(_),c;N=N.sibling}throw Error(t(188))}if(h.return!==v.return)h=_,v=N;else{for(var R=!1,z=_.child;z;){if(z===h){R=!0,h=_,v=N;break}if(z===v){R=!0,v=_,h=N;break}z=z.sibling}if(!R){for(z=N.child;z;){if(z===h){R=!0,h=N,v=_;break}if(z===v){R=!0,v=N,h=_;break}z=z.sibling}if(!R)throw Error(t(189))}}if(h.alternate!==v)throw Error(t(190))}if(h.tag!==3)throw Error(t(188));return h.stateNode.current===h?i:c}function $u(i){return i=ya(i),i!==null?Uu(i):null}function Uu(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var c=Uu(i);if(c!==null)return c;i=i.sibling}return null}var Wh=e.unstable_scheduleCallback,Yv=e.unstable_cancelCallback,n2=e.unstable_shouldYield,r2=e.unstable_requestPaint,_n=e.unstable_now,s2=e.unstable_getCurrentPriorityLevel,Hh=e.unstable_ImmediatePriority,qv=e.unstable_UserBlockingPriority,Vu=e.unstable_NormalPriority,o2=e.unstable_LowPriority,Kv=e.unstable_IdlePriority,Bu=null,Ts=null;function i2(i){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(Bu,i,void 0,(i.current.flags&128)===128)}catch(c){}}var Zr=Math.clz32?Math.clz32:c2,a2=Math.log,l2=Math.LN2;function c2(i){return i>>>=0,i===0?32:31-(a2(i)/l2|0)|0}var zu=64,Wu=4194304;function Gl(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Hu(i,c){var h=i.pendingLanes;if(h===0)return 0;var v=0,_=i.suspendedLanes,N=i.pingedLanes,R=h&268435455;if(R!==0){var z=R&~_;z!==0?v=Gl(z):(N&=R,N!==0&&(v=Gl(N)))}else R=h&~_,R!==0?v=Gl(R):N!==0&&(v=Gl(N));if(v===0)return 0;if(c!==0&&c!==v&&(c&_)===0&&(_=v&-v,N=c&-c,_>=N||_===16&&(N&4194240)!==0))return c;if((v&4)!==0&&(v|=h&16),c=i.entangledLanes,c!==0)for(i=i.entanglements,c&=v;0<c;)h=31-Zr(c),_=1<<h,v|=i[h],c&=~_;return v}function u2(i,c){switch(i){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d2(i,c){for(var h=i.suspendedLanes,v=i.pingedLanes,_=i.expirationTimes,N=i.pendingLanes;0<N;){var R=31-Zr(N),z=1<<R,K=_[R];K===-1?((z&h)===0||(z&v)!==0)&&(_[R]=u2(z,c)):K<=c&&(i.expiredLanes|=z),N&=~z}}function Gh(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Jv(){var i=zu;return zu<<=1,(zu&4194240)===0&&(zu=64),i}function Yh(i){for(var c=[],h=0;31>h;h++)c.push(i);return c}function Yl(i,c,h){i.pendingLanes|=c,c!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,c=31-Zr(c),i[c]=h}function f2(i,c){var h=i.pendingLanes&~c;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=c,i.mutableReadLanes&=c,i.entangledLanes&=c,c=i.entanglements;var v=i.eventTimes;for(i=i.expirationTimes;0<h;){var _=31-Zr(h),N=1<<_;c[_]=0,v[_]=-1,i[_]=-1,h&=~N}}function qh(i,c){var h=i.entangledLanes|=c;for(i=i.entanglements;h;){var v=31-Zr(h),_=1<<v;_&c|i[v]&c&&(i[v]|=c),h&=~_}}var Bt=0;function Zv(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Qv,Kh,Xv,ex,tx,Jh=!1,Gu=[],Lo=null,Fo=null,$o=null,ql=new Map,Kl=new Map,Uo=[],h2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nx(i,c){switch(i){case"focusin":case"focusout":Lo=null;break;case"dragenter":case"dragleave":Fo=null;break;case"mouseover":case"mouseout":$o=null;break;case"pointerover":case"pointerout":ql.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(c.pointerId)}}function Jl(i,c,h,v,_,N){return i===null||i.nativeEvent!==N?(i={blockedOn:c,domEventName:h,eventSystemFlags:v,nativeEvent:N,targetContainers:[_]},c!==null&&(c=uc(c),c!==null&&Kh(c)),i):(i.eventSystemFlags|=v,c=i.targetContainers,_!==null&&c.indexOf(_)===-1&&c.push(_),i)}function m2(i,c,h,v,_){switch(c){case"focusin":return Lo=Jl(Lo,i,c,h,v,_),!0;case"dragenter":return Fo=Jl(Fo,i,c,h,v,_),!0;case"mouseover":return $o=Jl($o,i,c,h,v,_),!0;case"pointerover":var N=_.pointerId;return ql.set(N,Jl(ql.get(N)||null,i,c,h,v,_)),!0;case"gotpointercapture":return N=_.pointerId,Kl.set(N,Jl(Kl.get(N)||null,i,c,h,v,_)),!0}return!1}function rx(i){var c=Ii(i.target);if(c!==null){var h=Ze(c);if(h!==null){if(c=h.tag,c===13){if(c=Mn(h),c!==null){i.blockedOn=c,tx(i.priority,function(){Xv(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){i.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yu(i){if(i.blockedOn!==null)return!1;for(var c=i.targetContainers;0<c.length;){var h=Qh(i.domEventName,i.eventSystemFlags,c[0],i.nativeEvent);if(h===null){h=i.nativeEvent;var v=new h.constructor(h.type,h);Zs=v,h.target.dispatchEvent(v),Zs=null}else return c=uc(h),c!==null&&Kh(c),i.blockedOn=h,!1;c.shift()}return!0}function sx(i,c,h){Yu(i)&&h.delete(c)}function p2(){Jh=!1,Lo!==null&&Yu(Lo)&&(Lo=null),Fo!==null&&Yu(Fo)&&(Fo=null),$o!==null&&Yu($o)&&($o=null),ql.forEach(sx),Kl.forEach(sx)}function Zl(i,c){i.blockedOn===c&&(i.blockedOn=null,Jh||(Jh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,p2)))}function Ql(i){function c(_){return Zl(_,i)}if(0<Gu.length){Zl(Gu[0],i);for(var h=1;h<Gu.length;h++){var v=Gu[h];v.blockedOn===i&&(v.blockedOn=null)}}for(Lo!==null&&Zl(Lo,i),Fo!==null&&Zl(Fo,i),$o!==null&&Zl($o,i),ql.forEach(c),Kl.forEach(c),h=0;h<Uo.length;h++)v=Uo[h],v.blockedOn===i&&(v.blockedOn=null);for(;0<Uo.length&&(h=Uo[0],h.blockedOn===null);)rx(h),h.blockedOn===null&&Uo.shift()}var va=A.ReactCurrentBatchConfig,qu=!0;function g2(i,c,h,v){var _=Bt,N=va.transition;va.transition=null;try{Bt=1,Zh(i,c,h,v)}finally{Bt=_,va.transition=N}}function y2(i,c,h,v){var _=Bt,N=va.transition;va.transition=null;try{Bt=4,Zh(i,c,h,v)}finally{Bt=_,va.transition=N}}function Zh(i,c,h,v){if(qu){var _=Qh(i,c,h,v);if(_===null)pm(i,c,v,Ku,h),nx(i,v);else if(m2(_,i,c,h,v))v.stopPropagation();else if(nx(i,v),c&4&&-1<h2.indexOf(i)){for(;_!==null;){var N=uc(_);if(N!==null&&Qv(N),N=Qh(i,c,h,v),N===null&&pm(i,c,v,Ku,h),N===_)break;_=N}_!==null&&v.stopPropagation()}else pm(i,c,v,null,h)}}var Ku=null;function Qh(i,c,h,v){if(Ku=null,i=bs(v),i=Ii(i),i!==null)if(c=Ze(i),c===null)i=null;else if(h=c.tag,h===13){if(i=Mn(c),i!==null)return i;i=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;i=null}else c!==i&&(i=null);return Ku=i,null}function ox(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(s2()){case Hh:return 1;case qv:return 4;case Vu:case o2:return 16;case Kv:return 536870912;default:return 16}default:return 16}}var Vo=null,Xh=null,Ju=null;function ix(){if(Ju)return Ju;var i,c=Xh,h=c.length,v,_="value"in Vo?Vo.value:Vo.textContent,N=_.length;for(i=0;i<h&&c[i]===_[i];i++);var R=h-i;for(v=1;v<=R&&c[h-v]===_[N-v];v++);return Ju=_.slice(i,1<v?1-v:void 0)}function Zu(i){var c=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&c===13&&(i=13)):i=c,i===10&&(i=13),32<=i||i===13?i:0}function Qu(){return!0}function ax(){return!1}function br(i){function c(h,v,_,N,R){this._reactName=h,this._targetInst=_,this.type=v,this.nativeEvent=N,this.target=R,this.currentTarget=null;for(var z in i)i.hasOwnProperty(z)&&(h=i[z],this[z]=h?h(N):N[z]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Qu:ax,this.isPropagationStopped=ax,this}return $(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Qu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Qu)},persist:function(){},isPersistent:Qu}),c}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},em=br(xa),Xl=$({},xa,{view:0,detail:0}),v2=br(Xl),tm,nm,ec,Xu=$({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sm,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ec&&(ec&&i.type==="mousemove"?(tm=i.screenX-ec.screenX,nm=i.screenY-ec.screenY):nm=tm=0,ec=i),tm)},movementY:function(i){return"movementY"in i?i.movementY:nm}}),lx=br(Xu),x2=$({},Xu,{dataTransfer:0}),w2=br(x2),_2=$({},Xl,{relatedTarget:0}),rm=br(_2),k2=$({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),C2=br(k2),S2=$({},xa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),b2=br(S2),T2=$({},xa,{data:0}),cx=br(T2),N2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D2(i){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(i):(i=M2[i])?!!c[i]:!1}function sm(){return D2}var I2=$({},Xl,{key:function(i){if(i.key){var c=N2[i.key]||i.key;if(c!=="Unidentified")return c}return i.type==="keypress"?(i=Zu(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?E2[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sm,charCode:function(i){return i.type==="keypress"?Zu(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Zu(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),j2=br(I2),A2=$({},Xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ux=br(A2),P2=$({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sm}),R2=br(P2),O2=$({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),L2=br(O2),F2=$({},Xu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$2=br(F2),U2=[9,13,27,32],om=u&&"CompositionEvent"in window,tc=null;u&&"documentMode"in document&&(tc=document.documentMode);var V2=u&&"TextEvent"in window&&!tc,dx=u&&(!om||tc&&8<tc&&11>=tc),fx=" ",hx=!1;function mx(i,c){switch(i){case"keyup":return U2.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function px(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var wa=!1;function B2(i,c){switch(i){case"compositionend":return px(c);case"keypress":return c.which!==32?null:(hx=!0,fx);case"textInput":return i=c.data,i===fx&&hx?null:i;default:return null}}function z2(i,c){if(wa)return i==="compositionend"||!om&&mx(i,c)?(i=ix(),Ju=Xh=Vo=null,wa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return dx&&c.locale!=="ko"?null:c.data;default:return null}}var W2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gx(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c==="input"?!!W2[i.type]:c==="textarea"}function yx(i,c,h,v){zn(v),c=sd(c,"onChange"),0<c.length&&(h=new em("onChange","change",null,h,v),i.push({event:h,listeners:c}))}var nc=null,rc=null;function H2(i){Rx(i,0)}function ed(i){var c=ba(i);if($e(c))return i}function G2(i,c){if(i==="change")return c}var vx=!1;if(u){var im;if(u){var am="oninput"in document;if(!am){var xx=document.createElement("div");xx.setAttribute("oninput","return;"),am=typeof xx.oninput=="function"}im=am}else im=!1;vx=im&&(!document.documentMode||9<document.documentMode)}function wx(){nc&&(nc.detachEvent("onpropertychange",_x),rc=nc=null)}function _x(i){if(i.propertyName==="value"&&ed(rc)){var c=[];yx(c,rc,i,bs(i)),ga(H2,c)}}function Y2(i,c,h){i==="focusin"?(wx(),nc=c,rc=h,nc.attachEvent("onpropertychange",_x)):i==="focusout"&&wx()}function q2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ed(rc)}function K2(i,c){if(i==="click")return ed(c)}function J2(i,c){if(i==="input"||i==="change")return ed(c)}function Z2(i,c){return i===c&&(i!==0||1/i===1/c)||i!==i&&c!==c}var Qr=typeof Object.is=="function"?Object.is:Z2;function sc(i,c){if(Qr(i,c))return!0;if(typeof i!="object"||i===null||typeof c!="object"||c===null)return!1;var h=Object.keys(i),v=Object.keys(c);if(h.length!==v.length)return!1;for(v=0;v<h.length;v++){var _=h[v];if(!d.call(c,_)||!Qr(i[_],c[_]))return!1}return!0}function kx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Cx(i,c){var h=kx(i);i=0;for(var v;h;){if(h.nodeType===3){if(v=i+h.textContent.length,i<=c&&v>=c)return{node:h,offset:c-i};i=v}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=kx(h)}}function Sx(i,c){return i&&c?i===c?!0:i&&i.nodeType===3?!1:c&&c.nodeType===3?Sx(i,c.parentNode):"contains"in i?i.contains(c):i.compareDocumentPosition?!!(i.compareDocumentPosition(c)&16):!1:!1}function bx(){for(var i=window,c=et();c instanceof i.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch(v){h=!1}if(h)i=c.contentWindow;else break;c=et(i.document)}return c}function lm(i){var c=i&&i.nodeName&&i.nodeName.toLowerCase();return c&&(c==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||c==="textarea"||i.contentEditable==="true")}function Q2(i){var c=bx(),h=i.focusedElem,v=i.selectionRange;if(c!==h&&h&&h.ownerDocument&&Sx(h.ownerDocument.documentElement,h)){if(v!==null&&lm(h)){if(c=v.start,i=v.end,i===void 0&&(i=c),"selectionStart"in h)h.selectionStart=c,h.selectionEnd=Math.min(i,h.value.length);else if(i=(c=h.ownerDocument||document)&&c.defaultView||window,i.getSelection){i=i.getSelection();var _=h.textContent.length,N=Math.min(v.start,_);v=v.end===void 0?N:Math.min(v.end,_),!i.extend&&N>v&&(_=v,v=N,N=_),_=Cx(h,N);var R=Cx(h,v);_&&R&&(i.rangeCount!==1||i.anchorNode!==_.node||i.anchorOffset!==_.offset||i.focusNode!==R.node||i.focusOffset!==R.offset)&&(c=c.createRange(),c.setStart(_.node,_.offset),i.removeAllRanges(),N>v?(i.addRange(c),i.extend(R.node,R.offset)):(c.setEnd(R.node,R.offset),i.addRange(c)))}}for(c=[],i=h;i=i.parentNode;)i.nodeType===1&&c.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<c.length;h++)i=c[h],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var X2=u&&"documentMode"in document&&11>=document.documentMode,_a=null,cm=null,oc=null,um=!1;function Tx(i,c,h){var v=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;um||_a==null||_a!==et(v)||(v=_a,"selectionStart"in v&&lm(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),oc&&sc(oc,v)||(oc=v,v=sd(cm,"onSelect"),0<v.length&&(c=new em("onSelect","select",null,c,h),i.push({event:c,listeners:v}),c.target=_a)))}function td(i,c){var h={};return h[i.toLowerCase()]=c.toLowerCase(),h["Webkit"+i]="webkit"+c,h["Moz"+i]="moz"+c,h}var ka={animationend:td("Animation","AnimationEnd"),animationiteration:td("Animation","AnimationIteration"),animationstart:td("Animation","AnimationStart"),transitionend:td("Transition","TransitionEnd")},dm={},Nx={};u&&(Nx=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function nd(i){if(dm[i])return dm[i];if(!ka[i])return i;var c=ka[i],h;for(h in c)if(c.hasOwnProperty(h)&&h in Nx)return dm[i]=c[h];return i}var Ex=nd("animationend"),Mx=nd("animationiteration"),Dx=nd("animationstart"),Ix=nd("transitionend"),jx=new Map,Ax="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bo(i,c){jx.set(i,c),o(c,[i])}for(var fm=0;fm<Ax.length;fm++){var hm=Ax[fm],eM=hm.toLowerCase(),tM=hm[0].toUpperCase()+hm.slice(1);Bo(eM,"on"+tM)}Bo(Ex,"onAnimationEnd"),Bo(Mx,"onAnimationIteration"),Bo(Dx,"onAnimationStart"),Bo("dblclick","onDoubleClick"),Bo("focusin","onFocus"),Bo("focusout","onBlur"),Bo(Ix,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nM=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function Px(i,c,h){var v=i.type||"unknown-event";i.currentTarget=h,gt(v,c,void 0,i),i.currentTarget=null}function Rx(i,c){c=(c&4)!==0;for(var h=0;h<i.length;h++){var v=i[h],_=v.event;v=v.listeners;e:{var N=void 0;if(c)for(var R=v.length-1;0<=R;R--){var z=v[R],K=z.instance,ie=z.currentTarget;if(z=z.listener,K!==N&&_.isPropagationStopped())break e;Px(_,z,ie),N=K}else for(R=0;R<v.length;R++){if(z=v[R],K=z.instance,ie=z.currentTarget,z=z.listener,K!==N&&_.isPropagationStopped())break e;Px(_,z,ie),N=K}}}if(Pe)throw i=Ct,Pe=!1,Ct=null,i}function Qt(i,c){var h=c[_m];h===void 0&&(h=c[_m]=new Set);var v=i+"__bubble";h.has(v)||(Ox(c,i,2,!1),h.add(v))}function mm(i,c,h){var v=0;c&&(v|=4),Ox(h,i,v,c)}var rd="_reactListening"+Math.random().toString(36).slice(2);function ac(i){if(!i[rd]){i[rd]=!0,r.forEach(function(h){h!=="selectionchange"&&(nM.has(h)||mm(h,!1,i),mm(h,!0,i))});var c=i.nodeType===9?i:i.ownerDocument;c===null||c[rd]||(c[rd]=!0,mm("selectionchange",!1,c))}}function Ox(i,c,h,v){switch(ox(c)){case 1:var _=g2;break;case 4:_=y2;break;default:_=Zh}h=_.bind(null,c,h,i),_=void 0,!J||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(_=!0),v?_!==void 0?i.addEventListener(c,h,{capture:!0,passive:_}):i.addEventListener(c,h,!0):_!==void 0?i.addEventListener(c,h,{passive:_}):i.addEventListener(c,h,!1)}function pm(i,c,h,v,_){var N=v;if((c&1)===0&&(c&2)===0&&v!==null)e:for(;;){if(v===null)return;var R=v.tag;if(R===3||R===4){var z=v.stateNode.containerInfo;if(z===_||z.nodeType===8&&z.parentNode===_)break;if(R===4)for(R=v.return;R!==null;){var K=R.tag;if((K===3||K===4)&&(K=R.stateNode.containerInfo,K===_||K.nodeType===8&&K.parentNode===_))return;R=R.return}for(;z!==null;){if(R=Ii(z),R===null)return;if(K=R.tag,K===5||K===6){v=N=R;continue e}z=z.parentNode}}v=v.return}ga(function(){var ie=N,ve=bs(h),we=[];e:{var ge=jx.get(i);if(ge!==void 0){var De=em,Re=i;switch(i){case"keypress":if(Zu(h)===0)break e;case"keydown":case"keyup":De=j2;break;case"focusin":Re="focus",De=rm;break;case"focusout":Re="blur",De=rm;break;case"beforeblur":case"afterblur":De=rm;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=lx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=w2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=R2;break;case Ex:case Mx:case Dx:De=C2;break;case Ix:De=L2;break;case"scroll":De=v2;break;case"wheel":De=$2;break;case"copy":case"cut":case"paste":De=b2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=ux}var Ve=(c&4)!==0,kn=!Ve&&i==="scroll",te=Ve?ge!==null?ge+"Capture":null:ge;Ve=[];for(var Z=ie,re;Z!==null;){re=Z;var Ce=re.stateNode;if(re.tag===5&&Ce!==null&&(re=Ce,te!==null&&(Ce=Xs(Z,te),Ce!=null&&Ve.push(lc(Z,Ce,re)))),kn)break;Z=Z.return}0<Ve.length&&(ge=new De(ge,Re,null,h,ve),we.push({event:ge,listeners:Ve}))}}if((c&7)===0){e:{if(ge=i==="mouseover"||i==="pointerover",De=i==="mouseout"||i==="pointerout",ge&&h!==Zs&&(Re=h.relatedTarget||h.fromElement)&&(Ii(Re)||Re[eo]))break e;if((De||ge)&&(ge=ve.window===ve?ve:(ge=ve.ownerDocument)?ge.defaultView||ge.parentWindow:window,De?(Re=h.relatedTarget||h.toElement,De=ie,Re=Re?Ii(Re):null,Re!==null&&(kn=Ze(Re),Re!==kn||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(De=null,Re=ie),De!==Re)){if(Ve=lx,Ce="onMouseLeave",te="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(Ve=ux,Ce="onPointerLeave",te="onPointerEnter",Z="pointer"),kn=De==null?ge:ba(De),re=Re==null?ge:ba(Re),ge=new Ve(Ce,Z+"leave",De,h,ve),ge.target=kn,ge.relatedTarget=re,Ce=null,Ii(ve)===ie&&(Ve=new Ve(te,Z+"enter",Re,h,ve),Ve.target=re,Ve.relatedTarget=kn,Ce=Ve),kn=Ce,De&&Re)t:{for(Ve=De,te=Re,Z=0,re=Ve;re;re=Ca(re))Z++;for(re=0,Ce=te;Ce;Ce=Ca(Ce))re++;for(;0<Z-re;)Ve=Ca(Ve),Z--;for(;0<re-Z;)te=Ca(te),re--;for(;Z--;){if(Ve===te||te!==null&&Ve===te.alternate)break t;Ve=Ca(Ve),te=Ca(te)}Ve=null}else Ve=null;De!==null&&Lx(we,ge,De,Ve,!1),Re!==null&&kn!==null&&Lx(we,kn,Re,Ve,!0)}}e:{if(ge=ie?ba(ie):window,De=ge.nodeName&&ge.nodeName.toLowerCase(),De==="select"||De==="input"&&ge.type==="file")var ze=G2;else if(gx(ge))if(vx)ze=J2;else{ze=q2;var Qe=Y2}else(De=ge.nodeName)&&De.toLowerCase()==="input"&&(ge.type==="checkbox"||ge.type==="radio")&&(ze=K2);if(ze&&(ze=ze(i,ie))){yx(we,ze,h,ve);break e}Qe&&Qe(i,ge,ie),i==="focusout"&&(Qe=ge._wrapperState)&&Qe.controlled&&ge.type==="number"&&yn(ge,"number",ge.value)}switch(Qe=ie?ba(ie):window,i){case"focusin":(gx(Qe)||Qe.contentEditable==="true")&&(_a=Qe,cm=ie,oc=null);break;case"focusout":oc=cm=_a=null;break;case"mousedown":um=!0;break;case"contextmenu":case"mouseup":case"dragend":um=!1,Tx(we,h,ve);break;case"selectionchange":if(X2)break;case"keydown":case"keyup":Tx(we,h,ve)}var Xe;if(om)e:{switch(i){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else wa?mx(i,h)&&(rt="onCompositionEnd"):i==="keydown"&&h.keyCode===229&&(rt="onCompositionStart");rt&&(dx&&h.locale!=="ko"&&(wa||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&wa&&(Xe=ix()):(Vo=ve,Xh="value"in Vo?Vo.value:Vo.textContent,wa=!0)),Qe=sd(ie,rt),0<Qe.length&&(rt=new cx(rt,i,null,h,ve),we.push({event:rt,listeners:Qe}),Xe?rt.data=Xe:(Xe=px(h),Xe!==null&&(rt.data=Xe)))),(Xe=V2?B2(i,h):z2(i,h))&&(ie=sd(ie,"onBeforeInput"),0<ie.length&&(ve=new cx("onBeforeInput","beforeinput",null,h,ve),we.push({event:ve,listeners:ie}),ve.data=Xe))}Rx(we,c)})}function lc(i,c,h){return{instance:i,listener:c,currentTarget:h}}function sd(i,c){for(var h=c+"Capture",v=[];i!==null;){var _=i,N=_.stateNode;_.tag===5&&N!==null&&(_=N,N=Xs(i,h),N!=null&&v.unshift(lc(i,N,_)),N=Xs(i,c),N!=null&&v.push(lc(i,N,_))),i=i.return}return v}function Ca(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Lx(i,c,h,v,_){for(var N=c._reactName,R=[];h!==null&&h!==v;){var z=h,K=z.alternate,ie=z.stateNode;if(K!==null&&K===v)break;z.tag===5&&ie!==null&&(z=ie,_?(K=Xs(h,N),K!=null&&R.unshift(lc(h,K,z))):_||(K=Xs(h,N),K!=null&&R.push(lc(h,K,z)))),h=h.return}R.length!==0&&i.push({event:c,listeners:R})}var rM=/\r\n?/g,sM=/\u0000|\uFFFD/g;function Fx(i){return(typeof i=="string"?i:""+i).replace(rM,`
`).replace(sM,"")}function od(i,c,h){if(c=Fx(c),Fx(i)!==c&&h)throw Error(t(425))}function id(){}var gm=null,ym=null;function vm(i,c){return i==="textarea"||i==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var xm=typeof setTimeout=="function"?setTimeout:void 0,oM=typeof clearTimeout=="function"?clearTimeout:void 0,$x=typeof Promise=="function"?Promise:void 0,iM=typeof queueMicrotask=="function"?queueMicrotask:typeof $x!="undefined"?function(i){return $x.resolve(null).then(i).catch(aM)}:xm;function aM(i){setTimeout(function(){throw i})}function wm(i,c){var h=c,v=0;do{var _=h.nextSibling;if(i.removeChild(h),_&&_.nodeType===8)if(h=_.data,h==="/$"){if(v===0){i.removeChild(_),Ql(c);return}v--}else h!=="$"&&h!=="$?"&&h!=="$!"||v++;h=_}while(h);Ql(c)}function zo(i){for(;i!=null;i=i.nextSibling){var c=i.nodeType;if(c===1||c===3)break;if(c===8){if(c=i.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return i}function Ux(i){i=i.previousSibling;for(var c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="$"||h==="$!"||h==="$?"){if(c===0)return i;c--}else h==="/$"&&c++}i=i.previousSibling}return null}var Sa=Math.random().toString(36).slice(2),Ns="__reactFiber$"+Sa,cc="__reactProps$"+Sa,eo="__reactContainer$"+Sa,_m="__reactEvents$"+Sa,lM="__reactListeners$"+Sa,cM="__reactHandles$"+Sa;function Ii(i){var c=i[Ns];if(c)return c;for(var h=i.parentNode;h;){if(c=h[eo]||h[Ns]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(i=Ux(i);i!==null;){if(h=i[Ns])return h;i=Ux(i)}return c}i=h,h=i.parentNode}return null}function uc(i){return i=i[Ns]||i[eo],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ba(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function ad(i){return i[cc]||null}var km=[],Ta=-1;function Wo(i){return{current:i}}function Xt(i){0>Ta||(i.current=km[Ta],km[Ta]=null,Ta--)}function Kt(i,c){Ta++,km[Ta]=i.current,i.current=c}var Ho={},Hn=Wo(Ho),ur=Wo(!1),ji=Ho;function Na(i,c){var h=i.type.contextTypes;if(!h)return Ho;var v=i.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===c)return v.__reactInternalMemoizedMaskedChildContext;var _={},N;for(N in h)_[N]=c[N];return v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=c,i.__reactInternalMemoizedMaskedChildContext=_),_}function dr(i){return i=i.childContextTypes,i!=null}function ld(){Xt(ur),Xt(Hn)}function Vx(i,c,h){if(Hn.current!==Ho)throw Error(t(168));Kt(Hn,c),Kt(ur,h)}function Bx(i,c,h){var v=i.stateNode;if(c=c.childContextTypes,typeof v.getChildContext!="function")return h;v=v.getChildContext();for(var _ in v)if(!(_ in c))throw Error(t(108,le(i)||"Unknown",_));return $({},h,v)}function cd(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ho,ji=Hn.current,Kt(Hn,i),Kt(ur,ur.current),!0}function zx(i,c,h){var v=i.stateNode;if(!v)throw Error(t(169));h?(i=Bx(i,c,ji),v.__reactInternalMemoizedMergedChildContext=i,Xt(ur),Xt(Hn),Kt(Hn,i)):Xt(ur),Kt(ur,h)}var to=null,ud=!1,Cm=!1;function Wx(i){to===null?to=[i]:to.push(i)}function uM(i){ud=!0,Wx(i)}function Go(){if(!Cm&&to!==null){Cm=!0;var i=0,c=Bt;try{var h=to;for(Bt=1;i<h.length;i++){var v=h[i];do v=v(!0);while(v!==null)}to=null,ud=!1}catch(_){throw to!==null&&(to=to.slice(i+1)),Wh(Hh,Go),_}finally{Bt=c,Cm=!1}}return null}var Ea=[],Ma=0,dd=null,fd=0,Rr=[],Or=0,Ai=null,no=1,ro="";function Pi(i,c){Ea[Ma++]=fd,Ea[Ma++]=dd,dd=i,fd=c}function Hx(i,c,h){Rr[Or++]=no,Rr[Or++]=ro,Rr[Or++]=Ai,Ai=i;var v=no;i=ro;var _=32-Zr(v)-1;v&=~(1<<_),h+=1;var N=32-Zr(c)+_;if(30<N){var R=_-_%5;N=(v&(1<<R)-1).toString(32),v>>=R,_-=R,no=1<<32-Zr(c)+_|h<<_|v,ro=N+i}else no=1<<N|h<<_|v,ro=i}function Sm(i){i.return!==null&&(Pi(i,1),Hx(i,1,0))}function bm(i){for(;i===dd;)dd=Ea[--Ma],Ea[Ma]=null,fd=Ea[--Ma],Ea[Ma]=null;for(;i===Ai;)Ai=Rr[--Or],Rr[Or]=null,ro=Rr[--Or],Rr[Or]=null,no=Rr[--Or],Rr[Or]=null}var Tr=null,Nr=null,ln=!1,Xr=null;function Gx(i,c){var h=Ur(5,null,null,0);h.elementType="DELETED",h.stateNode=c,h.return=i,c=i.deletions,c===null?(i.deletions=[h],i.flags|=16):c.push(h)}function Yx(i,c){switch(i.tag){case 5:var h=i.type;return c=c.nodeType!==1||h.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(i.stateNode=c,Tr=i,Nr=zo(c.firstChild),!0):!1;case 6:return c=i.pendingProps===""||c.nodeType!==3?null:c,c!==null?(i.stateNode=c,Tr=i,Nr=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(h=Ai!==null?{id:no,overflow:ro}:null,i.memoizedState={dehydrated:c,treeContext:h,retryLane:1073741824},h=Ur(18,null,null,0),h.stateNode=c,h.return=i,i.child=h,Tr=i,Nr=null,!0):!1;default:return!1}}function Tm(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Nm(i){if(ln){var c=Nr;if(c){var h=c;if(!Yx(i,c)){if(Tm(i))throw Error(t(418));c=zo(h.nextSibling);var v=Tr;c&&Yx(i,c)?Gx(v,h):(i.flags=i.flags&-4097|2,ln=!1,Tr=i)}}else{if(Tm(i))throw Error(t(418));i.flags=i.flags&-4097|2,ln=!1,Tr=i}}}function qx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Tr=i}function hd(i){if(i!==Tr)return!1;if(!ln)return qx(i),ln=!0,!1;var c;if((c=i.tag!==3)&&!(c=i.tag!==5)&&(c=i.type,c=c!=="head"&&c!=="body"&&!vm(i.type,i.memoizedProps)),c&&(c=Nr)){if(Tm(i))throw Kx(),Error(t(418));for(;c;)Gx(i,c),c=zo(c.nextSibling)}if(qx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,c=0;i;){if(i.nodeType===8){var h=i.data;if(h==="/$"){if(c===0){Nr=zo(i.nextSibling);break e}c--}else h!=="$"&&h!=="$!"&&h!=="$?"||c++}i=i.nextSibling}Nr=null}}else Nr=Tr?zo(i.stateNode.nextSibling):null;return!0}function Kx(){for(var i=Nr;i;)i=zo(i.nextSibling)}function Da(){Nr=Tr=null,ln=!1}function Em(i){Xr===null?Xr=[i]:Xr.push(i)}var dM=A.ReactCurrentBatchConfig;function dc(i,c,h){if(i=h.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(h._owner){if(h=h._owner,h){if(h.tag!==1)throw Error(t(309));var v=h.stateNode}if(!v)throw Error(t(147,i));var _=v,N=""+i;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===N?c.ref:(c=function(R){var z=_.refs;R===null?delete z[N]:z[N]=R},c._stringRef=N,c)}if(typeof i!="string")throw Error(t(284));if(!h._owner)throw Error(t(290,i))}return i}function md(i,c){throw i=Object.prototype.toString.call(c),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":i))}function Jx(i){var c=i._init;return c(i._payload)}function Zx(i){function c(te,Z){if(i){var re=te.deletions;re===null?(te.deletions=[Z],te.flags|=16):re.push(Z)}}function h(te,Z){if(!i)return null;for(;Z!==null;)c(te,Z),Z=Z.sibling;return null}function v(te,Z){for(te=new Map;Z!==null;)Z.key!==null?te.set(Z.key,Z):te.set(Z.index,Z),Z=Z.sibling;return te}function _(te,Z){return te=ei(te,Z),te.index=0,te.sibling=null,te}function N(te,Z,re){return te.index=re,i?(re=te.alternate,re!==null?(re=re.index,re<Z?(te.flags|=2,Z):re):(te.flags|=2,Z)):(te.flags|=1048576,Z)}function R(te){return i&&te.alternate===null&&(te.flags|=2),te}function z(te,Z,re,Ce){return Z===null||Z.tag!==6?(Z=xp(re,te.mode,Ce),Z.return=te,Z):(Z=_(Z,re),Z.return=te,Z)}function K(te,Z,re,Ce){var ze=re.type;return ze===L?ve(te,Z,re.props.children,Ce,re.key):Z!==null&&(Z.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===me&&Jx(ze)===Z.type)?(Ce=_(Z,re.props),Ce.ref=dc(te,Z,re),Ce.return=te,Ce):(Ce=Fd(re.type,re.key,re.props,null,te.mode,Ce),Ce.ref=dc(te,Z,re),Ce.return=te,Ce)}function ie(te,Z,re,Ce){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==re.containerInfo||Z.stateNode.implementation!==re.implementation?(Z=wp(re,te.mode,Ce),Z.return=te,Z):(Z=_(Z,re.children||[]),Z.return=te,Z)}function ve(te,Z,re,Ce,ze){return Z===null||Z.tag!==7?(Z=Bi(re,te.mode,Ce,ze),Z.return=te,Z):(Z=_(Z,re),Z.return=te,Z)}function we(te,Z,re){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return Z=xp(""+Z,te.mode,re),Z.return=te,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:return re=Fd(Z.type,Z.key,Z.props,null,te.mode,re),re.ref=dc(te,null,Z),re.return=te,re;case O:return Z=wp(Z,te.mode,re),Z.return=te,Z;case me:var Ce=Z._init;return we(te,Ce(Z._payload),re)}if(Pn(Z)||H(Z))return Z=Bi(Z,te.mode,re,null),Z.return=te,Z;md(te,Z)}return null}function ge(te,Z,re,Ce){var ze=Z!==null?Z.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return ze!==null?null:z(te,Z,""+re,Ce);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case D:return re.key===ze?K(te,Z,re,Ce):null;case O:return re.key===ze?ie(te,Z,re,Ce):null;case me:return ze=re._init,ge(te,Z,ze(re._payload),Ce)}if(Pn(re)||H(re))return ze!==null?null:ve(te,Z,re,Ce,null);md(te,re)}return null}function De(te,Z,re,Ce,ze){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return te=te.get(re)||null,z(Z,te,""+Ce,ze);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case D:return te=te.get(Ce.key===null?re:Ce.key)||null,K(Z,te,Ce,ze);case O:return te=te.get(Ce.key===null?re:Ce.key)||null,ie(Z,te,Ce,ze);case me:var Qe=Ce._init;return De(te,Z,re,Qe(Ce._payload),ze)}if(Pn(Ce)||H(Ce))return te=te.get(re)||null,ve(Z,te,Ce,ze,null);md(Z,Ce)}return null}function Re(te,Z,re,Ce){for(var ze=null,Qe=null,Xe=Z,rt=Z=0,Ln=null;Xe!==null&&rt<re.length;rt++){Xe.index>rt?(Ln=Xe,Xe=null):Ln=Xe.sibling;var It=ge(te,Xe,re[rt],Ce);if(It===null){Xe===null&&(Xe=Ln);break}i&&Xe&&It.alternate===null&&c(te,Xe),Z=N(It,Z,rt),Qe===null?ze=It:Qe.sibling=It,Qe=It,Xe=Ln}if(rt===re.length)return h(te,Xe),ln&&Pi(te,rt),ze;if(Xe===null){for(;rt<re.length;rt++)Xe=we(te,re[rt],Ce),Xe!==null&&(Z=N(Xe,Z,rt),Qe===null?ze=Xe:Qe.sibling=Xe,Qe=Xe);return ln&&Pi(te,rt),ze}for(Xe=v(te,Xe);rt<re.length;rt++)Ln=De(Xe,te,rt,re[rt],Ce),Ln!==null&&(i&&Ln.alternate!==null&&Xe.delete(Ln.key===null?rt:Ln.key),Z=N(Ln,Z,rt),Qe===null?ze=Ln:Qe.sibling=Ln,Qe=Ln);return i&&Xe.forEach(function(ti){return c(te,ti)}),ln&&Pi(te,rt),ze}function Ve(te,Z,re,Ce){var ze=H(re);if(typeof ze!="function")throw Error(t(150));if(re=ze.call(re),re==null)throw Error(t(151));for(var Qe=ze=null,Xe=Z,rt=Z=0,Ln=null,It=re.next();Xe!==null&&!It.done;rt++,It=re.next()){Xe.index>rt?(Ln=Xe,Xe=null):Ln=Xe.sibling;var ti=ge(te,Xe,It.value,Ce);if(ti===null){Xe===null&&(Xe=Ln);break}i&&Xe&&ti.alternate===null&&c(te,Xe),Z=N(ti,Z,rt),Qe===null?ze=ti:Qe.sibling=ti,Qe=ti,Xe=Ln}if(It.done)return h(te,Xe),ln&&Pi(te,rt),ze;if(Xe===null){for(;!It.done;rt++,It=re.next())It=we(te,It.value,Ce),It!==null&&(Z=N(It,Z,rt),Qe===null?ze=It:Qe.sibling=It,Qe=It);return ln&&Pi(te,rt),ze}for(Xe=v(te,Xe);!It.done;rt++,It=re.next())It=De(Xe,te,rt,It.value,Ce),It!==null&&(i&&It.alternate!==null&&Xe.delete(It.key===null?rt:It.key),Z=N(It,Z,rt),Qe===null?ze=It:Qe.sibling=It,Qe=It);return i&&Xe.forEach(function(WM){return c(te,WM)}),ln&&Pi(te,rt),ze}function kn(te,Z,re,Ce){if(typeof re=="object"&&re!==null&&re.type===L&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case D:e:{for(var ze=re.key,Qe=Z;Qe!==null;){if(Qe.key===ze){if(ze=re.type,ze===L){if(Qe.tag===7){h(te,Qe.sibling),Z=_(Qe,re.props.children),Z.return=te,te=Z;break e}}else if(Qe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===me&&Jx(ze)===Qe.type){h(te,Qe.sibling),Z=_(Qe,re.props),Z.ref=dc(te,Qe,re),Z.return=te,te=Z;break e}h(te,Qe);break}else c(te,Qe);Qe=Qe.sibling}re.type===L?(Z=Bi(re.props.children,te.mode,Ce,re.key),Z.return=te,te=Z):(Ce=Fd(re.type,re.key,re.props,null,te.mode,Ce),Ce.ref=dc(te,Z,re),Ce.return=te,te=Ce)}return R(te);case O:e:{for(Qe=re.key;Z!==null;){if(Z.key===Qe)if(Z.tag===4&&Z.stateNode.containerInfo===re.containerInfo&&Z.stateNode.implementation===re.implementation){h(te,Z.sibling),Z=_(Z,re.children||[]),Z.return=te,te=Z;break e}else{h(te,Z);break}else c(te,Z);Z=Z.sibling}Z=wp(re,te.mode,Ce),Z.return=te,te=Z}return R(te);case me:return Qe=re._init,kn(te,Z,Qe(re._payload),Ce)}if(Pn(re))return Re(te,Z,re,Ce);if(H(re))return Ve(te,Z,re,Ce);md(te,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,Z!==null&&Z.tag===6?(h(te,Z.sibling),Z=_(Z,re),Z.return=te,te=Z):(h(te,Z),Z=xp(re,te.mode,Ce),Z.return=te,te=Z),R(te)):h(te,Z)}return kn}var Ia=Zx(!0),Qx=Zx(!1),pd=Wo(null),gd=null,ja=null,Mm=null;function Dm(){Mm=ja=gd=null}function Im(i){var c=pd.current;Xt(pd),i._currentValue=c}function jm(i,c,h){for(;i!==null;){var v=i.alternate;if((i.childLanes&c)!==c?(i.childLanes|=c,v!==null&&(v.childLanes|=c)):v!==null&&(v.childLanes&c)!==c&&(v.childLanes|=c),i===h)break;i=i.return}}function Aa(i,c){gd=i,Mm=ja=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&c)!==0&&(fr=!0),i.firstContext=null)}function Lr(i){var c=i._currentValue;if(Mm!==i)if(i={context:i,memoizedValue:c,next:null},ja===null){if(gd===null)throw Error(t(308));ja=i,gd.dependencies={lanes:0,firstContext:i}}else ja=ja.next=i;return c}var Ri=null;function Am(i){Ri===null?Ri=[i]:Ri.push(i)}function Xx(i,c,h,v){var _=c.interleaved;return _===null?(h.next=h,Am(c)):(h.next=_.next,_.next=h),c.interleaved=h,so(i,v)}function so(i,c){i.lanes|=c;var h=i.alternate;for(h!==null&&(h.lanes|=c),h=i,i=i.return;i!==null;)i.childLanes|=c,h=i.alternate,h!==null&&(h.childLanes|=c),h=i,i=i.return;return h.tag===3?h.stateNode:null}var Yo=!1;function Pm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e0(i,c){i=i.updateQueue,c.updateQueue===i&&(c.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function oo(i,c){return{eventTime:i,lane:c,tag:0,payload:null,callback:null,next:null}}function qo(i,c,h){var v=i.updateQueue;if(v===null)return null;if(v=v.shared,(Et&2)!==0){var _=v.pending;return _===null?c.next=c:(c.next=_.next,_.next=c),v.pending=c,so(i,h)}return _=v.interleaved,_===null?(c.next=c,Am(v)):(c.next=_.next,_.next=c),v.interleaved=c,so(i,h)}function yd(i,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194240)!==0)){var v=c.lanes;v&=i.pendingLanes,h|=v,c.lanes=h,qh(i,h)}}function t0(i,c){var h=i.updateQueue,v=i.alternate;if(v!==null&&(v=v.updateQueue,h===v)){var _=null,N=null;if(h=h.firstBaseUpdate,h!==null){do{var R={eventTime:h.eventTime,lane:h.lane,tag:h.tag,payload:h.payload,callback:h.callback,next:null};N===null?_=N=R:N=N.next=R,h=h.next}while(h!==null);N===null?_=N=c:N=N.next=c}else _=N=c;h={baseState:v.baseState,firstBaseUpdate:_,lastBaseUpdate:N,shared:v.shared,effects:v.effects},i.updateQueue=h;return}i=h.lastBaseUpdate,i===null?h.firstBaseUpdate=c:i.next=c,h.lastBaseUpdate=c}function vd(i,c,h,v){var _=i.updateQueue;Yo=!1;var N=_.firstBaseUpdate,R=_.lastBaseUpdate,z=_.shared.pending;if(z!==null){_.shared.pending=null;var K=z,ie=K.next;K.next=null,R===null?N=ie:R.next=ie,R=K;var ve=i.alternate;ve!==null&&(ve=ve.updateQueue,z=ve.lastBaseUpdate,z!==R&&(z===null?ve.firstBaseUpdate=ie:z.next=ie,ve.lastBaseUpdate=K))}if(N!==null){var we=_.baseState;R=0,ve=ie=K=null,z=N;do{var ge=z.lane,De=z.eventTime;if((v&ge)===ge){ve!==null&&(ve=ve.next={eventTime:De,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Re=i,Ve=z;switch(ge=c,De=h,Ve.tag){case 1:if(Re=Ve.payload,typeof Re=="function"){we=Re.call(De,we,ge);break e}we=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Ve.payload,ge=typeof Re=="function"?Re.call(De,we,ge):Re,ge==null)break e;we=$({},we,ge);break e;case 2:Yo=!0}}z.callback!==null&&z.lane!==0&&(i.flags|=64,ge=_.effects,ge===null?_.effects=[z]:ge.push(z))}else De={eventTime:De,lane:ge,tag:z.tag,payload:z.payload,callback:z.callback,next:null},ve===null?(ie=ve=De,K=we):ve=ve.next=De,R|=ge;if(z=z.next,z===null){if(z=_.shared.pending,z===null)break;ge=z,z=ge.next,ge.next=null,_.lastBaseUpdate=ge,_.shared.pending=null}}while(!0);if(ve===null&&(K=we),_.baseState=K,_.firstBaseUpdate=ie,_.lastBaseUpdate=ve,c=_.shared.interleaved,c!==null){_=c;do R|=_.lane,_=_.next;while(_!==c)}else N===null&&(_.shared.lanes=0);Fi|=R,i.lanes=R,i.memoizedState=we}}function n0(i,c,h){if(i=c.effects,c.effects=null,i!==null)for(c=0;c<i.length;c++){var v=i[c],_=v.callback;if(_!==null){if(v.callback=null,v=h,typeof _!="function")throw Error(t(191,_));_.call(v)}}}var fc={},Es=Wo(fc),hc=Wo(fc),mc=Wo(fc);function Oi(i){if(i===fc)throw Error(t(174));return i}function Rm(i,c){switch(Kt(mc,c),Kt(hc,i),Kt(Es,fc),i=c.nodeType,i){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Kr(null,"");break;default:i=i===8?c.parentNode:c,c=i.namespaceURI||null,i=i.tagName,c=Kr(c,i)}Xt(Es),Kt(Es,c)}function Pa(){Xt(Es),Xt(hc),Xt(mc)}function r0(i){Oi(mc.current);var c=Oi(Es.current),h=Kr(c,i.type);c!==h&&(Kt(hc,i),Kt(Es,h))}function Om(i){hc.current===i&&(Xt(Es),Xt(hc))}var hn=Wo(0);function xd(i){for(var c=i;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||h.data==="$?"||h.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Lm=[];function Fm(){for(var i=0;i<Lm.length;i++)Lm[i]._workInProgressVersionPrimary=null;Lm.length=0}var wd=A.ReactCurrentDispatcher,$m=A.ReactCurrentBatchConfig,Li=0,mn=null,Dn=null,Rn=null,_d=!1,pc=!1,gc=0,fM=0;function Gn(){throw Error(t(321))}function Um(i,c){if(c===null)return!1;for(var h=0;h<c.length&&h<i.length;h++)if(!Qr(i[h],c[h]))return!1;return!0}function Vm(i,c,h,v,_,N){if(Li=N,mn=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,wd.current=i===null||i.memoizedState===null?gM:yM,i=h(v,_),pc){N=0;do{if(pc=!1,gc=0,25<=N)throw Error(t(301));N+=1,Rn=Dn=null,c.updateQueue=null,wd.current=vM,i=h(v,_)}while(pc)}if(wd.current=Sd,c=Dn!==null&&Dn.next!==null,Li=0,Rn=Dn=mn=null,_d=!1,c)throw Error(t(300));return i}function Bm(){var i=gc!==0;return gc=0,i}function Ms(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rn===null?mn.memoizedState=Rn=i:Rn=Rn.next=i,Rn}function Fr(){if(Dn===null){var i=mn.alternate;i=i!==null?i.memoizedState:null}else i=Dn.next;var c=Rn===null?mn.memoizedState:Rn.next;if(c!==null)Rn=c,Dn=i;else{if(i===null)throw Error(t(310));Dn=i,i={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Rn===null?mn.memoizedState=Rn=i:Rn=Rn.next=i}return Rn}function yc(i,c){return typeof c=="function"?c(i):c}function zm(i){var c=Fr(),h=c.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var v=Dn,_=v.baseQueue,N=h.pending;if(N!==null){if(_!==null){var R=_.next;_.next=N.next,N.next=R}v.baseQueue=_=N,h.pending=null}if(_!==null){N=_.next,v=v.baseState;var z=R=null,K=null,ie=N;do{var ve=ie.lane;if((Li&ve)===ve)K!==null&&(K=K.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),v=ie.hasEagerState?ie.eagerState:i(v,ie.action);else{var we={lane:ve,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};K===null?(z=K=we,R=v):K=K.next=we,mn.lanes|=ve,Fi|=ve}ie=ie.next}while(ie!==null&&ie!==N);K===null?R=v:K.next=z,Qr(v,c.memoizedState)||(fr=!0),c.memoizedState=v,c.baseState=R,c.baseQueue=K,h.lastRenderedState=v}if(i=h.interleaved,i!==null){_=i;do N=_.lane,mn.lanes|=N,Fi|=N,_=_.next;while(_!==i)}else _===null&&(h.lanes=0);return[c.memoizedState,h.dispatch]}function Wm(i){var c=Fr(),h=c.queue;if(h===null)throw Error(t(311));h.lastRenderedReducer=i;var v=h.dispatch,_=h.pending,N=c.memoizedState;if(_!==null){h.pending=null;var R=_=_.next;do N=i(N,R.action),R=R.next;while(R!==_);Qr(N,c.memoizedState)||(fr=!0),c.memoizedState=N,c.baseQueue===null&&(c.baseState=N),h.lastRenderedState=N}return[N,v]}function s0(){}function o0(i,c){var h=mn,v=Fr(),_=c(),N=!Qr(v.memoizedState,_);if(N&&(v.memoizedState=_,fr=!0),v=v.queue,Hm(l0.bind(null,h,v,i),[i]),v.getSnapshot!==c||N||Rn!==null&&Rn.memoizedState.tag&1){if(h.flags|=2048,vc(9,a0.bind(null,h,v,_,c),void 0,null),On===null)throw Error(t(349));(Li&30)!==0||i0(h,c,_)}return _}function i0(i,c,h){i.flags|=16384,i={getSnapshot:c,value:h},c=mn.updateQueue,c===null?(c={lastEffect:null,stores:null},mn.updateQueue=c,c.stores=[i]):(h=c.stores,h===null?c.stores=[i]:h.push(i))}function a0(i,c,h,v){c.value=h,c.getSnapshot=v,c0(c)&&u0(i)}function l0(i,c,h){return h(function(){c0(c)&&u0(i)})}function c0(i){var c=i.getSnapshot;i=i.value;try{var h=c();return!Qr(i,h)}catch(v){return!0}}function u0(i){var c=so(i,1);c!==null&&rs(c,i,1,-1)}function d0(i){var c=Ms();return typeof i=="function"&&(i=i()),c.memoizedState=c.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yc,lastRenderedState:i},c.queue=i,i=i.dispatch=pM.bind(null,mn,i),[c.memoizedState,i]}function vc(i,c,h,v){return i={tag:i,create:c,destroy:h,deps:v,next:null},c=mn.updateQueue,c===null?(c={lastEffect:null,stores:null},mn.updateQueue=c,c.lastEffect=i.next=i):(h=c.lastEffect,h===null?c.lastEffect=i.next=i:(v=h.next,h.next=i,i.next=v,c.lastEffect=i)),i}function f0(){return Fr().memoizedState}function kd(i,c,h,v){var _=Ms();mn.flags|=i,_.memoizedState=vc(1|c,h,void 0,v===void 0?null:v)}function Cd(i,c,h,v){var _=Fr();v=v===void 0?null:v;var N=void 0;if(Dn!==null){var R=Dn.memoizedState;if(N=R.destroy,v!==null&&Um(v,R.deps)){_.memoizedState=vc(c,h,N,v);return}}mn.flags|=i,_.memoizedState=vc(1|c,h,N,v)}function h0(i,c){return kd(8390656,8,i,c)}function Hm(i,c){return Cd(2048,8,i,c)}function m0(i,c){return Cd(4,2,i,c)}function p0(i,c){return Cd(4,4,i,c)}function g0(i,c){if(typeof c=="function")return i=i(),c(i),function(){c(null)};if(c!=null)return i=i(),c.current=i,function(){c.current=null}}function y0(i,c,h){return h=h!=null?h.concat([i]):null,Cd(4,4,g0.bind(null,c,i),h)}function Gm(){}function v0(i,c){var h=Fr();c=c===void 0?null:c;var v=h.memoizedState;return v!==null&&c!==null&&Um(c,v[1])?v[0]:(h.memoizedState=[i,c],i)}function x0(i,c){var h=Fr();c=c===void 0?null:c;var v=h.memoizedState;return v!==null&&c!==null&&Um(c,v[1])?v[0]:(i=i(),h.memoizedState=[i,c],i)}function w0(i,c,h){return(Li&21)===0?(i.baseState&&(i.baseState=!1,fr=!0),i.memoizedState=h):(Qr(h,c)||(h=Jv(),mn.lanes|=h,Fi|=h,i.baseState=!0),c)}function hM(i,c){var h=Bt;Bt=h!==0&&4>h?h:4,i(!0);var v=$m.transition;$m.transition={};try{i(!1),c()}finally{Bt=h,$m.transition=v}}function _0(){return Fr().memoizedState}function mM(i,c,h){var v=Qo(i);if(h={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null},k0(i))C0(c,h);else if(h=Xx(i,c,h,v),h!==null){var _=rr();rs(h,i,v,_),S0(h,c,v)}}function pM(i,c,h){var v=Qo(i),_={lane:v,action:h,hasEagerState:!1,eagerState:null,next:null};if(k0(i))C0(c,_);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=c.lastRenderedReducer,N!==null))try{var R=c.lastRenderedState,z=N(R,h);if(_.hasEagerState=!0,_.eagerState=z,Qr(z,R)){var K=c.interleaved;K===null?(_.next=_,Am(c)):(_.next=K.next,K.next=_),c.interleaved=_;return}}catch(ie){}finally{}h=Xx(i,c,_,v),h!==null&&(_=rr(),rs(h,i,v,_),S0(h,c,v))}}function k0(i){var c=i.alternate;return i===mn||c!==null&&c===mn}function C0(i,c){pc=_d=!0;var h=i.pending;h===null?c.next=c:(c.next=h.next,h.next=c),i.pending=c}function S0(i,c,h){if((h&4194240)!==0){var v=c.lanes;v&=i.pendingLanes,h|=v,c.lanes=h,qh(i,h)}}var Sd={readContext:Lr,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},gM={readContext:Lr,useCallback:function(i,c){return Ms().memoizedState=[i,c===void 0?null:c],i},useContext:Lr,useEffect:h0,useImperativeHandle:function(i,c,h){return h=h!=null?h.concat([i]):null,kd(4194308,4,g0.bind(null,c,i),h)},useLayoutEffect:function(i,c){return kd(4194308,4,i,c)},useInsertionEffect:function(i,c){return kd(4,2,i,c)},useMemo:function(i,c){var h=Ms();return c=c===void 0?null:c,i=i(),h.memoizedState=[i,c],i},useReducer:function(i,c,h){var v=Ms();return c=h!==void 0?h(c):c,v.memoizedState=v.baseState=c,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:c},v.queue=i,i=i.dispatch=mM.bind(null,mn,i),[v.memoizedState,i]},useRef:function(i){var c=Ms();return i={current:i},c.memoizedState=i},useState:d0,useDebugValue:Gm,useDeferredValue:function(i){return Ms().memoizedState=i},useTransition:function(){var i=d0(!1),c=i[0];return i=hM.bind(null,i[1]),Ms().memoizedState=i,[c,i]},useMutableSource:function(){},useSyncExternalStore:function(i,c,h){var v=mn,_=Ms();if(ln){if(h===void 0)throw Error(t(407));h=h()}else{if(h=c(),On===null)throw Error(t(349));(Li&30)!==0||i0(v,c,h)}_.memoizedState=h;var N={value:h,getSnapshot:c};return _.queue=N,h0(l0.bind(null,v,N,i),[i]),v.flags|=2048,vc(9,a0.bind(null,v,N,h,c),void 0,null),h},useId:function(){var i=Ms(),c=On.identifierPrefix;if(ln){var h=ro,v=no;h=(v&~(1<<32-Zr(v)-1)).toString(32)+h,c=":"+c+"R"+h,h=gc++,0<h&&(c+="H"+h.toString(32)),c+=":"}else h=fM++,c=":"+c+"r"+h.toString(32)+":";return i.memoizedState=c},unstable_isNewReconciler:!1},yM={readContext:Lr,useCallback:v0,useContext:Lr,useEffect:Hm,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:p0,useMemo:x0,useReducer:zm,useRef:f0,useState:function(){return zm(yc)},useDebugValue:Gm,useDeferredValue:function(i){var c=Fr();return w0(c,Dn.memoizedState,i)},useTransition:function(){var i=zm(yc)[0],c=Fr().memoizedState;return[i,c]},useMutableSource:s0,useSyncExternalStore:o0,useId:_0,unstable_isNewReconciler:!1},vM={readContext:Lr,useCallback:v0,useContext:Lr,useEffect:Hm,useImperativeHandle:y0,useInsertionEffect:m0,useLayoutEffect:p0,useMemo:x0,useReducer:Wm,useRef:f0,useState:function(){return Wm(yc)},useDebugValue:Gm,useDeferredValue:function(i){var c=Fr();return Dn===null?c.memoizedState=i:w0(c,Dn.memoizedState,i)},useTransition:function(){var i=Wm(yc)[0],c=Fr().memoizedState;return[i,c]},useMutableSource:s0,useSyncExternalStore:o0,useId:_0,unstable_isNewReconciler:!1};function es(i,c){if(i&&i.defaultProps){c=$({},c),i=i.defaultProps;for(var h in i)c[h]===void 0&&(c[h]=i[h]);return c}return c}function Ym(i,c,h,v){c=i.memoizedState,h=h(v,c),h=h==null?c:$({},c,h),i.memoizedState=h,i.lanes===0&&(i.updateQueue.baseState=h)}var bd={isMounted:function(i){return(i=i._reactInternals)?Ze(i)===i:!1},enqueueSetState:function(i,c,h){i=i._reactInternals;var v=rr(),_=Qo(i),N=oo(v,_);N.payload=c,h!=null&&(N.callback=h),c=qo(i,N,_),c!==null&&(rs(c,i,_,v),yd(c,i,_))},enqueueReplaceState:function(i,c,h){i=i._reactInternals;var v=rr(),_=Qo(i),N=oo(v,_);N.tag=1,N.payload=c,h!=null&&(N.callback=h),c=qo(i,N,_),c!==null&&(rs(c,i,_,v),yd(c,i,_))},enqueueForceUpdate:function(i,c){i=i._reactInternals;var h=rr(),v=Qo(i),_=oo(h,v);_.tag=2,c!=null&&(_.callback=c),c=qo(i,_,v),c!==null&&(rs(c,i,v,h),yd(c,i,v))}};function b0(i,c,h,v,_,N,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(v,N,R):c.prototype&&c.prototype.isPureReactComponent?!sc(h,v)||!sc(_,N):!0}function T0(i,c,h){var v=!1,_=Ho,N=c.contextType;return typeof N=="object"&&N!==null?N=Lr(N):(_=dr(c)?ji:Hn.current,v=c.contextTypes,N=(v=v!=null)?Na(i,_):Ho),c=new c(h,N),i.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=bd,i.stateNode=c,c._reactInternals=i,v&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=_,i.__reactInternalMemoizedMaskedChildContext=N),c}function N0(i,c,h,v){i=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,v),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,v),c.state!==i&&bd.enqueueReplaceState(c,c.state,null)}function qm(i,c,h,v){var _=i.stateNode;_.props=h,_.state=i.memoizedState,_.refs={},Pm(i);var N=c.contextType;typeof N=="object"&&N!==null?_.context=Lr(N):(N=dr(c)?ji:Hn.current,_.context=Na(i,N)),_.state=i.memoizedState,N=c.getDerivedStateFromProps,typeof N=="function"&&(Ym(i,c,N,h),_.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(c=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),c!==_.state&&bd.enqueueReplaceState(_,_.state,null),vd(i,h,_,v),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308)}function Ra(i,c){try{var h="",v=c;do h+=G(v),v=v.return;while(v);var _=h}catch(N){_=`
Error generating stack: `+N.message+`
`+N.stack}return{value:i,source:c,stack:_,digest:null}}function Km(i,c,h){return{value:i,source:null,stack:h!=null?h:null,digest:c!=null?c:null}}function Jm(i,c){try{console.error(c.value)}catch(h){setTimeout(function(){throw h})}}var xM=typeof WeakMap=="function"?WeakMap:Map;function E0(i,c,h){h=oo(-1,h),h.tag=3,h.payload={element:null};var v=c.value;return h.callback=function(){jd||(jd=!0,dp=v),Jm(i,c)},h}function M0(i,c,h){h=oo(-1,h),h.tag=3;var v=i.type.getDerivedStateFromError;if(typeof v=="function"){var _=c.value;h.payload=function(){return v(_)},h.callback=function(){Jm(i,c)}}var N=i.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(h.callback=function(){Jm(i,c),typeof v!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})}),h}function D0(i,c,h){var v=i.pingCache;if(v===null){v=i.pingCache=new xM;var _=new Set;v.set(c,_)}else _=v.get(c),_===void 0&&(_=new Set,v.set(c,_));_.has(h)||(_.add(h),i=AM.bind(null,i,c,h),c.then(i,i))}function I0(i){do{var c;if((c=i.tag===13)&&(c=i.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return i;i=i.return}while(i!==null);return null}function j0(i,c,h,v,_){return(i.mode&1)===0?(i===c?i.flags|=65536:(i.flags|=128,h.flags|=131072,h.flags&=-52805,h.tag===1&&(h.alternate===null?h.tag=17:(c=oo(-1,1),c.tag=2,qo(h,c,1))),h.lanes|=1),i):(i.flags|=65536,i.lanes=_,i)}var wM=A.ReactCurrentOwner,fr=!1;function nr(i,c,h,v){c.child=i===null?Qx(c,null,h,v):Ia(c,i.child,h,v)}function A0(i,c,h,v,_){h=h.render;var N=c.ref;return Aa(c,_),v=Vm(i,c,h,v,N,_),h=Bm(),i!==null&&!fr?(c.updateQueue=i.updateQueue,c.flags&=-2053,i.lanes&=~_,io(i,c,_)):(ln&&h&&Sm(c),c.flags|=1,nr(i,c,v,_),c.child)}function P0(i,c,h,v,_){if(i===null){var N=h.type;return typeof N=="function"&&!vp(N)&&N.defaultProps===void 0&&h.compare===null&&h.defaultProps===void 0?(c.tag=15,c.type=N,R0(i,c,N,v,_)):(i=Fd(h.type,null,v,c,c.mode,_),i.ref=c.ref,i.return=c,c.child=i)}if(N=i.child,(i.lanes&_)===0){var R=N.memoizedProps;if(h=h.compare,h=h!==null?h:sc,h(R,v)&&i.ref===c.ref)return io(i,c,_)}return c.flags|=1,i=ei(N,v),i.ref=c.ref,i.return=c,c.child=i}function R0(i,c,h,v,_){if(i!==null){var N=i.memoizedProps;if(sc(N,v)&&i.ref===c.ref)if(fr=!1,c.pendingProps=v=N,(i.lanes&_)!==0)(i.flags&131072)!==0&&(fr=!0);else return c.lanes=i.lanes,io(i,c,_)}return Zm(i,c,h,v,_)}function O0(i,c,h){var v=c.pendingProps,_=v.children,N=i!==null?i.memoizedState:null;if(v.mode==="hidden")if((c.mode&1)===0)c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kt(La,Er),Er|=h;else{if((h&1073741824)===0)return i=N!==null?N.baseLanes|h:h,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:i,cachePool:null,transitions:null},c.updateQueue=null,Kt(La,Er),Er|=i,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=N!==null?N.baseLanes:h,Kt(La,Er),Er|=v}else N!==null?(v=N.baseLanes|h,c.memoizedState=null):v=h,Kt(La,Er),Er|=v;return nr(i,c,_,h),c.child}function L0(i,c){var h=c.ref;(i===null&&h!==null||i!==null&&i.ref!==h)&&(c.flags|=512,c.flags|=2097152)}function Zm(i,c,h,v,_){var N=dr(h)?ji:Hn.current;return N=Na(c,N),Aa(c,_),h=Vm(i,c,h,v,N,_),v=Bm(),i!==null&&!fr?(c.updateQueue=i.updateQueue,c.flags&=-2053,i.lanes&=~_,io(i,c,_)):(ln&&v&&Sm(c),c.flags|=1,nr(i,c,h,_),c.child)}function F0(i,c,h,v,_){if(dr(h)){var N=!0;cd(c)}else N=!1;if(Aa(c,_),c.stateNode===null)Nd(i,c),T0(c,h,v),qm(c,h,v,_),v=!0;else if(i===null){var R=c.stateNode,z=c.memoizedProps;R.props=z;var K=R.context,ie=h.contextType;typeof ie=="object"&&ie!==null?ie=Lr(ie):(ie=dr(h)?ji:Hn.current,ie=Na(c,ie));var ve=h.getDerivedStateFromProps,we=typeof ve=="function"||typeof R.getSnapshotBeforeUpdate=="function";we||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(z!==v||K!==ie)&&N0(c,R,v,ie),Yo=!1;var ge=c.memoizedState;R.state=ge,vd(c,v,R,_),K=c.memoizedState,z!==v||ge!==K||ur.current||Yo?(typeof ve=="function"&&(Ym(c,h,ve,v),K=c.memoizedState),(z=Yo||b0(c,h,z,v,ge,K,ie))?(we||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(c.flags|=4194308)):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=v,c.memoizedState=K),R.props=v,R.state=K,R.context=ie,v=z):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),v=!1)}else{R=c.stateNode,e0(i,c),z=c.memoizedProps,ie=c.type===c.elementType?z:es(c.type,z),R.props=ie,we=c.pendingProps,ge=R.context,K=h.contextType,typeof K=="object"&&K!==null?K=Lr(K):(K=dr(h)?ji:Hn.current,K=Na(c,K));var De=h.getDerivedStateFromProps;(ve=typeof De=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(z!==we||ge!==K)&&N0(c,R,v,K),Yo=!1,ge=c.memoizedState,R.state=ge,vd(c,v,R,_);var Re=c.memoizedState;z!==we||ge!==Re||ur.current||Yo?(typeof De=="function"&&(Ym(c,h,De,v),Re=c.memoizedState),(ie=Yo||b0(c,h,ie,v,ge,Re,K)||!1)?(ve||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(v,Re,K),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(v,Re,K)),typeof R.componentDidUpdate=="function"&&(c.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof R.componentDidUpdate!="function"||z===i.memoizedProps&&ge===i.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ge===i.memoizedState||(c.flags|=1024),c.memoizedProps=v,c.memoizedState=Re),R.props=v,R.state=Re,R.context=K,v=ie):(typeof R.componentDidUpdate!="function"||z===i.memoizedProps&&ge===i.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||z===i.memoizedProps&&ge===i.memoizedState||(c.flags|=1024),v=!1)}return Qm(i,c,h,v,N,_)}function Qm(i,c,h,v,_,N){L0(i,c);var R=(c.flags&128)!==0;if(!v&&!R)return _&&zx(c,h,!1),io(i,c,N);v=c.stateNode,wM.current=c;var z=R&&typeof h.getDerivedStateFromError!="function"?null:v.render();return c.flags|=1,i!==null&&R?(c.child=Ia(c,i.child,null,N),c.child=Ia(c,null,z,N)):nr(i,c,z,N),c.memoizedState=v.state,_&&zx(c,h,!0),c.child}function $0(i){var c=i.stateNode;c.pendingContext?Vx(i,c.pendingContext,c.pendingContext!==c.context):c.context&&Vx(i,c.context,!1),Rm(i,c.containerInfo)}function U0(i,c,h,v,_){return Da(),Em(_),c.flags|=256,nr(i,c,h,v),c.child}var Xm={dehydrated:null,treeContext:null,retryLane:0};function ep(i){return{baseLanes:i,cachePool:null,transitions:null}}function V0(i,c,h){var v=c.pendingProps,_=hn.current,N=!1,R=(c.flags&128)!==0,z;if((z=R)||(z=i!==null&&i.memoizedState===null?!1:(_&2)!==0),z?(N=!0,c.flags&=-129):(i===null||i.memoizedState!==null)&&(_|=1),Kt(hn,_&1),i===null)return Nm(c),i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((c.mode&1)===0?c.lanes=1:i.data==="$!"?c.lanes=8:c.lanes=1073741824,null):(R=v.children,i=v.fallback,N?(v=c.mode,N=c.child,R={mode:"hidden",children:R},(v&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=R):N=$d(R,v,0,null),i=Bi(i,v,h,null),N.return=c,i.return=c,N.sibling=i,c.child=N,c.child.memoizedState=ep(h),c.memoizedState=Xm,i):tp(c,R));if(_=i.memoizedState,_!==null&&(z=_.dehydrated,z!==null))return _M(i,c,R,v,z,_,h);if(N){N=v.fallback,R=c.mode,_=i.child,z=_.sibling;var K={mode:"hidden",children:v.children};return(R&1)===0&&c.child!==_?(v=c.child,v.childLanes=0,v.pendingProps=K,c.deletions=null):(v=ei(_,K),v.subtreeFlags=_.subtreeFlags&14680064),z!==null?N=ei(z,N):(N=Bi(N,R,h,null),N.flags|=2),N.return=c,v.return=c,v.sibling=N,c.child=v,v=N,N=c.child,R=i.child.memoizedState,R=R===null?ep(h):{baseLanes:R.baseLanes|h,cachePool:null,transitions:R.transitions},N.memoizedState=R,N.childLanes=i.childLanes&~h,c.memoizedState=Xm,v}return N=i.child,i=N.sibling,v=ei(N,{mode:"visible",children:v.children}),(c.mode&1)===0&&(v.lanes=h),v.return=c,v.sibling=null,i!==null&&(h=c.deletions,h===null?(c.deletions=[i],c.flags|=16):h.push(i)),c.child=v,c.memoizedState=null,v}function tp(i,c){return c=$d({mode:"visible",children:c},i.mode,0,null),c.return=i,i.child=c}function Td(i,c,h,v){return v!==null&&Em(v),Ia(c,i.child,null,h),i=tp(c,c.pendingProps.children),i.flags|=2,c.memoizedState=null,i}function _M(i,c,h,v,_,N,R){if(h)return c.flags&256?(c.flags&=-257,v=Km(Error(t(422))),Td(i,c,R,v)):c.memoizedState!==null?(c.child=i.child,c.flags|=128,null):(N=v.fallback,_=c.mode,v=$d({mode:"visible",children:v.children},_,0,null),N=Bi(N,_,R,null),N.flags|=2,v.return=c,N.return=c,v.sibling=N,c.child=v,(c.mode&1)!==0&&Ia(c,i.child,null,R),c.child.memoizedState=ep(R),c.memoizedState=Xm,N);if((c.mode&1)===0)return Td(i,c,R,null);if(_.data==="$!"){if(v=_.nextSibling&&_.nextSibling.dataset,v)var z=v.dgst;return v=z,N=Error(t(419)),v=Km(N,v,void 0),Td(i,c,R,v)}if(z=(R&i.childLanes)!==0,fr||z){if(v=On,v!==null){switch(R&-R){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(v.suspendedLanes|R))!==0?0:_,_!==0&&_!==N.retryLane&&(N.retryLane=_,so(i,_),rs(v,i,_,-1))}return yp(),v=Km(Error(t(421))),Td(i,c,R,v)}return _.data==="$?"?(c.flags|=128,c.child=i.child,c=PM.bind(null,i),_._reactRetry=c,null):(i=N.treeContext,Nr=zo(_.nextSibling),Tr=c,ln=!0,Xr=null,i!==null&&(Rr[Or++]=no,Rr[Or++]=ro,Rr[Or++]=Ai,no=i.id,ro=i.overflow,Ai=c),c=tp(c,v.children),c.flags|=4096,c)}function B0(i,c,h){i.lanes|=c;var v=i.alternate;v!==null&&(v.lanes|=c),jm(i.return,c,h)}function np(i,c,h,v,_){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:v,tail:h,tailMode:_}:(N.isBackwards=c,N.rendering=null,N.renderingStartTime=0,N.last=v,N.tail=h,N.tailMode=_)}function z0(i,c,h){var v=c.pendingProps,_=v.revealOrder,N=v.tail;if(nr(i,c,v.children,h),v=hn.current,(v&2)!==0)v=v&1|2,c.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=c.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&B0(i,h,c);else if(i.tag===19)B0(i,h,c);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===c)break e;for(;i.sibling===null;){if(i.return===null||i.return===c)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}v&=1}if(Kt(hn,v),(c.mode&1)===0)c.memoizedState=null;else switch(_){case"forwards":for(h=c.child,_=null;h!==null;)i=h.alternate,i!==null&&xd(i)===null&&(_=h),h=h.sibling;h=_,h===null?(_=c.child,c.child=null):(_=h.sibling,h.sibling=null),np(c,!1,_,h,N);break;case"backwards":for(h=null,_=c.child,c.child=null;_!==null;){if(i=_.alternate,i!==null&&xd(i)===null){c.child=_;break}i=_.sibling,_.sibling=h,h=_,_=i}np(c,!0,h,null,N);break;case"together":np(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function Nd(i,c){(c.mode&1)===0&&i!==null&&(i.alternate=null,c.alternate=null,c.flags|=2)}function io(i,c,h){if(i!==null&&(c.dependencies=i.dependencies),Fi|=c.lanes,(h&c.childLanes)===0)return null;if(i!==null&&c.child!==i.child)throw Error(t(153));if(c.child!==null){for(i=c.child,h=ei(i,i.pendingProps),c.child=h,h.return=c;i.sibling!==null;)i=i.sibling,h=h.sibling=ei(i,i.pendingProps),h.return=c;h.sibling=null}return c.child}function kM(i,c,h){switch(c.tag){case 3:$0(c),Da();break;case 5:r0(c);break;case 1:dr(c.type)&&cd(c);break;case 4:Rm(c,c.stateNode.containerInfo);break;case 10:var v=c.type._context,_=c.memoizedProps.value;Kt(pd,v._currentValue),v._currentValue=_;break;case 13:if(v=c.memoizedState,v!==null)return v.dehydrated!==null?(Kt(hn,hn.current&1),c.flags|=128,null):(h&c.child.childLanes)!==0?V0(i,c,h):(Kt(hn,hn.current&1),i=io(i,c,h),i!==null?i.sibling:null);Kt(hn,hn.current&1);break;case 19:if(v=(h&c.childLanes)!==0,(i.flags&128)!==0){if(v)return z0(i,c,h);c.flags|=128}if(_=c.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Kt(hn,hn.current),v)break;return null;case 22:case 23:return c.lanes=0,O0(i,c,h)}return io(i,c,h)}var W0,rp,H0,G0;W0=function(i,c){for(var h=c.child;h!==null;){if(h.tag===5||h.tag===6)i.appendChild(h.stateNode);else if(h.tag!==4&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return;h=h.return}h.sibling.return=h.return,h=h.sibling}},rp=function(){},H0=function(i,c,h,v){var _=i.memoizedProps;if(_!==v){i=c.stateNode,Oi(Es.current);var N=null;switch(h){case"input":_=Ut(i,_),v=Ut(i,v),N=[];break;case"select":_=$({},_,{value:void 0}),v=$({},v,{value:void 0}),N=[];break;case"textarea":_=xn(i,_),v=xn(i,v),N=[];break;default:typeof _.onClick!="function"&&typeof v.onClick=="function"&&(i.onclick=id)}Oo(h,v);var R;h=null;for(ie in _)if(!v.hasOwnProperty(ie)&&_.hasOwnProperty(ie)&&_[ie]!=null)if(ie==="style"){var z=_[ie];for(R in z)z.hasOwnProperty(R)&&(h||(h={}),h[R]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?N||(N=[]):(N=N||[]).push(ie,null));for(ie in v){var K=v[ie];if(z=_!=null?_[ie]:void 0,v.hasOwnProperty(ie)&&K!==z&&(K!=null||z!=null))if(ie==="style")if(z){for(R in z)!z.hasOwnProperty(R)||K&&K.hasOwnProperty(R)||(h||(h={}),h[R]="");for(R in K)K.hasOwnProperty(R)&&z[R]!==K[R]&&(h||(h={}),h[R]=K[R])}else h||(N||(N=[]),N.push(ie,h)),h=K;else ie==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,z=z?z.__html:void 0,K!=null&&z!==K&&(N=N||[]).push(ie,K)):ie==="children"?typeof K!="string"&&typeof K!="number"||(N=N||[]).push(ie,""+K):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(s.hasOwnProperty(ie)?(K!=null&&ie==="onScroll"&&Qt("scroll",i),N||z===K||(N=[])):(N=N||[]).push(ie,K))}h&&(N=N||[]).push("style",h);var ie=N;(c.updateQueue=ie)&&(c.flags|=4)}},G0=function(i,c,h,v){h!==v&&(c.flags|=4)};function xc(i,c){if(!ln)switch(i.tailMode){case"hidden":c=i.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i.tail=null:h.sibling=null;break;case"collapsed":h=i.tail;for(var v=null;h!==null;)h.alternate!==null&&(v=h),h=h.sibling;v===null?c||i.tail===null?i.tail=null:i.tail.sibling=null:v.sibling=null}}function Yn(i){var c=i.alternate!==null&&i.alternate.child===i.child,h=0,v=0;if(c)for(var _=i.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags&14680064,v|=_.flags&14680064,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)h|=_.lanes|_.childLanes,v|=_.subtreeFlags,v|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=v,i.childLanes=h,c}function CM(i,c,h){var v=c.pendingProps;switch(bm(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(c),null;case 1:return dr(c.type)&&ld(),Yn(c),null;case 3:return v=c.stateNode,Pa(),Xt(ur),Xt(Hn),Fm(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(i===null||i.child===null)&&(hd(c)?c.flags|=4:i===null||i.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Xr!==null&&(mp(Xr),Xr=null))),rp(i,c),Yn(c),null;case 5:Om(c);var _=Oi(mc.current);if(h=c.type,i!==null&&c.stateNode!=null)H0(i,c,h,v,_),i.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!v){if(c.stateNode===null)throw Error(t(166));return Yn(c),null}if(i=Oi(Es.current),hd(c)){v=c.stateNode,h=c.type;var N=c.memoizedProps;switch(v[Ns]=c,v[cc]=N,i=(c.mode&1)!==0,h){case"dialog":Qt("cancel",v),Qt("close",v);break;case"iframe":case"object":case"embed":Qt("load",v);break;case"video":case"audio":for(_=0;_<ic.length;_++)Qt(ic[_],v);break;case"source":Qt("error",v);break;case"img":case"image":case"link":Qt("error",v),Qt("load",v);break;case"details":Qt("toggle",v);break;case"input":Yt(v,N),Qt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!N.multiple},Qt("invalid",v);break;case"textarea":qt(v,N),Qt("invalid",v)}Oo(h,N),_=null;for(var R in N)if(N.hasOwnProperty(R)){var z=N[R];R==="children"?typeof z=="string"?v.textContent!==z&&(N.suppressHydrationWarning!==!0&&od(v.textContent,z,i),_=["children",z]):typeof z=="number"&&v.textContent!==""+z&&(N.suppressHydrationWarning!==!0&&od(v.textContent,z,i),_=["children",""+z]):s.hasOwnProperty(R)&&z!=null&&R==="onScroll"&&Qt("scroll",v)}switch(h){case"input":Be(v),an(v,N,!0);break;case"textarea":Be(v),kr(v);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(v.onclick=id)}v=_,c.updateQueue=v,v!==null&&(c.flags|=4)}else{R=_.nodeType===9?_:_.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Pr(h)),i==="http://www.w3.org/1999/xhtml"?h==="script"?(i=R.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof v.is=="string"?i=R.createElement(h,{is:v.is}):(i=R.createElement(h),h==="select"&&(R=i,v.multiple?R.multiple=!0:v.size&&(R.size=v.size))):i=R.createElementNS(i,h),i[Ns]=c,i[cc]=v,W0(i,c,!1,!1),c.stateNode=i;e:{switch(R=Di(h,v),h){case"dialog":Qt("cancel",i),Qt("close",i),_=v;break;case"iframe":case"object":case"embed":Qt("load",i),_=v;break;case"video":case"audio":for(_=0;_<ic.length;_++)Qt(ic[_],i);_=v;break;case"source":Qt("error",i),_=v;break;case"img":case"image":case"link":Qt("error",i),Qt("load",i),_=v;break;case"details":Qt("toggle",i),_=v;break;case"input":Yt(i,v),_=Ut(i,v),Qt("invalid",i);break;case"option":_=v;break;case"select":i._wrapperState={wasMultiple:!!v.multiple},_=$({},v,{value:void 0}),Qt("invalid",i);break;case"textarea":qt(i,v),_=xn(i,v),Qt("invalid",i);break;default:_=v}Oo(h,_),z=_;for(N in z)if(z.hasOwnProperty(N)){var K=z[N];N==="style"?pa(i,K):N==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&Ss(i,K)):N==="children"?typeof K=="string"?(h!=="textarea"||K!=="")&&He(i,K):typeof K=="number"&&He(i,""+K):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?K!=null&&N==="onScroll"&&Qt("scroll",i):K!=null&&I(i,N,K,R))}switch(h){case"input":Be(i),an(i,v,!1);break;case"textarea":Be(i),kr(i);break;case"option":v.value!=null&&i.setAttribute("value",""+Y(v.value));break;case"select":i.multiple=!!v.multiple,N=v.value,N!=null?tt(i,!!v.multiple,N,!1):v.defaultValue!=null&&tt(i,!!v.multiple,v.defaultValue,!0);break;default:typeof _.onClick=="function"&&(i.onclick=id)}switch(h){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return Yn(c),null;case 6:if(i&&c.stateNode!=null)G0(i,c,i.memoizedProps,v);else{if(typeof v!="string"&&c.stateNode===null)throw Error(t(166));if(h=Oi(mc.current),Oi(Es.current),hd(c)){if(v=c.stateNode,h=c.memoizedProps,v[Ns]=c,(N=v.nodeValue!==h)&&(i=Tr,i!==null))switch(i.tag){case 3:od(v.nodeValue,h,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&od(v.nodeValue,h,(i.mode&1)!==0)}N&&(c.flags|=4)}else v=(h.nodeType===9?h:h.ownerDocument).createTextNode(v),v[Ns]=c,c.stateNode=v}return Yn(c),null;case 13:if(Xt(hn),v=c.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ln&&Nr!==null&&(c.mode&1)!==0&&(c.flags&128)===0)Kx(),Da(),c.flags|=98560,N=!1;else if(N=hd(c),v!==null&&v.dehydrated!==null){if(i===null){if(!N)throw Error(t(318));if(N=c.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(t(317));N[Ns]=c}else Da(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Yn(c),N=!1}else Xr!==null&&(mp(Xr),Xr=null),N=!0;if(!N)return c.flags&65536?c:null}return(c.flags&128)!==0?(c.lanes=h,c):(v=v!==null,v!==(i!==null&&i.memoizedState!==null)&&v&&(c.child.flags|=8192,(c.mode&1)!==0&&(i===null||(hn.current&1)!==0?In===0&&(In=3):yp())),c.updateQueue!==null&&(c.flags|=4),Yn(c),null);case 4:return Pa(),rp(i,c),i===null&&ac(c.stateNode.containerInfo),Yn(c),null;case 10:return Im(c.type._context),Yn(c),null;case 17:return dr(c.type)&&ld(),Yn(c),null;case 19:if(Xt(hn),N=c.memoizedState,N===null)return Yn(c),null;if(v=(c.flags&128)!==0,R=N.rendering,R===null)if(v)xc(N,!1);else{if(In!==0||i!==null&&(i.flags&128)!==0)for(i=c.child;i!==null;){if(R=xd(i),R!==null){for(c.flags|=128,xc(N,!1),v=R.updateQueue,v!==null&&(c.updateQueue=v,c.flags|=4),c.subtreeFlags=0,v=h,h=c.child;h!==null;)N=h,i=v,N.flags&=14680066,R=N.alternate,R===null?(N.childLanes=0,N.lanes=i,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=R.childLanes,N.lanes=R.lanes,N.child=R.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=R.memoizedProps,N.memoizedState=R.memoizedState,N.updateQueue=R.updateQueue,N.type=R.type,i=R.dependencies,N.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),h=h.sibling;return Kt(hn,hn.current&1|2),c.child}i=i.sibling}N.tail!==null&&_n()>Fa&&(c.flags|=128,v=!0,xc(N,!1),c.lanes=4194304)}else{if(!v)if(i=xd(R),i!==null){if(c.flags|=128,v=!0,h=i.updateQueue,h!==null&&(c.updateQueue=h,c.flags|=4),xc(N,!0),N.tail===null&&N.tailMode==="hidden"&&!R.alternate&&!ln)return Yn(c),null}else 2*_n()-N.renderingStartTime>Fa&&h!==1073741824&&(c.flags|=128,v=!0,xc(N,!1),c.lanes=4194304);N.isBackwards?(R.sibling=c.child,c.child=R):(h=N.last,h!==null?h.sibling=R:c.child=R,N.last=R)}return N.tail!==null?(c=N.tail,N.rendering=c,N.tail=c.sibling,N.renderingStartTime=_n(),c.sibling=null,h=hn.current,Kt(hn,v?h&1|2:h&1),c):(Yn(c),null);case 22:case 23:return gp(),v=c.memoizedState!==null,i!==null&&i.memoizedState!==null!==v&&(c.flags|=8192),v&&(c.mode&1)!==0?(Er&1073741824)!==0&&(Yn(c),c.subtreeFlags&6&&(c.flags|=8192)):Yn(c),null;case 24:return null;case 25:return null}throw Error(t(156,c.tag))}function SM(i,c){switch(bm(c),c.tag){case 1:return dr(c.type)&&ld(),i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 3:return Pa(),Xt(ur),Xt(Hn),Fm(),i=c.flags,(i&65536)!==0&&(i&128)===0?(c.flags=i&-65537|128,c):null;case 5:return Om(c),null;case 13:if(Xt(hn),i=c.memoizedState,i!==null&&i.dehydrated!==null){if(c.alternate===null)throw Error(t(340));Da()}return i=c.flags,i&65536?(c.flags=i&-65537|128,c):null;case 19:return Xt(hn),null;case 4:return Pa(),null;case 10:return Im(c.type._context),null;case 22:case 23:return gp(),null;case 24:return null;default:return null}}var Ed=!1,qn=!1,bM=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Oa(i,c){var h=i.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(v){vn(i,c,v)}else h.current=null}function sp(i,c,h){try{h()}catch(v){vn(i,c,v)}}var Y0=!1;function TM(i,c){if(gm=qu,i=bx(),lm(i)){if("selectionStart"in i)var h={start:i.selectionStart,end:i.selectionEnd};else e:{h=(h=i.ownerDocument)&&h.defaultView||window;var v=h.getSelection&&h.getSelection();if(v&&v.rangeCount!==0){h=v.anchorNode;var _=v.anchorOffset,N=v.focusNode;v=v.focusOffset;try{h.nodeType,N.nodeType}catch(Ce){h=null;break e}var R=0,z=-1,K=-1,ie=0,ve=0,we=i,ge=null;t:for(;;){for(var De;we!==h||_!==0&&we.nodeType!==3||(z=R+_),we!==N||v!==0&&we.nodeType!==3||(K=R+v),we.nodeType===3&&(R+=we.nodeValue.length),(De=we.firstChild)!==null;)ge=we,we=De;for(;;){if(we===i)break t;if(ge===h&&++ie===_&&(z=R),ge===N&&++ve===v&&(K=R),(De=we.nextSibling)!==null)break;we=ge,ge=we.parentNode}we=De}h=z===-1||K===-1?null:{start:z,end:K}}else h=null}h=h||{start:0,end:0}}else h=null;for(ym={focusedElem:i,selectionRange:h},qu=!1,Ae=c;Ae!==null;)if(c=Ae,i=c.child,(c.subtreeFlags&1028)!==0&&i!==null)i.return=c,Ae=i;else for(;Ae!==null;){c=Ae;try{var Re=c.alternate;if((c.flags&1024)!==0)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var Ve=Re.memoizedProps,kn=Re.memoizedState,te=c.stateNode,Z=te.getSnapshotBeforeUpdate(c.elementType===c.type?Ve:es(c.type,Ve),kn);te.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:var re=c.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ce){vn(c,c.return,Ce)}if(i=c.sibling,i!==null){i.return=c.return,Ae=i;break}Ae=c.return}return Re=Y0,Y0=!1,Re}function wc(i,c,h){var v=c.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var _=v=v.next;do{if((_.tag&i)===i){var N=_.destroy;_.destroy=void 0,N!==void 0&&sp(c,h,N)}_=_.next}while(_!==v)}}function Md(i,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&i)===i){var v=h.create;h.destroy=v()}h=h.next}while(h!==c)}}function op(i){var c=i.ref;if(c!==null){var h=i.stateNode;switch(i.tag){case 5:i=h;break;default:i=h}typeof c=="function"?c(i):c.current=i}}function q0(i){var c=i.alternate;c!==null&&(i.alternate=null,q0(c)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(c=i.stateNode,c!==null&&(delete c[Ns],delete c[cc],delete c[_m],delete c[lM],delete c[cM])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function K0(i){return i.tag===5||i.tag===3||i.tag===4}function J0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||K0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ip(i,c,h){var v=i.tag;if(v===5||v===6)i=i.stateNode,c?h.nodeType===8?h.parentNode.insertBefore(i,c):h.insertBefore(i,c):(h.nodeType===8?(c=h.parentNode,c.insertBefore(i,h)):(c=h,c.appendChild(i)),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=id));else if(v!==4&&(i=i.child,i!==null))for(ip(i,c,h),i=i.sibling;i!==null;)ip(i,c,h),i=i.sibling}function ap(i,c,h){var v=i.tag;if(v===5||v===6)i=i.stateNode,c?h.insertBefore(i,c):h.appendChild(i);else if(v!==4&&(i=i.child,i!==null))for(ap(i,c,h),i=i.sibling;i!==null;)ap(i,c,h),i=i.sibling}var Vn=null,ts=!1;function Ko(i,c,h){for(h=h.child;h!==null;)Z0(i,c,h),h=h.sibling}function Z0(i,c,h){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(Bu,h)}catch(z){}switch(h.tag){case 5:qn||Oa(h,c);case 6:var v=Vn,_=ts;Vn=null,Ko(i,c,h),Vn=v,ts=_,Vn!==null&&(ts?(i=Vn,h=h.stateNode,i.nodeType===8?i.parentNode.removeChild(h):i.removeChild(h)):Vn.removeChild(h.stateNode));break;case 18:Vn!==null&&(ts?(i=Vn,h=h.stateNode,i.nodeType===8?wm(i.parentNode,h):i.nodeType===1&&wm(i,h),Ql(i)):wm(Vn,h.stateNode));break;case 4:v=Vn,_=ts,Vn=h.stateNode.containerInfo,ts=!0,Ko(i,c,h),Vn=v,ts=_;break;case 0:case 11:case 14:case 15:if(!qn&&(v=h.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){_=v=v.next;do{var N=_,R=N.destroy;N=N.tag,R!==void 0&&((N&2)!==0||(N&4)!==0)&&sp(h,c,R),_=_.next}while(_!==v)}Ko(i,c,h);break;case 1:if(!qn&&(Oa(h,c),v=h.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=h.memoizedProps,v.state=h.memoizedState,v.componentWillUnmount()}catch(z){vn(h,c,z)}Ko(i,c,h);break;case 21:Ko(i,c,h);break;case 22:h.mode&1?(qn=(v=qn)||h.memoizedState!==null,Ko(i,c,h),qn=v):Ko(i,c,h);break;default:Ko(i,c,h)}}function Q0(i){var c=i.updateQueue;if(c!==null){i.updateQueue=null;var h=i.stateNode;h===null&&(h=i.stateNode=new bM),c.forEach(function(v){var _=RM.bind(null,i,v);h.has(v)||(h.add(v),v.then(_,_))})}}function ns(i,c){var h=c.deletions;if(h!==null)for(var v=0;v<h.length;v++){var _=h[v];try{var N=i,R=c,z=R;e:for(;z!==null;){switch(z.tag){case 5:Vn=z.stateNode,ts=!1;break e;case 3:Vn=z.stateNode.containerInfo,ts=!0;break e;case 4:Vn=z.stateNode.containerInfo,ts=!0;break e}z=z.return}if(Vn===null)throw Error(t(160));Z0(N,R,_),Vn=null,ts=!1;var K=_.alternate;K!==null&&(K.return=null),_.return=null}catch(ie){vn(_,c,ie)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)X0(c,i),c=c.sibling}function X0(i,c){var h=i.alternate,v=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ns(c,i),Ds(i),v&4){try{wc(3,i,i.return),Md(3,i)}catch(Ve){vn(i,i.return,Ve)}try{wc(5,i,i.return)}catch(Ve){vn(i,i.return,Ve)}}break;case 1:ns(c,i),Ds(i),v&512&&h!==null&&Oa(h,h.return);break;case 5:if(ns(c,i),Ds(i),v&512&&h!==null&&Oa(h,h.return),i.flags&32){var _=i.stateNode;try{He(_,"")}catch(Ve){vn(i,i.return,Ve)}}if(v&4&&(_=i.stateNode,_!=null)){var N=i.memoizedProps,R=h!==null?h.memoizedProps:N,z=i.type,K=i.updateQueue;if(i.updateQueue=null,K!==null)try{z==="input"&&N.type==="radio"&&N.name!=null&&Vt(_,N),Di(z,R);var ie=Di(z,N);for(R=0;R<K.length;R+=2){var ve=K[R],we=K[R+1];ve==="style"?pa(_,we):ve==="dangerouslySetInnerHTML"?Ss(_,we):ve==="children"?He(_,we):I(_,ve,we,ie)}switch(z){case"input":gn(_,N);break;case"textarea":Un(_,N);break;case"select":var ge=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!N.multiple;var De=N.value;De!=null?tt(_,!!N.multiple,De,!1):ge!==!!N.multiple&&(N.defaultValue!=null?tt(_,!!N.multiple,N.defaultValue,!0):tt(_,!!N.multiple,N.multiple?[]:"",!1))}_[cc]=N}catch(Ve){vn(i,i.return,Ve)}}break;case 6:if(ns(c,i),Ds(i),v&4){if(i.stateNode===null)throw Error(t(162));_=i.stateNode,N=i.memoizedProps;try{_.nodeValue=N}catch(Ve){vn(i,i.return,Ve)}}break;case 3:if(ns(c,i),Ds(i),v&4&&h!==null&&h.memoizedState.isDehydrated)try{Ql(c.containerInfo)}catch(Ve){vn(i,i.return,Ve)}break;case 4:ns(c,i),Ds(i);break;case 13:ns(c,i),Ds(i),_=i.child,_.flags&8192&&(N=_.memoizedState!==null,_.stateNode.isHidden=N,!N||_.alternate!==null&&_.alternate.memoizedState!==null||(up=_n())),v&4&&Q0(i);break;case 22:if(ve=h!==null&&h.memoizedState!==null,i.mode&1?(qn=(ie=qn)||ve,ns(c,i),qn=ie):ns(c,i),Ds(i),v&8192){if(ie=i.memoizedState!==null,(i.stateNode.isHidden=ie)&&!ve&&(i.mode&1)!==0)for(Ae=i,ve=i.child;ve!==null;){for(we=Ae=ve;Ae!==null;){switch(ge=Ae,De=ge.child,ge.tag){case 0:case 11:case 14:case 15:wc(4,ge,ge.return);break;case 1:Oa(ge,ge.return);var Re=ge.stateNode;if(typeof Re.componentWillUnmount=="function"){v=ge,h=ge.return;try{c=v,Re.props=c.memoizedProps,Re.state=c.memoizedState,Re.componentWillUnmount()}catch(Ve){vn(v,h,Ve)}}break;case 5:Oa(ge,ge.return);break;case 22:if(ge.memoizedState!==null){nw(we);continue}}De!==null?(De.return=ge,Ae=De):nw(we)}ve=ve.sibling}e:for(ve=null,we=i;;){if(we.tag===5){if(ve===null){ve=we;try{_=we.stateNode,ie?(N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(z=we.stateNode,K=we.memoizedProps.style,R=K!=null&&K.hasOwnProperty("display")?K.display:null,z.style.display=tr("display",R))}catch(Ve){vn(i,i.return,Ve)}}}else if(we.tag===6){if(ve===null)try{we.stateNode.nodeValue=ie?"":we.memoizedProps}catch(Ve){vn(i,i.return,Ve)}}else if((we.tag!==22&&we.tag!==23||we.memoizedState===null||we===i)&&we.child!==null){we.child.return=we,we=we.child;continue}if(we===i)break e;for(;we.sibling===null;){if(we.return===null||we.return===i)break e;ve===we&&(ve=null),we=we.return}ve===we&&(ve=null),we.sibling.return=we.return,we=we.sibling}}break;case 19:ns(c,i),Ds(i),v&4&&Q0(i);break;case 21:break;default:ns(c,i),Ds(i)}}function Ds(i){var c=i.flags;if(c&2){try{e:{for(var h=i.return;h!==null;){if(K0(h)){var v=h;break e}h=h.return}throw Error(t(160))}switch(v.tag){case 5:var _=v.stateNode;v.flags&32&&(He(_,""),v.flags&=-33);var N=J0(i);ap(i,N,_);break;case 3:case 4:var R=v.stateNode.containerInfo,z=J0(i);ip(i,z,R);break;default:throw Error(t(161))}}catch(K){vn(i,i.return,K)}i.flags&=-3}c&4096&&(i.flags&=-4097)}function NM(i,c,h){Ae=i,ew(i)}function ew(i,c,h){for(var v=(i.mode&1)!==0;Ae!==null;){var _=Ae,N=_.child;if(_.tag===22&&v){var R=_.memoizedState!==null||Ed;if(!R){var z=_.alternate,K=z!==null&&z.memoizedState!==null||qn;z=Ed;var ie=qn;if(Ed=R,(qn=K)&&!ie)for(Ae=_;Ae!==null;)R=Ae,K=R.child,R.tag===22&&R.memoizedState!==null?rw(_):K!==null?(K.return=R,Ae=K):rw(_);for(;N!==null;)Ae=N,ew(N),N=N.sibling;Ae=_,Ed=z,qn=ie}tw(i)}else(_.subtreeFlags&8772)!==0&&N!==null?(N.return=_,Ae=N):tw(i)}}function tw(i){for(;Ae!==null;){var c=Ae;if((c.flags&8772)!==0){var h=c.alternate;try{if((c.flags&8772)!==0)switch(c.tag){case 0:case 11:case 15:qn||Md(5,c);break;case 1:var v=c.stateNode;if(c.flags&4&&!qn)if(h===null)v.componentDidMount();else{var _=c.elementType===c.type?h.memoizedProps:es(c.type,h.memoizedProps);v.componentDidUpdate(_,h.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var N=c.updateQueue;N!==null&&n0(c,N,v);break;case 3:var R=c.updateQueue;if(R!==null){if(h=null,c.child!==null)switch(c.child.tag){case 5:h=c.child.stateNode;break;case 1:h=c.child.stateNode}n0(c,R,h)}break;case 5:var z=c.stateNode;if(h===null&&c.flags&4){h=z;var K=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&h.focus();break;case"img":K.src&&(h.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var ie=c.alternate;if(ie!==null){var ve=ie.memoizedState;if(ve!==null){var we=ve.dehydrated;we!==null&&Ql(we)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qn||c.flags&512&&op(c)}catch(ge){vn(c,c.return,ge)}}if(c===i){Ae=null;break}if(h=c.sibling,h!==null){h.return=c.return,Ae=h;break}Ae=c.return}}function nw(i){for(;Ae!==null;){var c=Ae;if(c===i){Ae=null;break}var h=c.sibling;if(h!==null){h.return=c.return,Ae=h;break}Ae=c.return}}function rw(i){for(;Ae!==null;){var c=Ae;try{switch(c.tag){case 0:case 11:case 15:var h=c.return;try{Md(4,c)}catch(K){vn(c,h,K)}break;case 1:var v=c.stateNode;if(typeof v.componentDidMount=="function"){var _=c.return;try{v.componentDidMount()}catch(K){vn(c,_,K)}}var N=c.return;try{op(c)}catch(K){vn(c,N,K)}break;case 5:var R=c.return;try{op(c)}catch(K){vn(c,R,K)}}}catch(K){vn(c,c.return,K)}if(c===i){Ae=null;break}var z=c.sibling;if(z!==null){z.return=c.return,Ae=z;break}Ae=c.return}}var EM=Math.ceil,Dd=A.ReactCurrentDispatcher,lp=A.ReactCurrentOwner,$r=A.ReactCurrentBatchConfig,Et=0,On=null,Tn=null,Bn=0,Er=0,La=Wo(0),In=0,_c=null,Fi=0,Id=0,cp=0,kc=null,hr=null,up=0,Fa=1/0,ao=null,jd=!1,dp=null,Jo=null,Ad=!1,Zo=null,Pd=0,Cc=0,fp=null,Rd=-1,Od=0;function rr(){return(Et&6)!==0?_n():Rd!==-1?Rd:Rd=_n()}function Qo(i){return(i.mode&1)===0?1:(Et&2)!==0&&Bn!==0?Bn&-Bn:dM.transition!==null?(Od===0&&(Od=Jv()),Od):(i=Bt,i!==0||(i=window.event,i=i===void 0?16:ox(i.type)),i)}function rs(i,c,h,v){if(50<Cc)throw Cc=0,fp=null,Error(t(185));Yl(i,h,v),((Et&2)===0||i!==On)&&(i===On&&((Et&2)===0&&(Id|=h),In===4&&Xo(i,Bn)),mr(i,v),h===1&&Et===0&&(c.mode&1)===0&&(Fa=_n()+500,ud&&Go()))}function mr(i,c){var h=i.callbackNode;d2(i,c);var v=Hu(i,i===On?Bn:0);if(v===0)h!==null&&Yv(h),i.callbackNode=null,i.callbackPriority=0;else if(c=v&-v,i.callbackPriority!==c){if(h!=null&&Yv(h),c===1)i.tag===0?uM(ow.bind(null,i)):Wx(ow.bind(null,i)),iM(function(){(Et&6)===0&&Go()}),h=null;else{switch(Zv(v)){case 1:h=Hh;break;case 4:h=qv;break;case 16:h=Vu;break;case 536870912:h=Kv;break;default:h=Vu}h=hw(h,sw.bind(null,i))}i.callbackPriority=c,i.callbackNode=h}}function sw(i,c){if(Rd=-1,Od=0,(Et&6)!==0)throw Error(t(327));var h=i.callbackNode;if($a()&&i.callbackNode!==h)return null;var v=Hu(i,i===On?Bn:0);if(v===0)return null;if((v&30)!==0||(v&i.expiredLanes)!==0||c)c=Ld(i,v);else{c=v;var _=Et;Et|=2;var N=aw();(On!==i||Bn!==c)&&(ao=null,Fa=_n()+500,Ui(i,c));do try{IM();break}catch(z){iw(i,z)}while(!0);Dm(),Dd.current=N,Et=_,Tn!==null?c=0:(On=null,Bn=0,c=In)}if(c!==0){if(c===2&&(_=Gh(i),_!==0&&(v=_,c=hp(i,_))),c===1)throw h=_c,Ui(i,0),Xo(i,v),mr(i,_n()),h;if(c===6)Xo(i,v);else{if(_=i.current.alternate,(v&30)===0&&!MM(_)&&(c=Ld(i,v),c===2&&(N=Gh(i),N!==0&&(v=N,c=hp(i,N))),c===1))throw h=_c,Ui(i,0),Xo(i,v),mr(i,_n()),h;switch(i.finishedWork=_,i.finishedLanes=v,c){case 0:case 1:throw Error(t(345));case 2:Vi(i,hr,ao);break;case 3:if(Xo(i,v),(v&130023424)===v&&(c=up+500-_n(),10<c)){if(Hu(i,0)!==0)break;if(_=i.suspendedLanes,(_&v)!==v){rr(),i.pingedLanes|=i.suspendedLanes&_;break}i.timeoutHandle=xm(Vi.bind(null,i,hr,ao),c);break}Vi(i,hr,ao);break;case 4:if(Xo(i,v),(v&4194240)===v)break;for(c=i.eventTimes,_=-1;0<v;){var R=31-Zr(v);N=1<<R,R=c[R],R>_&&(_=R),v&=~N}if(v=_,v=_n()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*EM(v/1960))-v,10<v){i.timeoutHandle=xm(Vi.bind(null,i,hr,ao),v);break}Vi(i,hr,ao);break;case 5:Vi(i,hr,ao);break;default:throw Error(t(329))}}}return mr(i,_n()),i.callbackNode===h?sw.bind(null,i):null}function hp(i,c){var h=kc;return i.current.memoizedState.isDehydrated&&(Ui(i,c).flags|=256),i=Ld(i,c),i!==2&&(c=hr,hr=h,c!==null&&mp(c)),i}function mp(i){hr===null?hr=i:hr.push.apply(hr,i)}function MM(i){for(var c=i;;){if(c.flags&16384){var h=c.updateQueue;if(h!==null&&(h=h.stores,h!==null))for(var v=0;v<h.length;v++){var _=h[v],N=_.getSnapshot;_=_.value;try{if(!Qr(N(),_))return!1}catch(R){return!1}}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===i)break;for(;c.sibling===null;){if(c.return===null||c.return===i)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Xo(i,c){for(c&=~cp,c&=~Id,i.suspendedLanes|=c,i.pingedLanes&=~c,i=i.expirationTimes;0<c;){var h=31-Zr(c),v=1<<h;i[h]=-1,c&=~v}}function ow(i){if((Et&6)!==0)throw Error(t(327));$a();var c=Hu(i,0);if((c&1)===0)return mr(i,_n()),null;var h=Ld(i,c);if(i.tag!==0&&h===2){var v=Gh(i);v!==0&&(c=v,h=hp(i,v))}if(h===1)throw h=_c,Ui(i,0),Xo(i,c),mr(i,_n()),h;if(h===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=c,Vi(i,hr,ao),mr(i,_n()),null}function pp(i,c){var h=Et;Et|=1;try{return i(c)}finally{Et=h,Et===0&&(Fa=_n()+500,ud&&Go())}}function $i(i){Zo!==null&&Zo.tag===0&&(Et&6)===0&&$a();var c=Et;Et|=1;var h=$r.transition,v=Bt;try{if($r.transition=null,Bt=1,i)return i()}finally{Bt=v,$r.transition=h,Et=c,(Et&6)===0&&Go()}}function gp(){Er=La.current,Xt(La)}function Ui(i,c){i.finishedWork=null,i.finishedLanes=0;var h=i.timeoutHandle;if(h!==-1&&(i.timeoutHandle=-1,oM(h)),Tn!==null)for(h=Tn.return;h!==null;){var v=h;switch(bm(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&ld();break;case 3:Pa(),Xt(ur),Xt(Hn),Fm();break;case 5:Om(v);break;case 4:Pa();break;case 13:Xt(hn);break;case 19:Xt(hn);break;case 10:Im(v.type._context);break;case 22:case 23:gp()}h=h.return}if(On=i,Tn=i=ei(i.current,null),Bn=Er=c,In=0,_c=null,cp=Id=Fi=0,hr=kc=null,Ri!==null){for(c=0;c<Ri.length;c++)if(h=Ri[c],v=h.interleaved,v!==null){h.interleaved=null;var _=v.next,N=h.pending;if(N!==null){var R=N.next;N.next=_,v.next=R}h.pending=v}Ri=null}return i}function iw(i,c){do{var h=Tn;try{if(Dm(),wd.current=Sd,_d){for(var v=mn.memoizedState;v!==null;){var _=v.queue;_!==null&&(_.pending=null),v=v.next}_d=!1}if(Li=0,Rn=Dn=mn=null,pc=!1,gc=0,lp.current=null,h===null||h.return===null){In=1,_c=c,Tn=null;break}e:{var N=i,R=h.return,z=h,K=c;if(c=Bn,z.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ie=K,ve=z,we=ve.tag;if((ve.mode&1)===0&&(we===0||we===11||we===15)){var ge=ve.alternate;ge?(ve.updateQueue=ge.updateQueue,ve.memoizedState=ge.memoizedState,ve.lanes=ge.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var De=I0(R);if(De!==null){De.flags&=-257,j0(De,R,z,N,c),De.mode&1&&D0(N,ie,c),c=De,K=ie;var Re=c.updateQueue;if(Re===null){var Ve=new Set;Ve.add(K),c.updateQueue=Ve}else Re.add(K);break e}else{if((c&1)===0){D0(N,ie,c),yp();break e}K=Error(t(426))}}else if(ln&&z.mode&1){var kn=I0(R);if(kn!==null){(kn.flags&65536)===0&&(kn.flags|=256),j0(kn,R,z,N,c),Em(Ra(K,z));break e}}N=K=Ra(K,z),In!==4&&(In=2),kc===null?kc=[N]:kc.push(N),N=R;do{switch(N.tag){case 3:N.flags|=65536,c&=-c,N.lanes|=c;var te=E0(N,K,c);t0(N,te);break e;case 1:z=K;var Z=N.type,re=N.stateNode;if((N.flags&128)===0&&(typeof Z.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(Jo===null||!Jo.has(re)))){N.flags|=65536,c&=-c,N.lanes|=c;var Ce=M0(N,z,c);t0(N,Ce);break e}}N=N.return}while(N!==null)}cw(h)}catch(ze){c=ze,Tn===h&&h!==null&&(Tn=h=h.return);continue}break}while(!0)}function aw(){var i=Dd.current;return Dd.current=Sd,i===null?Sd:i}function yp(){(In===0||In===3||In===2)&&(In=4),On===null||(Fi&268435455)===0&&(Id&268435455)===0||Xo(On,Bn)}function Ld(i,c){var h=Et;Et|=2;var v=aw();(On!==i||Bn!==c)&&(ao=null,Ui(i,c));do try{DM();break}catch(_){iw(i,_)}while(!0);if(Dm(),Et=h,Dd.current=v,Tn!==null)throw Error(t(261));return On=null,Bn=0,In}function DM(){for(;Tn!==null;)lw(Tn)}function IM(){for(;Tn!==null&&!n2();)lw(Tn)}function lw(i){var c=fw(i.alternate,i,Er);i.memoizedProps=i.pendingProps,c===null?cw(i):Tn=c,lp.current=null}function cw(i){var c=i;do{var h=c.alternate;if(i=c.return,(c.flags&32768)===0){if(h=CM(h,c,Er),h!==null){Tn=h;return}}else{if(h=SM(h,c),h!==null){h.flags&=32767,Tn=h;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{In=6,Tn=null;return}}if(c=c.sibling,c!==null){Tn=c;return}Tn=c=i}while(c!==null);In===0&&(In=5)}function Vi(i,c,h){var v=Bt,_=$r.transition;try{$r.transition=null,Bt=1,jM(i,c,h,v)}finally{$r.transition=_,Bt=v}return null}function jM(i,c,h,v){do $a();while(Zo!==null);if((Et&6)!==0)throw Error(t(327));h=i.finishedWork;var _=i.finishedLanes;if(h===null)return null;if(i.finishedWork=null,i.finishedLanes=0,h===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var N=h.lanes|h.childLanes;if(f2(i,N),i===On&&(Tn=On=null,Bn=0),(h.subtreeFlags&2064)===0&&(h.flags&2064)===0||Ad||(Ad=!0,hw(Vu,function(){return $a(),null})),N=(h.flags&15990)!==0,(h.subtreeFlags&15990)!==0||N){N=$r.transition,$r.transition=null;var R=Bt;Bt=1;var z=Et;Et|=4,lp.current=null,TM(i,h),X0(h,i),Q2(ym),qu=!!gm,ym=gm=null,i.current=h,NM(h),r2(),Et=z,Bt=R,$r.transition=N}else i.current=h;if(Ad&&(Ad=!1,Zo=i,Pd=_),N=i.pendingLanes,N===0&&(Jo=null),i2(h.stateNode),mr(i,_n()),c!==null)for(v=i.onRecoverableError,h=0;h<c.length;h++)_=c[h],v(_.value,{componentStack:_.stack,digest:_.digest});if(jd)throw jd=!1,i=dp,dp=null,i;return(Pd&1)!==0&&i.tag!==0&&$a(),N=i.pendingLanes,(N&1)!==0?i===fp?Cc++:(Cc=0,fp=i):Cc=0,Go(),null}function $a(){if(Zo!==null){var i=Zv(Pd),c=$r.transition,h=Bt;try{if($r.transition=null,Bt=16>i?16:i,Zo===null)var v=!1;else{if(i=Zo,Zo=null,Pd=0,(Et&6)!==0)throw Error(t(331));var _=Et;for(Et|=4,Ae=i.current;Ae!==null;){var N=Ae,R=N.child;if((Ae.flags&16)!==0){var z=N.deletions;if(z!==null){for(var K=0;K<z.length;K++){var ie=z[K];for(Ae=ie;Ae!==null;){var ve=Ae;switch(ve.tag){case 0:case 11:case 15:wc(8,ve,N)}var we=ve.child;if(we!==null)we.return=ve,Ae=we;else for(;Ae!==null;){ve=Ae;var ge=ve.sibling,De=ve.return;if(q0(ve),ve===ie){Ae=null;break}if(ge!==null){ge.return=De,Ae=ge;break}Ae=De}}}var Re=N.alternate;if(Re!==null){var Ve=Re.child;if(Ve!==null){Re.child=null;do{var kn=Ve.sibling;Ve.sibling=null,Ve=kn}while(Ve!==null)}}Ae=N}}if((N.subtreeFlags&2064)!==0&&R!==null)R.return=N,Ae=R;else e:for(;Ae!==null;){if(N=Ae,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:wc(9,N,N.return)}var te=N.sibling;if(te!==null){te.return=N.return,Ae=te;break e}Ae=N.return}}var Z=i.current;for(Ae=Z;Ae!==null;){R=Ae;var re=R.child;if((R.subtreeFlags&2064)!==0&&re!==null)re.return=R,Ae=re;else e:for(R=Z;Ae!==null;){if(z=Ae,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Md(9,z)}}catch(ze){vn(z,z.return,ze)}if(z===R){Ae=null;break e}var Ce=z.sibling;if(Ce!==null){Ce.return=z.return,Ae=Ce;break e}Ae=z.return}}if(Et=_,Go(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(Bu,i)}catch(ze){}v=!0}return v}finally{Bt=h,$r.transition=c}}return!1}function uw(i,c,h){c=Ra(h,c),c=E0(i,c,1),i=qo(i,c,1),c=rr(),i!==null&&(Yl(i,1,c),mr(i,c))}function vn(i,c,h){if(i.tag===3)uw(i,i,h);else for(;c!==null;){if(c.tag===3){uw(c,i,h);break}else if(c.tag===1){var v=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Jo===null||!Jo.has(v))){i=Ra(h,i),i=M0(c,i,1),c=qo(c,i,1),i=rr(),c!==null&&(Yl(c,1,i),mr(c,i));break}}c=c.return}}function AM(i,c,h){var v=i.pingCache;v!==null&&v.delete(c),c=rr(),i.pingedLanes|=i.suspendedLanes&h,On===i&&(Bn&h)===h&&(In===4||In===3&&(Bn&130023424)===Bn&&500>_n()-up?Ui(i,0):cp|=h),mr(i,c)}function dw(i,c){c===0&&((i.mode&1)===0?c=1:(c=Wu,Wu<<=1,(Wu&130023424)===0&&(Wu=4194304)));var h=rr();i=so(i,c),i!==null&&(Yl(i,c,h),mr(i,h))}function PM(i){var c=i.memoizedState,h=0;c!==null&&(h=c.retryLane),dw(i,h)}function RM(i,c){var h=0;switch(i.tag){case 13:var v=i.stateNode,_=i.memoizedState;_!==null&&(h=_.retryLane);break;case 19:v=i.stateNode;break;default:throw Error(t(314))}v!==null&&v.delete(c),dw(i,h)}var fw;fw=function(i,c,h){if(i!==null)if(i.memoizedProps!==c.pendingProps||ur.current)fr=!0;else{if((i.lanes&h)===0&&(c.flags&128)===0)return fr=!1,kM(i,c,h);fr=(i.flags&131072)!==0}else fr=!1,ln&&(c.flags&1048576)!==0&&Hx(c,fd,c.index);switch(c.lanes=0,c.tag){case 2:var v=c.type;Nd(i,c),i=c.pendingProps;var _=Na(c,Hn.current);Aa(c,h),_=Vm(null,c,v,i,_,h);var N=Bm();return c.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,dr(v)?(N=!0,cd(c)):N=!1,c.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Pm(c),_.updater=bd,c.stateNode=_,_._reactInternals=c,qm(c,v,i,h),c=Qm(null,c,v,!0,N,h)):(c.tag=0,ln&&N&&Sm(c),nr(null,c,_,h),c=c.child),c;case 16:v=c.elementType;e:{switch(Nd(i,c),i=c.pendingProps,_=v._init,v=_(v._payload),c.type=v,_=c.tag=LM(v),i=es(v,i),_){case 0:c=Zm(null,c,v,i,h);break e;case 1:c=F0(null,c,v,i,h);break e;case 11:c=A0(null,c,v,i,h);break e;case 14:c=P0(null,c,v,es(v.type,i),h);break e}throw Error(t(306,v,""))}return c;case 0:return v=c.type,_=c.pendingProps,_=c.elementType===v?_:es(v,_),Zm(i,c,v,_,h);case 1:return v=c.type,_=c.pendingProps,_=c.elementType===v?_:es(v,_),F0(i,c,v,_,h);case 3:e:{if($0(c),i===null)throw Error(t(387));v=c.pendingProps,N=c.memoizedState,_=N.element,e0(i,c),vd(c,v,null,h);var R=c.memoizedState;if(v=R.element,N.isDehydrated)if(N={element:v,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},c.updateQueue.baseState=N,c.memoizedState=N,c.flags&256){_=Ra(Error(t(423)),c),c=U0(i,c,v,h,_);break e}else if(v!==_){_=Ra(Error(t(424)),c),c=U0(i,c,v,h,_);break e}else for(Nr=zo(c.stateNode.containerInfo.firstChild),Tr=c,ln=!0,Xr=null,h=Qx(c,null,v,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(Da(),v===_){c=io(i,c,h);break e}nr(i,c,v,h)}c=c.child}return c;case 5:return r0(c),i===null&&Nm(c),v=c.type,_=c.pendingProps,N=i!==null?i.memoizedProps:null,R=_.children,vm(v,_)?R=null:N!==null&&vm(v,N)&&(c.flags|=32),L0(i,c),nr(i,c,R,h),c.child;case 6:return i===null&&Nm(c),null;case 13:return V0(i,c,h);case 4:return Rm(c,c.stateNode.containerInfo),v=c.pendingProps,i===null?c.child=Ia(c,null,v,h):nr(i,c,v,h),c.child;case 11:return v=c.type,_=c.pendingProps,_=c.elementType===v?_:es(v,_),A0(i,c,v,_,h);case 7:return nr(i,c,c.pendingProps,h),c.child;case 8:return nr(i,c,c.pendingProps.children,h),c.child;case 12:return nr(i,c,c.pendingProps.children,h),c.child;case 10:e:{if(v=c.type._context,_=c.pendingProps,N=c.memoizedProps,R=_.value,Kt(pd,v._currentValue),v._currentValue=R,N!==null)if(Qr(N.value,R)){if(N.children===_.children&&!ur.current){c=io(i,c,h);break e}}else for(N=c.child,N!==null&&(N.return=c);N!==null;){var z=N.dependencies;if(z!==null){R=N.child;for(var K=z.firstContext;K!==null;){if(K.context===v){if(N.tag===1){K=oo(-1,h&-h),K.tag=2;var ie=N.updateQueue;if(ie!==null){ie=ie.shared;var ve=ie.pending;ve===null?K.next=K:(K.next=ve.next,ve.next=K),ie.pending=K}}N.lanes|=h,K=N.alternate,K!==null&&(K.lanes|=h),jm(N.return,h,c),z.lanes|=h;break}K=K.next}}else if(N.tag===10)R=N.type===c.type?null:N.child;else if(N.tag===18){if(R=N.return,R===null)throw Error(t(341));R.lanes|=h,z=R.alternate,z!==null&&(z.lanes|=h),jm(R,h,c),R=N.sibling}else R=N.child;if(R!==null)R.return=N;else for(R=N;R!==null;){if(R===c){R=null;break}if(N=R.sibling,N!==null){N.return=R.return,R=N;break}R=R.return}N=R}nr(i,c,_.children,h),c=c.child}return c;case 9:return _=c.type,v=c.pendingProps.children,Aa(c,h),_=Lr(_),v=v(_),c.flags|=1,nr(i,c,v,h),c.child;case 14:return v=c.type,_=es(v,c.pendingProps),_=es(v.type,_),P0(i,c,v,_,h);case 15:return R0(i,c,c.type,c.pendingProps,h);case 17:return v=c.type,_=c.pendingProps,_=c.elementType===v?_:es(v,_),Nd(i,c),c.tag=1,dr(v)?(i=!0,cd(c)):i=!1,Aa(c,h),T0(c,v,_),qm(c,v,_,h),Qm(null,c,v,!0,i,h);case 19:return z0(i,c,h);case 22:return O0(i,c,h)}throw Error(t(156,c.tag))};function hw(i,c){return Wh(i,c)}function OM(i,c,h,v){this.tag=i,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(i,c,h,v){return new OM(i,c,h,v)}function vp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function LM(i){if(typeof i=="function")return vp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===se)return 11;if(i===xe)return 14}return 2}function ei(i,c){var h=i.alternate;return h===null?(h=Ur(i.tag,c,i.key,i.mode),h.elementType=i.elementType,h.type=i.type,h.stateNode=i.stateNode,h.alternate=i,i.alternate=h):(h.pendingProps=c,h.type=i.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=i.flags&14680064,h.childLanes=i.childLanes,h.lanes=i.lanes,h.child=i.child,h.memoizedProps=i.memoizedProps,h.memoizedState=i.memoizedState,h.updateQueue=i.updateQueue,c=i.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=i.sibling,h.index=i.index,h.ref=i.ref,h}function Fd(i,c,h,v,_,N){var R=2;if(v=i,typeof i=="function")vp(i)&&(R=1);else if(typeof i=="string")R=5;else e:switch(i){case L:return Bi(h.children,_,N,c);case V:R=8,_|=8;break;case B:return i=Ur(12,h,c,_|2),i.elementType=B,i.lanes=N,i;case ce:return i=Ur(13,h,c,_),i.elementType=ce,i.lanes=N,i;case ke:return i=Ur(19,h,c,_),i.elementType=ke,i.lanes=N,i;case pe:return $d(h,_,N,c);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ee:R=10;break e;case X:R=9;break e;case se:R=11;break e;case xe:R=14;break e;case me:R=16,v=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return c=Ur(R,h,c,_),c.elementType=i,c.type=v,c.lanes=N,c}function Bi(i,c,h,v){return i=Ur(7,i,v,c),i.lanes=h,i}function $d(i,c,h,v){return i=Ur(22,i,v,c),i.elementType=pe,i.lanes=h,i.stateNode={isHidden:!1},i}function xp(i,c,h){return i=Ur(6,i,null,c),i.lanes=h,i}function wp(i,c,h){return c=Ur(4,i.children!==null?i.children:[],i.key,c),c.lanes=h,c.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},c}function FM(i,c,h,v,_){this.tag=c,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yh(0),this.expirationTimes=Yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yh(0),this.identifierPrefix=v,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function _p(i,c,h,v,_,N,R,z,K){return i=new FM(i,c,h,z,K),c===1?(c=1,N===!0&&(c|=8)):c=0,N=Ur(3,null,null,c),i.current=N,N.stateNode=i,N.memoizedState={element:v,isDehydrated:h,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pm(N),i}function $M(i,c,h){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:O,key:v==null?null:""+v,children:i,containerInfo:c,implementation:h}}function mw(i){if(!i)return Ho;i=i._reactInternals;e:{if(Ze(i)!==i||i.tag!==1)throw Error(t(170));var c=i;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(dr(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(t(171))}if(i.tag===1){var h=i.type;if(dr(h))return Bx(i,h,c)}return c}function pw(i,c,h,v,_,N,R,z,K){return i=_p(h,v,!0,i,_,N,R,z,K),i.context=mw(null),h=i.current,v=rr(),_=Qo(h),N=oo(v,_),N.callback=c!=null?c:null,qo(h,N,_),i.current.lanes=_,Yl(i,_,v),mr(i,v),i}function Ud(i,c,h,v){var _=c.current,N=rr(),R=Qo(_);return h=mw(h),c.context===null?c.context=h:c.pendingContext=h,c=oo(N,R),c.payload={element:i},v=v===void 0?null:v,v!==null&&(c.callback=v),i=qo(_,c,R),i!==null&&(rs(i,_,R,N),yd(i,_,R)),R}function Vd(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function gw(i,c){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var h=i.retryLane;i.retryLane=h!==0&&h<c?h:c}}function kp(i,c){gw(i,c),(i=i.alternate)&&gw(i,c)}function UM(){return null}var yw=typeof reportError=="function"?reportError:function(i){console.error(i)};function Cp(i){this._internalRoot=i}Bd.prototype.render=Cp.prototype.render=function(i){var c=this._internalRoot;if(c===null)throw Error(t(409));Ud(i,c,null,null)},Bd.prototype.unmount=Cp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var c=i.containerInfo;$i(function(){Ud(null,i,null,null)}),c[eo]=null}};function Bd(i){this._internalRoot=i}Bd.prototype.unstable_scheduleHydration=function(i){if(i){var c=ex();i={blockedOn:null,target:i,priority:c};for(var h=0;h<Uo.length&&c!==0&&c<Uo[h].priority;h++);Uo.splice(h,0,i),h===0&&rx(i)}};function Sp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function zd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function vw(){}function VM(i,c,h,v,_){if(_){if(typeof v=="function"){var N=v;v=function(){var ie=Vd(R);N.call(ie)}}var R=pw(c,v,i,0,null,!1,!1,"",vw);return i._reactRootContainer=R,i[eo]=R.current,ac(i.nodeType===8?i.parentNode:i),$i(),R}for(;_=i.lastChild;)i.removeChild(_);if(typeof v=="function"){var z=v;v=function(){var ie=Vd(K);z.call(ie)}}var K=_p(i,0,!1,null,null,!1,!1,"",vw);return i._reactRootContainer=K,i[eo]=K.current,ac(i.nodeType===8?i.parentNode:i),$i(function(){Ud(c,K,h,v)}),K}function Wd(i,c,h,v,_){var N=h._reactRootContainer;if(N){var R=N;if(typeof _=="function"){var z=_;_=function(){var K=Vd(R);z.call(K)}}Ud(c,R,i,_)}else R=VM(h,c,i,_,v);return Vd(R)}Qv=function(i){switch(i.tag){case 3:var c=i.stateNode;if(c.current.memoizedState.isDehydrated){var h=Gl(c.pendingLanes);h!==0&&(qh(c,h|1),mr(c,_n()),(Et&6)===0&&(Fa=_n()+500,Go()))}break;case 13:$i(function(){var v=so(i,1);if(v!==null){var _=rr();rs(v,i,1,_)}}),kp(i,1)}},Kh=function(i){if(i.tag===13){var c=so(i,134217728);if(c!==null){var h=rr();rs(c,i,134217728,h)}kp(i,134217728)}},Xv=function(i){if(i.tag===13){var c=Qo(i),h=so(i,c);if(h!==null){var v=rr();rs(h,i,c,v)}kp(i,c)}},ex=function(){return Bt},tx=function(i,c){var h=Bt;try{return Bt=i,c()}finally{Bt=h}},ot=function(i,c,h){switch(c){case"input":if(gn(i,h),c=h.name,h.type==="radio"&&c!=null){for(h=i;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<h.length;c++){var v=h[c];if(v!==i&&v.form===i.form){var _=ad(v);if(!_)throw Error(t(90));$e(v),gn(v,_)}}}break;case"textarea":Un(i,h);break;case"select":c=h.value,c!=null&&tt(i,!!h.multiple,c,!1)}},wn=pp,Wn=$i;var BM={usingClientEntryPoint:!1,Events:[uc,ba,ad,zn,Qs,pp]},Sc={findFiberByHostInstance:Ii,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zM={bundleType:Sc.bundleType,version:Sc.version,rendererPackageName:Sc.rendererPackageName,rendererConfig:Sc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=$u(i),i===null?null:i.stateNode},findFiberByHostInstance:Sc.findFiberByHostInstance||UM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var Hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hd.isDisabled&&Hd.supportsFiber)try{Bu=Hd.inject(zM),Ts=Hd}catch(i){}}return pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BM,pr.createPortal=function(i,c){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sp(c))throw Error(t(200));return $M(i,c,null,h)},pr.createRoot=function(i,c){if(!Sp(i))throw Error(t(299));var h=!1,v="",_=yw;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(_=c.onRecoverableError)),c=_p(i,1,!1,null,null,h,!1,v,_),i[eo]=c.current,ac(i.nodeType===8?i.parentNode:i),new Cp(c)},pr.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var c=i._reactInternals;if(c===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=$u(c),i=i===null?null:i.stateNode,i},pr.flushSync=function(i){return $i(i)},pr.hydrate=function(i,c,h){if(!zd(c))throw Error(t(200));return Wd(null,i,c,!0,h)},pr.hydrateRoot=function(i,c,h){if(!Sp(i))throw Error(t(405));var v=h!=null&&h.hydratedSources||null,_=!1,N="",R=yw;if(h!=null&&(h.unstable_strictMode===!0&&(_=!0),h.identifierPrefix!==void 0&&(N=h.identifierPrefix),h.onRecoverableError!==void 0&&(R=h.onRecoverableError)),c=pw(c,null,i,1,h!=null?h:null,_,!1,N,R),i[eo]=c.current,ac(i),v)for(i=0;i<v.length;i++)h=v[i],_=h._getVersion,_=_(h._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[h,_]:c.mutableSourceEagerHydrationData.push(h,_);return new Bd(c)},pr.render=function(i,c,h){if(!zd(c))throw Error(t(200));return Wd(null,i,c,!1,h)},pr.unmountComponentAtNode=function(i){if(!zd(i))throw Error(t(40));return i._reactRootContainer?($i(function(){Wd(null,null,i,!1,function(){i._reactRootContainer=null,i[eo]=null})}),!0):!1},pr.unstable_batchedUpdates=pp,pr.unstable_renderSubtreeIntoContainer=function(i,c,h,v){if(!zd(h))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Wd(i,c,h,!1,v)},pr.version="18.3.1-next-f1338f8080-20240426",pr}var Mw;function Bk(){if(Mw)return Ep.exports;Mw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ep.exports=nD(),Ep.exports}var Dw;function rD(){if(Dw)return Yd;Dw=1;var n=Bk();return Yd.createRoot=n.createRoot,Yd.hydrateRoot=n.hydrateRoot,Yd}var sD=rD();const oD=rh(sD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Iw=n=>{const e=aD(n);return e.charAt(0).toUpperCase()+e.slice(1)},zk=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),lD=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=k.forwardRef((f,d)=>{var g=f,{color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:l}=g,u=Q(g,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return k.createElement("svg",b(b(U(b({ref:d},cD),{width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:zk("lucide",s)}),!o&&!lD(u)&&{"aria-hidden":"true"}),u),[...l.map(([y,x])=>k.createElement(y,x)),...Array.isArray(o)?o:[o]])});/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(n,e)=>{const t=k.forwardRef((l,o)=>{var u=l,{className:r}=u,s=Q(u,["className"]);return k.createElement(uD,b({ref:o,iconNode:e,className:zk(`lucide-${iD(Iw(n))}`,`lucide-${n}`,r)},s))});return t.displayName=Iw(n),t};/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]],fD=fe("apple",dD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hl=fe("arrow-left",hD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Wk=fe("arrow-right",mD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Df=fe("arrow-up",pD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],yD=fe("award",gD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M4 13c3.5-2 8-2 10 2a5.5 5.5 0 0 1 8 5",key:"1cscit"}],["path",{d:"M5.15 17.89c5.52-1.52 8.65-6.89 7-12C11.55 4 11.5 2 13 2c3.22 0 5 5.5 5 8 0 6.5-4.2 12-10.49 12C5.11 22 2 22 2 20c0-1.5 1.14-1.55 3.15-2.11Z",key:"1y1nbv"}]],xD=fe("banana",vD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M 22 14 L 22 10",key:"nqc4tb"}],["rect",{x:"2",y:"6",width:"16",height:"12",rx:"2",key:"13zb55"}]],_D=fe("battery",wD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],CD=fe("book",kD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],yg=fe("briefcase",SD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],TD=fe("building",bD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Hk=fe("calendar-days",ND);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],tn=fe("calendar",ED);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],DD=fe("camera",MD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],jD=fe("car",ID);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]],PD=fe("chart-no-axes-column-increasing",AD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$s=fe("check",RD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],by=fe("chevron-down",OD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ty=fe("chevron-left",LD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pu=fe("chevron-right",FD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],UD=fe("chevron-up",$D);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_r=fe("circle-alert",VD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],or=fe("circle-check-big",BD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],WD=fe("circle-check",zD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],GD=fe("circle-plus",HD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qD=fe("circle",YD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],wr=fe("clock",KD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],ZD=fe("cloud-off",JD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],na=fe("cloud",QD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],eI=fe("coffee",XD);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nI=fe("compass",tI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Vc=fe("copy",rI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],vg=fe("download",sI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],iI=fe("droplets",oI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],lI=fe("dumbbell",aI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Gk=fe("external-link",cI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ip=fe("eye-off",uI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vf=fe("eye",dI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],hI=fe("factory",fI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],pI=fe("flag",mI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]],yI=fe("flower",gI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],xI=fe("folder",vI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],_I=fe("gamepad-2",wI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],CI=fe("gift",kI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M6 21V9a9 9 0 0 0 9 9",key:"7kw0sc"}]],bI=fe("git-merge",SI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],NI=fe("globe",TI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],MI=fe("grid-3x3",EI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],II=fe("grip-vertical",DI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],AI=fe("headphones",jI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],RI=fe("heart",PI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]],LI=fe("hospital",OI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],$I=fe("house",FI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],VI=fe("info",UI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]],zI=fe("kanban",BI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],xg=fe("key",WI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],GI=fe("keyboard",HI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],qI=fe("laptop",YI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],al=fe("layers",KI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ZI=fe("layout-dashboard",JI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],XI=fe("layout-grid",QI);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],tj=fe("leaf",ej);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],rj=fe("lightbulb",nj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],oj=fe("list-checks",sj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],tu=fe("list",ij);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],If=fe("loader-circle",aj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],cj=fe("log-out",lj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ll=fe("mail",uj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],fj=fe("map",dj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],mj=fe("maximize-2",hj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],gj=fe("message-circle",pj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],vj=fe("mic",yj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],jw=fe("minimize-2",xj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M5 12h14",key:"1ays0h"}]],Yk=fe("minus",wj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],kj=fe("monitor",_j);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Sj=fe("moon",Cj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["rect",{x:"5",y:"2",width:"14",height:"20",rx:"7",key:"11ol66"}],["path",{d:"M12 6v4",key:"16clxf"}]],Tj=fe("mouse",bj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],Ej=fe("music",Nj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Dj=fe("palette",Mj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],jj=fe("panel-left",Ij);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Pj=fe("panels-top-left",Aj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Aw=fe("pause",Rj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Lj=fe("phone",Oj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],$j=fe("plane",Fj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Pw=fe("play",Uj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],go=fe("plus",Vj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],zj=fe("printer",Bj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],Hj=fe("puzzle",Wj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Yj=fe("refresh-cw",Gj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Ki=fe("repeat",qj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qk=fe("save",Kj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Zj=fe("school",Jj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xj=fe("search",Qj);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],tA=fe("settings",eA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Kk=fe("shield",nA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],sA=fe("shopping-bag",rA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],jp=fe("skip-forward",oA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],aA=fe("smile",iA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ci=fe("sparkles",lA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uA=fe("square-check-big",cA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],as=fe("square-pen",dA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],hA=fe("star",fA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],pA=fe("store",mA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],yA=fe("sun",gA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],xA=fe("tag",vA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Jk=fe("target",wA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ui=fe("trash-2",_A);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]],CA=fe("trees",kA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sh=fe("triangle-alert",SA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TA=fe("trending-up",bA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],EA=fe("unlink",NA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wg=fe("user",MA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],IA=fe("utensils",DA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],AA=fe("wifi",jA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ms=fe("x",PA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zk=fe("zap",RA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],LA=fe("zoom-in",OA);/**
 * @license lucide-react v0.514.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],$A=fe("zoom-out",FA);function Rw(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function oh(...n){return e=>{let t=!1;const r=n.map(s=>{const o=Rw(s,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Rw(n[s],null)}}}}function Dt(...n){return k.useCallback(oh(...n),n)}function ra(n){const e=UA(n),t=k.forwardRef((r,s)=>{const f=r,{children:o}=f,l=Q(f,["children"]),u=k.Children.toArray(o),d=u.find(BA);if(d){const g=d.props.children,y=u.map(x=>x===d?k.Children.count(g)>1?k.Children.only(null):k.isValidElement(g)?g.props.children:null:x);return a.jsx(e,U(b({},l),{ref:s,children:k.isValidElement(g)?k.cloneElement(g,void 0,y):null}))}return a.jsx(e,U(b({},l),{ref:s,children:o}))});return t.displayName=`${n}.Slot`,t}var gu=ra("Slot");function UA(n){const e=k.forwardRef((t,r)=>{const l=t,{children:s}=l,o=Q(l,["children"]);if(k.isValidElement(s)){const u=WA(s),d=zA(o,s.props);return s.type!==k.Fragment&&(d.ref=r?oh(r,u):u),k.cloneElement(s,d)}return k.Children.count(s)>1?k.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var Qk=Symbol("radix.slottable");function VA(n){const e=({children:t})=>a.jsx(a.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=Qk,e}function BA(n){return k.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===Qk}function zA(n,e){const t=b({},e);for(const r in e){const s=n[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?t[r]=(...u)=>{const d=o(...u);return s(...u),d}:s&&(t[r]=s):r==="style"?t[r]=b(b({},s),o):r==="className"&&(t[r]=[s,o].filter(Boolean).join(" "))}return b(b({},n),t)}function WA(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Xk(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=Xk(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function eC(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=Xk(n))&&(r&&(r+=" "),r+=e);return r}const Ow=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Lw=eC,yu=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return Lw(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(f=>{const g=t==null?void 0:t[f],y=o==null?void 0:o[f];if(g===null)return null;const x=Ow(g)||Ow(y);return s[f][x]}),u=t&&Object.entries(t).reduce((f,g)=>{let[y,x]=g;return x===void 0||(f[y]=x),f},{}),d=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((f,g)=>{let C=g,{class:y,className:x}=C,w=Q(C,["class","className"]);return Object.entries(w).every(S=>{let[T,E]=S;return Array.isArray(E)?E.includes(b(b({},o),u)[T]):b(b({},o),u)[T]===E})?[...f,y,x]:f},[]);return Lw(n,l,d,t==null?void 0:t.class,t==null?void 0:t.className)},Ny="-",HA=n=>{const e=YA(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const u=l.split(Ny);return u[0]===""&&u.length!==1&&u.shift(),tC(u,e)||GA(l)},getConflictingClassGroupIds:(l,u)=>{const d=t[l]||[];return u&&r[l]?[...d,...r[l]]:d}}},tC=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?tC(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=n.join(Ny);return(l=e.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},Fw=/^\[(.+)\]$/,GA=n=>{if(Fw.test(n)){const e=Fw.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},YA=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const s in t)_g(t[s],r,s,e);return r},_g=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const o=s===""?e:$w(e,s);o.classGroupId=t;return}if(typeof s=="function"){if(qA(s)){_g(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([o,l])=>{_g(l,$w(e,o),t,r)})})},$w=(n,e)=>{let t=n;return e.split(Ny).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},qA=n=>n.isThemeGetter,KA=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(o,l)=>{t.set(o,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(o){let l=t.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return s(o,l),l},set(o,l){t.has(o)?t.set(o,l):s(o,l)}}},kg="!",Cg=":",JA=Cg.length,ZA=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=s=>{const o=[];let l=0,u=0,d=0,f;for(let C=0;C<s.length;C++){let S=s[C];if(l===0&&u===0){if(S===Cg){o.push(s.slice(d,C)),d=C+JA;continue}if(S==="/"){f=C;continue}}S==="["?l++:S==="]"?l--:S==="("?u++:S===")"&&u--}const g=o.length===0?s:s.substring(d),y=QA(g),x=y!==g,w=f&&f>d?f-d:void 0;return{modifiers:o,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:w}};if(e){const s=e+Cg,o=r;r=l=>l.startsWith(s)?o(l.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(t){const s=r;r=o=>t({className:o,parseClassName:s})}return r},QA=n=>n.endsWith(kg)?n.substring(0,n.length-1):n.startsWith(kg)?n.substring(1):n,XA=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const s=[];let o=[];return r.forEach(l=>{l[0]==="["||e[l]?(s.push(...o.sort(),l),o=[]):o.push(l)}),s.push(...o.sort()),s}},eP=n=>b({cache:KA(n.cacheSize),parseClassName:ZA(n),sortModifiers:XA(n)},HA(n)),tP=/\s+/,nP=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:o}=e,l=[],u=n.trim().split(tP);let d="";for(let f=u.length-1;f>=0;f-=1){const g=u[f],{isExternal:y,modifiers:x,hasImportantModifier:w,baseClassName:C,maybePostfixModifierPosition:S}=t(g);if(y){d=g+(d.length>0?" "+d:d);continue}let T=!!S,E=r(T?C.substring(0,S):C);if(!E){if(!T){d=g+(d.length>0?" "+d:d);continue}if(E=r(C),!E){d=g+(d.length>0?" "+d:d);continue}T=!1}const P=o(x).join(":"),I=w?P+kg:P,A=I+E;if(l.includes(A))continue;l.push(A);const D=s(E,T);for(let O=0;O<D.length;++O){const L=D[O];l.push(I+L)}d=g+(d.length>0?" "+d:d)}return d};function rP(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=nC(e))&&(r&&(r+=" "),r+=t);return r}const nC=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=nC(n[r]))&&(t&&(t+=" "),t+=e);return t};function sP(n,...e){let t,r,s,o=l;function l(d){const f=e.reduce((g,y)=>y(g),n());return t=eP(f),r=t.cache.get,s=t.cache.set,o=u,u(d)}function u(d){const f=r(d);if(f)return f;const g=nP(d,t);return s(d,g),g}return function(){return o(rP.apply(null,arguments))}}const jn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},rC=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,sC=/^\((?:(\w[\w-]*):)?(.+)\)$/i,oP=/^\d+\/\d+$/,iP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,lP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,cP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,uP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ua=n=>oP.test(n),ft=n=>!!n&&!Number.isNaN(Number(n)),ri=n=>!!n&&Number.isInteger(Number(n)),Ap=n=>n.endsWith("%")&&ft(n.slice(0,-1)),lo=n=>iP.test(n),dP=()=>!0,fP=n=>aP.test(n)&&!lP.test(n),oC=()=>!1,hP=n=>cP.test(n),mP=n=>uP.test(n),pP=n=>!Oe(n)&&!Le(n),gP=n=>Il(n,lC,oC),Oe=n=>rC.test(n),zi=n=>Il(n,cC,fP),Pp=n=>Il(n,_P,ft),Uw=n=>Il(n,iC,oC),yP=n=>Il(n,aC,mP),qd=n=>Il(n,uC,hP),Le=n=>sC.test(n),Tc=n=>jl(n,cC),vP=n=>jl(n,kP),Vw=n=>jl(n,iC),xP=n=>jl(n,lC),wP=n=>jl(n,aC),Kd=n=>jl(n,uC,!0),Il=(n,e,t)=>{const r=rC.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},jl=(n,e,t=!1)=>{const r=sC.exec(n);return r?r[1]?e(r[1]):t:!1},iC=n=>n==="position"||n==="percentage",aC=n=>n==="image"||n==="url",lC=n=>n==="length"||n==="size"||n==="bg-size",cC=n=>n==="length",_P=n=>n==="number",kP=n=>n==="family-name",uC=n=>n==="shadow",CP=()=>{const n=jn("color"),e=jn("font"),t=jn("text"),r=jn("font-weight"),s=jn("tracking"),o=jn("leading"),l=jn("breakpoint"),u=jn("container"),d=jn("spacing"),f=jn("radius"),g=jn("shadow"),y=jn("inset-shadow"),x=jn("text-shadow"),w=jn("drop-shadow"),C=jn("blur"),S=jn("perspective"),T=jn("aspect"),E=jn("ease"),P=jn("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...A(),Le,Oe],O=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],V=()=>[Le,Oe,d],B=()=>[Ua,"full","auto",...V()],ee=()=>[ri,"none","subgrid",Le,Oe],X=()=>["auto",{span:["full",ri,Le,Oe]},ri,Le,Oe],se=()=>[ri,"auto",Le,Oe],ce=()=>["auto","min","max","fr",Le,Oe],ke=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],xe=()=>["start","end","center","stretch","center-safe","end-safe"],me=()=>["auto",...V()],pe=()=>[Ua,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...V()],j=()=>[n,Le,Oe],H=()=>[...A(),Vw,Uw,{position:[Le,Oe]}],$=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",xP,gP,{size:[Le,Oe]}],q=()=>[Ap,Tc,zi],W=()=>["","none","full",f,Le,Oe],ne=()=>["",ft,Tc,zi],G=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[ft,Ap,Vw,Uw],Y=()=>["","none",C,Le,Oe],he=()=>["none",ft,Le,Oe],Me=()=>["none",ft,Le,Oe],Be=()=>[ft,Le,Oe],$e=()=>[Ua,"full",...V()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[lo],breakpoint:[lo],color:[dP],container:[lo],"drop-shadow":[lo],ease:["in","out","in-out"],font:[pP],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[lo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[lo],shadow:[lo],spacing:["px",ft],text:[lo],"text-shadow":[lo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ua,Oe,Le,T]}],container:["container"],columns:[{columns:[ft,Oe,Le,u]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[ri,"auto",Le,Oe]}],basis:[{basis:[Ua,"full","auto",u,...V()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ft,Ua,"auto","initial","none",Oe]}],grow:[{grow:["",ft,Le,Oe]}],shrink:[{shrink:["",ft,Le,Oe]}],order:[{order:[ri,"first","last","none",Le,Oe]}],"grid-cols":[{"grid-cols":ee()}],"col-start-end":[{col:X()}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":ee()}],"row-start-end":[{row:X()}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ce()}],"auto-rows":[{"auto-rows":ce()}],gap:[{gap:V()}],"gap-x":[{"gap-x":V()}],"gap-y":[{"gap-y":V()}],"justify-content":[{justify:[...ke(),"normal"]}],"justify-items":[{"justify-items":[...xe(),"normal"]}],"justify-self":[{"justify-self":["auto",...xe()]}],"align-content":[{content:["normal",...ke()]}],"align-items":[{items:[...xe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...xe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ke()}],"place-items":[{"place-items":[...xe(),"baseline"]}],"place-self":[{"place-self":["auto",...xe()]}],p:[{p:V()}],px:[{px:V()}],py:[{py:V()}],ps:[{ps:V()}],pe:[{pe:V()}],pt:[{pt:V()}],pr:[{pr:V()}],pb:[{pb:V()}],pl:[{pl:V()}],m:[{m:me()}],mx:[{mx:me()}],my:[{my:me()}],ms:[{ms:me()}],me:[{me:me()}],mt:[{mt:me()}],mr:[{mr:me()}],mb:[{mb:me()}],ml:[{ml:me()}],"space-x":[{"space-x":V()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":V()}],"space-y-reverse":["space-y-reverse"],size:[{size:pe()}],w:[{w:[u,"screen",...pe()]}],"min-w":[{"min-w":[u,"screen","none",...pe()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...pe()]}],h:[{h:["screen","lh",...pe()]}],"min-h":[{"min-h":["screen","lh","none",...pe()]}],"max-h":[{"max-h":["screen","lh",...pe()]}],"font-size":[{text:["base",t,Tc,zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Le,Pp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ap,Oe]}],"font-family":[{font:[vP,Oe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Le,Oe]}],"line-clamp":[{"line-clamp":[ft,"none",Le,Pp]}],leading:[{leading:[o,...V()]}],"list-image":[{"list-image":["none",Le,Oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Le,Oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:j()}],"text-color":[{text:j()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[ft,"from-font","auto",Le,zi]}],"text-decoration-color":[{decoration:j()}],"underline-offset":[{"underline-offset":[ft,"auto",Le,Oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le,Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le,Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:H()}],"bg-repeat":[{bg:$()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ri,Le,Oe],radial:["",Le,Oe],conic:[ri,Le,Oe]},wP,yP]}],"bg-color":[{bg:j()}],"gradient-from-pos":[{from:q()}],"gradient-via-pos":[{via:q()}],"gradient-to-pos":[{to:q()}],"gradient-from":[{from:j()}],"gradient-via":[{via:j()}],"gradient-to":[{to:j()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:j()}],"border-color-x":[{"border-x":j()}],"border-color-y":[{"border-y":j()}],"border-color-s":[{"border-s":j()}],"border-color-e":[{"border-e":j()}],"border-color-t":[{"border-t":j()}],"border-color-r":[{"border-r":j()}],"border-color-b":[{"border-b":j()}],"border-color-l":[{"border-l":j()}],"divide-color":[{divide:j()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ft,Le,Oe]}],"outline-w":[{outline:["",ft,Tc,zi]}],"outline-color":[{outline:j()}],shadow:[{shadow:["","none",g,Kd,qd]}],"shadow-color":[{shadow:j()}],"inset-shadow":[{"inset-shadow":["none",y,Kd,qd]}],"inset-shadow-color":[{"inset-shadow":j()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:j()}],"ring-offset-w":[{"ring-offset":[ft,zi]}],"ring-offset-color":[{"ring-offset":j()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":j()}],"text-shadow":[{"text-shadow":["none",x,Kd,qd]}],"text-shadow-color":[{"text-shadow":j()}],opacity:[{opacity:[ft,Le,Oe]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ft]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":j()}],"mask-image-linear-to-color":[{"mask-linear-to":j()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":j()}],"mask-image-t-to-color":[{"mask-t-to":j()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":j()}],"mask-image-r-to-color":[{"mask-r-to":j()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":j()}],"mask-image-b-to-color":[{"mask-b-to":j()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":j()}],"mask-image-l-to-color":[{"mask-l-to":j()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":j()}],"mask-image-x-to-color":[{"mask-x-to":j()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":j()}],"mask-image-y-to-color":[{"mask-y-to":j()}],"mask-image-radial":[{"mask-radial":[Le,Oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":j()}],"mask-image-radial-to-color":[{"mask-radial-to":j()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[ft]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":j()}],"mask-image-conic-to-color":[{"mask-conic-to":j()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:H()}],"mask-repeat":[{mask:$()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Le,Oe]}],filter:[{filter:["","none",Le,Oe]}],blur:[{blur:Y()}],brightness:[{brightness:[ft,Le,Oe]}],contrast:[{contrast:[ft,Le,Oe]}],"drop-shadow":[{"drop-shadow":["","none",w,Kd,qd]}],"drop-shadow-color":[{"drop-shadow":j()}],grayscale:[{grayscale:["",ft,Le,Oe]}],"hue-rotate":[{"hue-rotate":[ft,Le,Oe]}],invert:[{invert:["",ft,Le,Oe]}],saturate:[{saturate:[ft,Le,Oe]}],sepia:[{sepia:["",ft,Le,Oe]}],"backdrop-filter":[{"backdrop-filter":["","none",Le,Oe]}],"backdrop-blur":[{"backdrop-blur":Y()}],"backdrop-brightness":[{"backdrop-brightness":[ft,Le,Oe]}],"backdrop-contrast":[{"backdrop-contrast":[ft,Le,Oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ft,Le,Oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ft,Le,Oe]}],"backdrop-invert":[{"backdrop-invert":["",ft,Le,Oe]}],"backdrop-opacity":[{"backdrop-opacity":[ft,Le,Oe]}],"backdrop-saturate":[{"backdrop-saturate":[ft,Le,Oe]}],"backdrop-sepia":[{"backdrop-sepia":["",ft,Le,Oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":V()}],"border-spacing-x":[{"border-spacing-x":V()}],"border-spacing-y":[{"border-spacing-y":V()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Le,Oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ft,"initial",Le,Oe]}],ease:[{ease:["linear","initial",E,Le,Oe]}],delay:[{delay:[ft,Le,Oe]}],animate:[{animate:["none",P,Le,Oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,Le,Oe]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:Me()}],"scale-x":[{"scale-x":Me()}],"scale-y":[{"scale-y":Me()}],"scale-z":[{"scale-z":Me()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[Le,Oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:$e()}],"translate-x":[{"translate-x":$e()}],"translate-y":[{"translate-y":$e()}],"translate-z":[{"translate-z":$e()}],"translate-none":["translate-none"],accent:[{accent:j()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:j()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le,Oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le,Oe]}],fill:[{fill:["none",...j()]}],"stroke-w":[{stroke:[ft,Tc,zi,Pp]}],stroke:[{stroke:["none",...j()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},SP=sP(CP);function ae(...n){return SP(eC(n))}const Sg=yu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function de(o){var l=o,{className:n,variant:e,size:t,asChild:r=!1}=l,s=Q(l,["className","variant","size","asChild"]);const u=r?gu:"button";return a.jsx(u,b({"data-slot":"button",className:ae(Sg({variant:e,size:t,className:n}))},s))}const bP="modulepreload",TP=function(n){return"/"+n},Bw={},wi=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let l=function(f){return Promise.all(f.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));s=l(t.map(f=>{if(f=TP(f),f in Bw)return;Bw[f]=!0;const g=f.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${y}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":bP,g||(x.as="script"),x.crossOrigin="",x.href=f,d&&x.setAttribute("nonce",d),document.head.appendChild(x),g)return new Promise((w,C)=>{x.addEventListener("load",w),x.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},xf=()=>!0;let Rp=null;const gr=()=>M(null,null,function*(){if(!Rp)try{const{getCurrentWindow:n}=yield wi(()=>M(null,null,function*(){const{getCurrentWindow:e}=yield import("./window-CWXygZvY.js");return{getCurrentWindow:e}}),__vite__mapDeps([0,1]));Rp=n()}catch(n){console.warn("Failed to load Tauri window APIs:",n)}return Rp});class NP{minimize(){return M(this,null,function*(){const e=yield gr();e&&(yield e.minimize())})}toggleMaximize(){return M(this,null,function*(){const e=yield gr();e&&(yield e.toggleMaximize())})}close(){return M(this,null,function*(){const e=yield gr();e&&(yield e.close())})}setAlwaysOnTop(e){return M(this,null,function*(){const t=yield gr();t&&(yield t.setAlwaysOnTop(e))})}setSize(e,t){return M(this,null,function*(){const r=yield gr();if(r){const{LogicalSize:s}=yield wi(()=>M(null,null,function*(){const{LogicalSize:o}=yield import("./dpi-BwbmHrYW.js").then(l=>l.d);return{LogicalSize:o}}),[]);yield r.setSize(new s(e,t))}})}setPosition(e,t){return M(this,null,function*(){const r=yield gr();if(r){const{LogicalPosition:s}=yield wi(()=>M(null,null,function*(){const{LogicalPosition:o}=yield import("./dpi-BwbmHrYW.js").then(l=>l.d);return{LogicalPosition:o}}),[]);yield r.setPosition(new s(e,t))}})}setResizable(e){return M(this,null,function*(){const t=yield gr();t&&(yield t.setResizable(e))})}setDecorations(e){return M(this,null,function*(){const t=yield gr();t&&(yield t.setDecorations(e))})}setFullscreen(e){return M(this,null,function*(){const t=yield gr();t&&(yield t.setFullscreen(e))})}center(){return M(this,null,function*(){const e=yield gr();e&&(yield e.center())})}setFocus(){return M(this,null,function*(){const e=yield gr();e&&(yield e.setFocus())})}isAlwaysOnTop(){return M(this,null,function*(){const e=yield gr();return e?yield e.isAlwaysOnTop():!1})}setVisibleOnAllWorkspaces(e){return M(this,null,function*(){const t=yield gr();if(t)try{yield t.setVisibleOnAllWorkspaces(e)}catch(r){console.debug("setVisibleOnAllWorkspaces not supported:",r)}})}setMinimizable(e){return M(this,null,function*(){const t=yield gr();t&&(yield t.setMinimizable(e))})}}const St=new NP,cl=()=>{const[n,e]=k.useState(!1);if(k.useEffect(()=>{e(!0)},[]),!n)return null;const t=()=>{St.minimize()},r=()=>{St.toggleMaximize()},s=()=>{St.close()},o=l=>{l.detail===2&&St.toggleMaximize()};return a.jsxs("div",{className:"flex items-center justify-between h-8 select-none fixed top-0 left-0 right-0 z-50 backdrop-blur-sm  pointer-events-none",children:[a.jsx("div",{className:"flex items-center gap-2 px-3 h-full flex-1 pointer-events-auto","data-tauri-drag-region":!0,onDoubleClick:o})," ",a.jsxs("div",{className:"flex items-center h-full pointer-events-auto",children:[a.jsx(de,{onClick:t,variant:"ghost",size:"sm",className:"h-8 w-12 p-0 rounded-none hover:bg-muted/50 transition-colors","aria-label":"Minimize",children:a.jsx(Yk,{className:"h-3 w-3"})}),a.jsx(de,{onClick:r,variant:"ghost",size:"sm",className:"h-8 w-12 p-0 rounded-none hover:bg-muted/50 transition-colors","aria-label":"Maximize",children:a.jsx("div",{className:"w-2.5 h-2.5 border border-current"})}),a.jsx(de,{onClick:s,variant:"ghost",size:"sm",className:"h-8 w-12 p-0 rounded-none hover:bg-destructive hover:text-destructive-foreground transition-colors","aria-label":"Close",children:a.jsx(ms,{})})]})]})};function Ie(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function EP(n,e){const t=k.createContext(e),r=o=>{const f=o,{children:l}=f,u=Q(f,["children"]),d=k.useMemo(()=>u,Object.values(u));return a.jsx(t.Provider,{value:d,children:l})};r.displayName=n+"Provider";function s(o){const l=k.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${n}\``)}return[r,s]}function ws(n,e=[]){let t=[];function r(o,l){const u=k.createContext(l),d=t.length;t=[...t,l];const f=y=>{var P;const E=y,{scope:x,children:w}=E,C=Q(E,["scope","children"]),S=((P=x==null?void 0:x[n])==null?void 0:P[d])||u,T=k.useMemo(()=>C,Object.values(C));return a.jsx(S.Provider,{value:T,children:w})};f.displayName=o+"Provider";function g(y,x){var S;const w=((S=x==null?void 0:x[n])==null?void 0:S[d])||u,C=k.useContext(w);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${y}\` must be used within \`${o}\``)}return[f,g]}const s=()=>{const o=t.map(l=>k.createContext(l));return function(u){const d=(u==null?void 0:u[n])||o;return k.useMemo(()=>({[`__scope${n}`]:U(b({},u),{[n]:d})}),[u,d])}};return s.scopeName=n,[r,MP(s,...e)]}function MP(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=r.reduce((u,{useScope:d,scopeName:f})=>{const y=d(o)[`__scope${f}`];return b(b({},u),y)},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}var Xn=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},DP=Vk[" useId ".trim().toString()]||(()=>{}),IP=0;function zr(n){const[e,t]=k.useState(DP());return Xn(()=>{t(r=>r!=null?r:String(IP++))},[n]),e?`radix-${e}`:""}var jP=Vk[" useInsertionEffect ".trim().toString()]||Xn;function No({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,o,l]=AP({defaultProp:e,onChange:t}),u=n!==void 0,d=u?n:s;{const g=k.useRef(n!==void 0);k.useEffect(()=>{const y=g.current;y!==u&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=u},[u,r])}const f=k.useCallback(g=>{var y;if(u){const x=PP(g)?g(n):g;x!==n&&((y=l.current)==null||y.call(l,x))}else o(g)},[u,n,o,l]);return[d,f]}function AP({defaultProp:n,onChange:e}){const[t,r]=k.useState(n),s=k.useRef(t),o=k.useRef(e);return jP(()=>{o.current=e},[e]),k.useEffect(()=>{var l;s.current!==t&&((l=o.current)==null||l.call(o,t),s.current=t)},[t,s]),[t,r,o]}function PP(n){return typeof n=="function"}var Al=Bk();const RP=rh(Al);var OP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lt=OP.reduce((n,e)=>{const t=ra(`Primitive.${e}`),r=k.forwardRef((s,o)=>{const f=s,{asChild:l}=f,u=Q(f,["asChild"]),d=l?t:e;return typeof window!="undefined"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,U(b({},u),{ref:o}))});return r.displayName=`Primitive.${e}`,U(b({},n),{[e]:r})},{});function dC(n,e){n&&Al.flushSync(()=>n.dispatchEvent(e))}function Hr(n){const e=k.useRef(n);return k.useEffect(()=>{e.current=n}),k.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function LP(n,e=globalThis==null?void 0:globalThis.document){const t=Hr(n);k.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var FP="DismissableLayer",bg="dismissableLayer.update",$P="dismissableLayer.pointerDownOutside",UP="dismissableLayer.focusOutside",zw,fC=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vu=k.forwardRef((n,e)=>{var V;const L=n,{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:u}=L,d=Q(L,["disableOutsidePointerEvents","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss"]),f=k.useContext(fC),[g,y]=k.useState(null),x=(V=g==null?void 0:g.ownerDocument)!=null?V:globalThis==null?void 0:globalThis.document,[,w]=k.useState({}),C=Dt(e,B=>y(B)),S=Array.from(f.layers),[T]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),E=S.indexOf(T),P=g?S.indexOf(g):-1,I=f.layersWithOutsidePointerEventsDisabled.size>0,A=P>=E,D=zP(B=>{const ee=B.target,X=[...f.branches].some(se=>se.contains(ee));!A||X||(s==null||s(B),l==null||l(B),B.defaultPrevented||u==null||u())},x),O=WP(B=>{const ee=B.target;[...f.branches].some(se=>se.contains(ee))||(o==null||o(B),l==null||l(B),B.defaultPrevented||u==null||u())},x);return LP(B=>{P===f.layers.size-1&&(r==null||r(B),!B.defaultPrevented&&u&&(B.preventDefault(),u()))},x),k.useEffect(()=>{if(g)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(zw=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),Ww(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=zw)}},[g,x,t,f]),k.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),Ww())},[g,f]),k.useEffect(()=>{const B=()=>w({});return document.addEventListener(bg,B),()=>document.removeEventListener(bg,B)},[]),a.jsx(lt.div,U(b({},d),{ref:C,style:b({pointerEvents:I?A?"auto":"none":void 0},n.style),onFocusCapture:Ie(n.onFocusCapture,O.onFocusCapture),onBlurCapture:Ie(n.onBlurCapture,O.onBlurCapture),onPointerDownCapture:Ie(n.onPointerDownCapture,D.onPointerDownCapture)}))});vu.displayName=FP;var VP="DismissableLayerBranch",BP=k.forwardRef((n,e)=>{const t=k.useContext(fC),r=k.useRef(null),s=Dt(e,r);return k.useEffect(()=>{const o=r.current;if(o)return t.branches.add(o),()=>{t.branches.delete(o)}},[t.branches]),a.jsx(lt.div,U(b({},n),{ref:s}))});BP.displayName=VP;function zP(n,e=globalThis==null?void 0:globalThis.document){const t=Hr(n),r=k.useRef(!1),s=k.useRef(()=>{});return k.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let d=function(){hC($P,t,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function WP(n,e=globalThis==null?void 0:globalThis.document){const t=Hr(n),r=k.useRef(!1);return k.useEffect(()=>{const s=o=>{o.target&&!r.current&&hC(UP,t,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ww(){const n=new CustomEvent(bg);document.dispatchEvent(n)}function hC(n,e,t,{discrete:r}){const s=t.originalEvent.target,o=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?dC(s,o):s.dispatchEvent(o)}var Op="focusScope.autoFocusOnMount",Lp="focusScope.autoFocusOnUnmount",Hw={bubbles:!1,cancelable:!0},HP="FocusScope",ih=k.forwardRef((n,e)=>{const S=n,{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o}=S,l=Q(S,["loop","trapped","onMountAutoFocus","onUnmountAutoFocus"]),[u,d]=k.useState(null),f=Hr(s),g=Hr(o),y=k.useRef(null),x=Dt(e,T=>d(T)),w=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(r){let T=function(A){if(w.paused||!u)return;const D=A.target;u.contains(D)?y.current=D:oi(y.current,{select:!0})},E=function(A){if(w.paused||!u)return;const D=A.relatedTarget;D!==null&&(u.contains(D)||oi(y.current,{select:!0}))},P=function(A){if(document.activeElement===document.body)for(const O of A)O.removedNodes.length>0&&oi(u)};document.addEventListener("focusin",T),document.addEventListener("focusout",E);const I=new MutationObserver(P);return u&&I.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",T),document.removeEventListener("focusout",E),I.disconnect()}}},[r,u,w.paused]),k.useEffect(()=>{if(u){Yw.add(w);const T=document.activeElement;if(!u.contains(T)){const P=new CustomEvent(Op,Hw);u.addEventListener(Op,f),u.dispatchEvent(P),P.defaultPrevented||(GP(ZP(mC(u)),{select:!0}),document.activeElement===T&&oi(u))}return()=>{u.removeEventListener(Op,f),setTimeout(()=>{const P=new CustomEvent(Lp,Hw);u.addEventListener(Lp,g),u.dispatchEvent(P),P.defaultPrevented||oi(T!=null?T:document.body,{select:!0}),u.removeEventListener(Lp,g),Yw.remove(w)},0)}}},[u,f,g,w]);const C=k.useCallback(T=>{if(!t&&!r||w.paused)return;const E=T.key==="Tab"&&!T.altKey&&!T.ctrlKey&&!T.metaKey,P=document.activeElement;if(E&&P){const I=T.currentTarget,[A,D]=YP(I);A&&D?!T.shiftKey&&P===D?(T.preventDefault(),t&&oi(A,{select:!0})):T.shiftKey&&P===A&&(T.preventDefault(),t&&oi(D,{select:!0})):P===I&&T.preventDefault()}},[t,r,w.paused]);return a.jsx(lt.div,U(b({tabIndex:-1},l),{ref:x,onKeyDown:C}))});ih.displayName=HP;function GP(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(oi(r,{select:e}),document.activeElement!==t)return}function YP(n){const e=mC(n),t=Gw(e,n),r=Gw(e.reverse(),n);return[t,r]}function mC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Gw(n,e){for(const t of n)if(!qP(t,{upTo:e}))return t}function qP(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function KP(n){return n instanceof HTMLInputElement&&"select"in n}function oi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&KP(n)&&e&&n.select()}}var Yw=JP();function JP(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=qw(n,e),n.unshift(e)},remove(e){var t;n=qw(n,e),(t=n[0])==null||t.resume()}}}function qw(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function ZP(n){return n.filter(e=>e.tagName!=="A")}var QP="Portal",xu=k.forwardRef((n,e)=>{var d;const u=n,{container:t}=u,r=Q(u,["container"]),[s,o]=k.useState(!1);Xn(()=>o(!0),[]);const l=t||s&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return l?RP.createPortal(a.jsx(lt.div,U(b({},r),{ref:e})),l):null});xu.displayName=QP;function XP(n,e){return k.useReducer((t,r)=>{const s=e[t][r];return s!=null?s:t},n)}var _s=n=>{const{present:e,children:t}=n,r=eR(e),s=typeof t=="function"?t({present:r.isPresent}):k.Children.only(t),o=Dt(r.ref,tR(s));return typeof t=="function"||r.isPresent?k.cloneElement(s,{ref:o}):null};_s.displayName="Presence";function eR(n){const[e,t]=k.useState(),r=k.useRef(null),s=k.useRef(n),o=k.useRef("none"),l=n?"mounted":"unmounted",[u,d]=XP(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const f=Jd(r.current);o.current=u==="mounted"?f:"none"},[u]),Xn(()=>{const f=r.current,g=s.current;if(g!==n){const x=o.current,w=Jd(f);n?d("MOUNT"):w==="none"||(f==null?void 0:f.display)==="none"?d("UNMOUNT"):d(g&&x!==w?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,d]),Xn(()=>{var f;if(e){let g;const y=(f=e.ownerDocument.defaultView)!=null?f:window,x=C=>{const T=Jd(r.current).includes(C.animationName);if(C.target===e&&T&&(d("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",g=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},w=C=>{C.target===e&&(o.current=Jd(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{y.clearTimeout(g),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:k.useCallback(f=>{r.current=f?getComputedStyle(f):null,t(f)},[])}}function Jd(n){return(n==null?void 0:n.animationName)||"none"}function tR(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Fp=0;function Ey(){k.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!=null?e:Kw()),document.body.insertAdjacentElement("beforeend",(t=n[1])!=null?t:Kw()),Fp++,()=>{Fp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),Fp--}},[])}function Kw(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var As=function(){return As=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},As.apply(this,arguments)};function pC(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function nR(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return n.concat(o||Array.prototype.slice.call(e))}var wf="right-scroll-bar-position",_f="width-before-scroll-bar",rR="with-scroll-bars-hidden",sR="--removed-body-scroll-bar-size";function $p(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function oR(n,e){var t=k.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var iR=typeof window!="undefined"?k.useLayoutEffect:k.useEffect,Jw=new WeakMap;function aR(n,e){var t=oR(null,function(r){return n.forEach(function(s){return $p(s,r)})});return iR(function(){var r=Jw.get(t);if(r){var s=new Set(r),o=new Set(n),l=t.current;s.forEach(function(u){o.has(u)||$p(u,null)}),o.forEach(function(u){s.has(u)||$p(u,l)})}Jw.set(t,n)},[n]),t}function lR(n){return n}function cR(n,e){e===void 0&&(e=lR);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(o){var l=e(o,r);return t.push(l),function(){t=t.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(r=!0;t.length;){var l=t;t=[],l.forEach(o)}t={push:function(u){return o(u)},filter:function(){return t}}},assignMedium:function(o){r=!0;var l=[];if(t.length){var u=t;t=[],u.forEach(o),l=t}var d=function(){var g=l;l=[],g.forEach(o)},f=function(){return Promise.resolve().then(d)};f(),t={push:function(g){l.push(g),f()},filter:function(g){return l=l.filter(g),t}}}};return s}function uR(n){n===void 0&&(n={});var e=cR(null);return e.options=As({async:!0,ssr:!1},n),e}var gC=function(n){var e=n.sideCar,t=pC(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,As({},t))};gC.isSideCarExport=!0;function dR(n,e){return n.useMedium(e),gC}var yC=uR(),Up=function(){},ah=k.forwardRef(function(n,e){var t=k.useRef(null),r=k.useState({onScrollCapture:Up,onWheelCapture:Up,onTouchMoveCapture:Up}),s=r[0],o=r[1],l=n.forwardProps,u=n.children,d=n.className,f=n.removeScrollBar,g=n.enabled,y=n.shards,x=n.sideCar,w=n.noRelative,C=n.noIsolation,S=n.inert,T=n.allowPinchZoom,E=n.as,P=E===void 0?"div":E,I=n.gapMode,A=pC(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=x,O=aR([t,e]),L=As(As({},A),s);return k.createElement(k.Fragment,null,g&&k.createElement(D,{sideCar:yC,removeScrollBar:f,shards:y,noRelative:w,noIsolation:C,inert:S,setCallbacks:o,allowPinchZoom:!!T,lockRef:t,gapMode:I}),l?k.cloneElement(k.Children.only(u),As(As({},L),{ref:O})):k.createElement(P,As({},L,{className:d,ref:O}),u))});ah.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ah.classNames={fullWidth:_f,zeroRight:wf};var fR=function(){if(typeof __webpack_nonce__!="undefined")return __webpack_nonce__};function hR(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=fR();return e&&n.setAttribute("nonce",e),n}function mR(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function pR(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var gR=function(){var n=0,e=null;return{add:function(t){n==0&&(e=hR())&&(mR(e,t),pR(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yR=function(){var n=gR();return function(e,t){k.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},vC=function(){var n=yR(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},vR={left:0,top:0,right:0,gap:0},Vp=function(n){return parseInt(n||"",10)||0},xR=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[Vp(t),Vp(r),Vp(s)]},wR=function(n){if(n===void 0&&(n="margin"),typeof window=="undefined")return vR;var e=xR(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},_R=vC(),ml="data-scroll-locked",kR=function(n,e,t,r){var s=n.left,o=n.top,l=n.right,u=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(rR,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(ml,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wf,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(_f,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(wf," .").concat(wf,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(_f," .").concat(_f,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ml,`] {
    `).concat(sR,": ").concat(u,`px;
  }
`)},Zw=function(){var n=parseInt(document.body.getAttribute(ml)||"0",10);return isFinite(n)?n:0},CR=function(){k.useEffect(function(){return document.body.setAttribute(ml,(Zw()+1).toString()),function(){var n=Zw()-1;n<=0?document.body.removeAttribute(ml):document.body.setAttribute(ml,n.toString())}},[])},SR=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;CR();var o=k.useMemo(function(){return wR(s)},[s]);return k.createElement(_R,{styles:kR(o,!e,s,t?"":"!important")})},Tg=!1;if(typeof window!="undefined")try{var Zd=Object.defineProperty({},"passive",{get:function(){return Tg=!0,!0}});window.addEventListener("test",Zd,Zd),window.removeEventListener("test",Zd,Zd)}catch(n){Tg=!1}var Va=Tg?{passive:!1}:!1,bR=function(n){return n.tagName==="TEXTAREA"},xC=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!bR(n)&&t[e]==="visible")},TR=function(n){return xC(n,"overflowY")},NR=function(n){return xC(n,"overflowX")},Qw=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot!="undefined"&&r instanceof ShadowRoot&&(r=r.host);var s=wC(n,r);if(s){var o=_C(n,r),l=o[1],u=o[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},ER=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},MR=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},wC=function(n,e){return n==="v"?TR(e):NR(e)},_C=function(n,e){return n==="v"?ER(e):MR(e)},DR=function(n,e){return n==="h"&&e==="rtl"?-1:1},IR=function(n,e,t,r,s){var o=DR(n,window.getComputedStyle(e).direction),l=o*r,u=t.target,d=e.contains(u),f=!1,g=l>0,y=0,x=0;do{if(!u)break;var w=_C(n,u),C=w[0],S=w[1],T=w[2],E=S-T-o*C;(C||E)&&wC(n,u)&&(y+=E,x+=C);var P=u.parentNode;u=P&&P.nodeType===Node.DOCUMENT_FRAGMENT_NODE?P.host:P}while(!d&&u!==document.body||d&&(e.contains(u)||e===u));return(g&&Math.abs(y)<1||!g&&Math.abs(x)<1)&&(f=!0),f},Qd=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Xw=function(n){return[n.deltaX,n.deltaY]},e_=function(n){return n&&"current"in n?n.current:n},jR=function(n,e){return n[0]===e[0]&&n[1]===e[1]},AR=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},PR=0,Ba=[];function RR(n){var e=k.useRef([]),t=k.useRef([0,0]),r=k.useRef(),s=k.useState(PR++)[0],o=k.useState(vC)[0],l=k.useRef(n);k.useEffect(function(){l.current=n},[n]),k.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var S=nR([n.lockRef.current],(n.shards||[]).map(e_),!0).filter(Boolean);return S.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),S.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var u=k.useCallback(function(S,T){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!l.current.allowPinchZoom;var E=Qd(S),P=t.current,I="deltaX"in S?S.deltaX:P[0]-E[0],A="deltaY"in S?S.deltaY:P[1]-E[1],D,O=S.target,L=Math.abs(I)>Math.abs(A)?"h":"v";if("touches"in S&&L==="h"&&O.type==="range")return!1;var V=Qw(L,O);if(!V)return!0;if(V?D=L:(D=L==="v"?"h":"v",V=Qw(L,O)),!V)return!1;if(!r.current&&"changedTouches"in S&&(I||A)&&(r.current=D),!D)return!0;var B=r.current||D;return IR(B,T,S,B==="h"?I:A)},[]),d=k.useCallback(function(S){var T=S;if(!(!Ba.length||Ba[Ba.length-1]!==o)){var E="deltaY"in T?Xw(T):Qd(T),P=e.current.filter(function(D){return D.name===T.type&&(D.target===T.target||T.target===D.shadowParent)&&jR(D.delta,E)})[0];if(P&&P.should){T.cancelable&&T.preventDefault();return}if(!P){var I=(l.current.shards||[]).map(e_).filter(Boolean).filter(function(D){return D.contains(T.target)}),A=I.length>0?u(T,I[0]):!l.current.noIsolation;A&&T.cancelable&&T.preventDefault()}}},[]),f=k.useCallback(function(S,T,E,P){var I={name:S,delta:T,target:E,should:P,shadowParent:OR(E)};e.current.push(I),setTimeout(function(){e.current=e.current.filter(function(A){return A!==I})},1)},[]),g=k.useCallback(function(S){t.current=Qd(S),r.current=void 0},[]),y=k.useCallback(function(S){f(S.type,Xw(S),S.target,u(S,n.lockRef.current))},[]),x=k.useCallback(function(S){f(S.type,Qd(S),S.target,u(S,n.lockRef.current))},[]);k.useEffect(function(){return Ba.push(o),n.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",d,Va),document.addEventListener("touchmove",d,Va),document.addEventListener("touchstart",g,Va),function(){Ba=Ba.filter(function(S){return S!==o}),document.removeEventListener("wheel",d,Va),document.removeEventListener("touchmove",d,Va),document.removeEventListener("touchstart",g,Va)}},[]);var w=n.removeScrollBar,C=n.inert;return k.createElement(k.Fragment,null,C?k.createElement(o,{styles:AR(s)}):null,w?k.createElement(SR,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function OR(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const LR=dR(yC,RR);var lh=k.forwardRef(function(n,e){return k.createElement(ah,As({},n,{ref:e,sideCar:LR}))});lh.classNames=ah.classNames;var FR=function(n){if(typeof document=="undefined")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},za=new WeakMap,Xd=new WeakMap,ef={},Bp=0,kC=function(n){return n&&(n.host||kC(n.parentNode))},$R=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=kC(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},UR=function(n,e,t,r){var s=$R(e,Array.isArray(n)?n:[n]);ef[t]||(ef[t]=new WeakMap);var o=ef[t],l=[],u=new Set,d=new Set(s),f=function(y){!y||u.has(y)||(u.add(y),f(y.parentNode))};s.forEach(f);var g=function(y){!y||d.has(y)||Array.prototype.forEach.call(y.children,function(x){if(u.has(x))g(x);else try{var w=x.getAttribute(r),C=w!==null&&w!=="false",S=(za.get(x)||0)+1,T=(o.get(x)||0)+1;za.set(x,S),o.set(x,T),l.push(x),S===1&&C&&Xd.set(x,!0),T===1&&x.setAttribute(t,"true"),C||x.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",x,E)}})};return g(e),u.clear(),Bp++,function(){l.forEach(function(y){var x=za.get(y)-1,w=o.get(y)-1;za.set(y,x),o.set(y,w),x||(Xd.has(y)||y.removeAttribute(r),Xd.delete(y)),w||y.removeAttribute(t)}),Bp--,Bp||(za=new WeakMap,za=new WeakMap,Xd=new WeakMap,ef={})}},My=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=FR(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),UR(r,s,t,"aria-hidden")):function(){return null}},ch="Dialog",[CC,RQ]=ws(ch),[VR,ks]=CC(ch),SC=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=n,u=k.useRef(null),d=k.useRef(null),[f,g]=No({prop:r,defaultProp:s!=null?s:!1,onChange:o,caller:ch});return a.jsx(VR,{scope:e,triggerRef:u,contentRef:d,contentId:zr(),titleId:zr(),descriptionId:zr(),open:f,onOpenChange:g,onOpenToggle:k.useCallback(()=>g(y=>!y),[g]),modal:l,children:t})};SC.displayName=ch;var bC="DialogTrigger",BR=k.forwardRef((n,e)=>{const l=n,{__scopeDialog:t}=l,r=Q(l,["__scopeDialog"]),s=ks(bC,t),o=Dt(e,s.triggerRef);return a.jsx(lt.button,U(b({type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":jy(s.open)},r),{ref:o,onClick:Ie(n.onClick,s.onOpenToggle)}))});BR.displayName=bC;var Dy="DialogPortal",[zR,TC]=CC(Dy,{forceMount:void 0}),NC=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,o=ks(Dy,e);return a.jsx(zR,{scope:e,forceMount:t,children:k.Children.map(r,l=>a.jsx(_s,{present:t||o.open,children:a.jsx(xu,{asChild:!0,container:s,children:l})}))})};NC.displayName=Dy;var jf="DialogOverlay",EC=k.forwardRef((n,e)=>{const t=TC(jf,n.__scopeDialog),l=n,{forceMount:r=t.forceMount}=l,s=Q(l,["forceMount"]),o=ks(jf,n.__scopeDialog);return o.modal?a.jsx(_s,{present:r||o.open,children:a.jsx(HR,U(b({},s),{ref:e}))}):null});EC.displayName=jf;var WR=ra("DialogOverlay.RemoveScroll"),HR=k.forwardRef((n,e)=>{const o=n,{__scopeDialog:t}=o,r=Q(o,["__scopeDialog"]),s=ks(jf,t);return a.jsx(lh,{as:WR,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(lt.div,U(b({"data-state":jy(s.open)},r),{ref:e,style:b({pointerEvents:"auto"},r.style)}))})}),sa="DialogContent",MC=k.forwardRef((n,e)=>{const t=TC(sa,n.__scopeDialog),l=n,{forceMount:r=t.forceMount}=l,s=Q(l,["forceMount"]),o=ks(sa,n.__scopeDialog);return a.jsx(_s,{present:r||o.open,children:o.modal?a.jsx(GR,U(b({},s),{ref:e})):a.jsx(YR,U(b({},s),{ref:e}))})});MC.displayName=sa;var GR=k.forwardRef((n,e)=>{const t=ks(sa,n.__scopeDialog),r=k.useRef(null),s=Dt(e,t.contentRef,r);return k.useEffect(()=>{const o=r.current;if(o)return My(o)},[]),a.jsx(DC,U(b({},n),{ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(n.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ie(n.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:Ie(n.onFocusOutside,o=>o.preventDefault())}))}),YR=k.forwardRef((n,e)=>{const t=ks(sa,n.__scopeDialog),r=k.useRef(!1),s=k.useRef(!1);return a.jsx(DC,U(b({},n),{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=n.onCloseAutoFocus)==null||l.call(n,o),o.defaultPrevented||(r.current||(u=t.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var d,f;(d=n.onInteractOutside)==null||d.call(n,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((f=t.triggerRef.current)==null?void 0:f.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}}))}),DC=k.forwardRef((n,e)=>{const g=n,{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o}=g,l=Q(g,["__scopeDialog","trapFocus","onOpenAutoFocus","onCloseAutoFocus"]),u=ks(sa,t),d=k.useRef(null),f=Dt(e,d);return Ey(),a.jsxs(a.Fragment,{children:[a.jsx(ih,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:a.jsx(vu,U(b({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":jy(u.open)},l),{ref:f,onDismiss:()=>u.onOpenChange(!1)}))}),a.jsxs(a.Fragment,{children:[a.jsx(qR,{titleId:u.titleId}),a.jsx(JR,{contentRef:d,descriptionId:u.descriptionId})]})]})}),Iy="DialogTitle",IC=k.forwardRef((n,e)=>{const o=n,{__scopeDialog:t}=o,r=Q(o,["__scopeDialog"]),s=ks(Iy,t);return a.jsx(lt.h2,U(b({id:s.titleId},r),{ref:e}))});IC.displayName=Iy;var jC="DialogDescription",AC=k.forwardRef((n,e)=>{const o=n,{__scopeDialog:t}=o,r=Q(o,["__scopeDialog"]),s=ks(jC,t);return a.jsx(lt.p,U(b({id:s.descriptionId},r),{ref:e}))});AC.displayName=jC;var PC="DialogClose",RC=k.forwardRef((n,e)=>{const o=n,{__scopeDialog:t}=o,r=Q(o,["__scopeDialog"]),s=ks(PC,t);return a.jsx(lt.button,U(b({type:"button"},r),{ref:e,onClick:Ie(n.onClick,()=>s.onOpenChange(!1))}))});RC.displayName=PC;function jy(n){return n?"open":"closed"}var OC="DialogTitleWarning",[OQ,LC]=EP(OC,{contentName:sa,titleName:Iy,docsSlug:"dialog"}),qR=({titleId:n})=>{const e=LC(OC),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},KR="DialogDescriptionWarning",JR=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${LC(KR).contentName}}.`;return k.useEffect(()=>{var o;const s=(o=n.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},FC=SC,$C=NC,Ay=EC,UC=MC,VC=IC,BC=AC,zC=RC;function Us(e){var n=Q(e,[]);return a.jsx(FC,b({"data-slot":"dialog"},n))}function ZR(e){var n=Q(e,[]);return a.jsx($C,b({"data-slot":"dialog-portal"},n))}const WC=k.forwardRef((r,t)=>{var s=r,{className:n}=s,e=Q(s,["className"]);return a.jsx(Ay,b({ref:t,"data-slot":"dialog-overlay",className:ae("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n)},e))});WC.displayName=Ay.displayName;function Vs(r){var s=r,{className:n,children:e}=s,t=Q(s,["className","children"]);return a.jsxs(ZR,{"data-slot":"dialog-portal",children:[a.jsx(WC,{}),a.jsxs(UC,U(b({"data-slot":"dialog-content",className:ae("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n)},t),{children:[e,a.jsxs(zC,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(ms,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function pi(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("div",b({"data-slot":"dialog-header",className:ae("flex flex-col gap-2 text-center sm:text-left",n)},e))}function Xi(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("div",b({"data-slot":"dialog-footer",className:ae("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n)},e))}function _o(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx(VC,b({"data-slot":"dialog-title",className:ae("text-lg leading-none font-semibold",n)},e))}function ko(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx(BC,b({"data-slot":"dialog-description",className:ae("text-muted-foreground text-sm",n)},e))}function xt(r){var s=r,{className:n,type:e}=s,t=Q(s,["className","type"]);return a.jsx("input",b({type:e,"data-slot":"input",className:ae("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",n)},t))}function uh(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("textarea",b({"data-slot":"textarea",className:ae("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n)},e))}const HC=[{name:"Briefcase",component:yg},{name:"Target",component:Jk},{name:"CheckSquare",component:uA},{name:"Calendar",component:tn},{name:"BarChart",component:PD},{name:"TrendingUp",component:TA},{name:"Lightbulb",component:rj},{name:"Star",component:hA},{name:"Flag",component:pI},{name:"Award",component:yD},{name:"Zap",component:Zk},{name:"Heart",component:RI},{name:"Book",component:CD},{name:"Music",component:Ej},{name:"Camera",component:DD},{name:"Coffee",component:eI},{name:"Gamepad2",component:_I},{name:"Plane",component:$j},{name:"Car",component:jD},{name:"ShoppingBag",component:sA},{name:"Dumbbell",component:lI},{name:"Utensils",component:IA},{name:"Laptop",component:qI},{name:"Phone",component:Lj},{name:"Mail",component:ll},{name:"MessageCircle",component:gj},{name:"Clock",component:wr},{name:"Gift",component:CI},{name:"Shield",component:Kk},{name:"Key",component:xg},{name:"Eye",component:vf},{name:"Search",component:Xj},{name:"Globe",component:NI},{name:"Map",component:fj},{name:"Compass",component:nI},{name:"Sun",component:yA},{name:"Moon",component:Sj},{name:"Cloud",component:na},{name:"Droplets",component:iI},{name:"Building",component:TD},{name:"Home",component:$I},{name:"School",component:Zj},{name:"Hospital",component:LI},{name:"Store",component:pA},{name:"Factory",component:hI},{name:"Wifi",component:AA},{name:"Battery",component:_D},{name:"Headphones",component:AI},{name:"Mic",component:vj},{name:"Monitor",component:kj},{name:"Printer",component:zj},{name:"Mouse",component:Tj},{name:"Keyboard",component:GI},{name:"Puzzle",component:Hj},{name:"Smile",component:aA},{name:"Flower",component:yI},{name:"Trees",component:CA},{name:"Leaf",component:tj},{name:"Apple",component:fD},{name:"Banana",component:xD}],mo=(n,e="h-4 w-4")=>{if(!n)return a.jsx(yg,{className:e});const t=HC.find(r=>r.name===n);if(t){const r=t.component;return a.jsx(r,{className:e})}return a.jsx(yg,{className:e})},zp=768;function QR(){const[n,e]=k.useState(void 0);return k.useEffect(()=>{const t=window.matchMedia(`(max-width: ${zp-1}px)`),r=()=>{e(window.innerWidth<zp)};return t.addEventListener("change",r),e(window.innerWidth<zp),()=>t.removeEventListener("change",r)},[]),!!n}var XR="Separator",t_="horizontal",e4=["horizontal","vertical"],GC=k.forwardRef((n,e)=>{const d=n,{decorative:t,orientation:r=t_}=d,s=Q(d,["decorative","orientation"]),o=t4(r)?r:t_,u=t?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return a.jsx(lt.div,U(b(b({"data-orientation":o},u),s),{ref:e}))});GC.displayName=XR;function t4(n){return e4.includes(n)}var n4=GC;function ea(s){var o=s,{className:n,orientation:e="horizontal",decorative:t=!0}=o,r=Q(o,["className","orientation","decorative"]);return a.jsx(n4,b({"data-slot":"separator",decorative:t,orientation:e,className:ae("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",n)},r))}function r4(e){var n=Q(e,[]);return a.jsx(FC,b({"data-slot":"sheet"},n))}function s4(e){var n=Q(e,[]);return a.jsx($C,b({"data-slot":"sheet-portal"},n))}function o4(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx(Ay,b({"data-slot":"sheet-overlay",className:ae("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",n)},e))}function i4(s){var o=s,{className:n,children:e,side:t="right"}=o,r=Q(o,["className","children","side"]);return a.jsxs(s4,{children:[a.jsx(o4,{}),a.jsxs(UC,U(b({"data-slot":"sheet-content",className:ae("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",t==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",t==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",t==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",t==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",n)},r),{children:[e,a.jsxs(zC,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[a.jsx(ms,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]}))]})}function a4(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("div",b({"data-slot":"sheet-header",className:ae("flex flex-col gap-1.5 p-4",n)},e))}function l4(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx(VC,b({"data-slot":"sheet-title",className:ae("text-foreground font-semibold",n)},e))}function c4(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx(BC,b({"data-slot":"sheet-description",className:ae("text-muted-foreground text-sm",n)},e))}const u4=["top","right","bottom","left"],_i=Math.min,Ir=Math.max,Af=Math.round,tf=Math.floor,Bs=n=>({x:n,y:n}),d4={left:"right",right:"left",bottom:"top",top:"bottom"},f4={start:"end",end:"start"};function Ng(n,e,t){return Ir(n,_i(e,t))}function Eo(n,e){return typeof n=="function"?n(e):n}function Mo(n){return n.split("-")[0]}function Pl(n){return n.split("-")[1]}function Py(n){return n==="x"?"y":"x"}function Ry(n){return n==="y"?"height":"width"}function Rs(n){return["top","bottom"].includes(Mo(n))?"y":"x"}function Oy(n){return Py(Rs(n))}function h4(n,e,t){t===void 0&&(t=!1);const r=Pl(n),s=Oy(n),o=Ry(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Pf(l)),[l,Pf(l)]}function m4(n){const e=Pf(n);return[Eg(n),e,Eg(e)]}function Eg(n){return n.replace(/start|end/g,e=>f4[e])}function p4(n,e,t){const r=["left","right"],s=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?o:l;default:return[]}}function g4(n,e,t,r){const s=Pl(n);let o=p4(Mo(n),t==="start",r);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(Eg)))),o}function Pf(n){return n.replace(/left|right|bottom|top/g,e=>d4[e])}function y4(n){return b({top:0,right:0,bottom:0,left:0},n)}function YC(n){return typeof n!="number"?y4(n):{top:n,right:n,bottom:n,left:n}}function Rf(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function n_(n,e,t){let{reference:r,floating:s}=n;const o=Rs(e),l=Oy(e),u=Ry(l),d=Mo(e),f=o==="y",g=r.x+r.width/2-s.width/2,y=r.y+r.height/2-s.height/2,x=r[u]/2-s[u]/2;let w;switch(d){case"top":w={x:g,y:r.y-s.height};break;case"bottom":w={x:g,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y};break;case"left":w={x:r.x-s.width,y};break;default:w={x:r.x,y:r.y}}switch(Pl(e)){case"start":w[l]-=x*(t&&f?-1:1);break;case"end":w[l]+=x*(t&&f?-1:1);break}return w}const v4=(n,e,t)=>M(null,null,function*(){const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:l}=t,u=o.filter(Boolean),d=yield l.isRTL==null?void 0:l.isRTL(e);let f=yield l.getElementRects({reference:n,floating:e,strategy:s}),{x:g,y}=n_(f,r,d),x=r,w={},C=0;for(let S=0;S<u.length;S++){const{name:T,fn:E}=u[S],{x:P,y:I,data:A,reset:D}=yield E({x:g,y,initialPlacement:r,placement:x,strategy:s,middlewareData:w,rects:f,platform:l,elements:{reference:n,floating:e}});g=P!=null?P:g,y=I!=null?I:y,w=U(b({},w),{[T]:b(b({},w[T]),A)}),D&&C<=50&&(C++,typeof D=="object"&&(D.placement&&(x=D.placement),D.rects&&(f=D.rects===!0?yield l.getElementRects({reference:n,floating:e,strategy:s}):D.rects),{x:g,y}=n_(f,x,d)),S=-1)}return{x:g,y,placement:x,strategy:s,middlewareData:w}});function nu(n,e){return M(this,null,function*(){var t;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:l,elements:u,strategy:d}=n,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:x=!1,padding:w=0}=Eo(e,n),C=YC(w),T=u[x?y==="floating"?"reference":"floating":y],E=Rf(yield o.getClippingRect({element:(t=yield o.isElement==null?void 0:o.isElement(T))==null||t?T:T.contextElement||(yield o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:d})),P=y==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,I=yield o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating),A=(yield o.isElement==null?void 0:o.isElement(I))?(yield o.getScale==null?void 0:o.getScale(I))||{x:1,y:1}:{x:1,y:1},D=Rf(o.convertOffsetParentRelativeRectToViewportRelativeRect?yield o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:P,offsetParent:I,strategy:d}):P);return{top:(E.top-D.top+C.top)/A.y,bottom:(D.bottom-E.bottom+C.bottom)/A.y,left:(E.left-D.left+C.left)/A.x,right:(D.right-E.right+C.right)/A.x}})}const x4=n=>({name:"arrow",options:n,fn(t){return M(this,null,function*(){const{x:r,y:s,placement:o,rects:l,platform:u,elements:d,middlewareData:f}=t,{element:g,padding:y=0}=Eo(n,t)||{};if(g==null)return{};const x=YC(y),w={x:r,y:s},C=Oy(o),S=Ry(C),T=yield u.getDimensions(g),E=C==="y",P=E?"top":"left",I=E?"bottom":"right",A=E?"clientHeight":"clientWidth",D=l.reference[S]+l.reference[C]-w[C]-l.floating[S],O=w[C]-l.reference[C],L=yield u.getOffsetParent==null?void 0:u.getOffsetParent(g);let V=L?L[A]:0;(!V||!(yield u.isElement==null?void 0:u.isElement(L)))&&(V=d.floating[A]||l.floating[S]);const B=D/2-O/2,ee=V/2-T[S]/2-1,X=_i(x[P],ee),se=_i(x[I],ee),ce=X,ke=V-T[S]-se,xe=V/2-T[S]/2+B,me=Ng(ce,xe,ke),pe=!f.arrow&&Pl(o)!=null&&xe!==me&&l.reference[S]/2-(xe<ce?X:se)-T[S]/2<0,j=pe?xe<ce?xe-ce:xe-ke:0;return{[C]:w[C]+j,data:b({[C]:me,centerOffset:xe-me-j},pe&&{alignmentOffset:j}),reset:pe}})}}),w4=function(n){return n===void 0&&(n={}),{name:"flip",options:n,fn(t){return M(this,null,function*(){var r,s;const{placement:o,middlewareData:l,rects:u,initialPlacement:d,platform:f,elements:g}=t,xe=Eo(n,t),{mainAxis:y=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:T=!0}=xe,E=Q(xe,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const P=Mo(o),I=Rs(d),A=Mo(d)===d,D=yield f.isRTL==null?void 0:f.isRTL(g.floating),O=w||(A||!T?[Pf(d)]:m4(d)),L=S!=="none";!w&&L&&O.push(...g4(d,T,S,D));const V=[d,...O],B=yield nu(t,E),ee=[];let X=((s=l.flip)==null?void 0:s.overflows)||[];if(y&&ee.push(B[P]),x){const me=h4(o,u,D);ee.push(B[me[0]],B[me[1]])}if(X=[...X,{placement:o,overflows:ee}],!ee.every(me=>me<=0)){var se,ce;const me=(((se=l.flip)==null?void 0:se.index)||0)+1,pe=V[me];if(pe&&(!(x==="alignment"?I!==Rs(pe):!1)||X.every($=>$.overflows[0]>0&&Rs($.placement)===I)))return{data:{index:me,overflows:X},reset:{placement:pe}};let j=(ce=X.filter(H=>H.overflows[0]<=0).sort((H,$)=>H.overflows[1]-$.overflows[1])[0])==null?void 0:ce.placement;if(!j)switch(C){case"bestFit":{var ke;const H=(ke=X.filter($=>{if(L){const F=Rs($.placement);return F===I||F==="y"}return!0}).map($=>[$.placement,$.overflows.filter(F=>F>0).reduce((F,q)=>F+q,0)]).sort(($,F)=>$[1]-F[1])[0])==null?void 0:ke[0];H&&(j=H);break}case"initialPlacement":j=d;break}if(o!==j)return{reset:{placement:j}}}return{}})}}};function r_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function s_(n){return u4.some(e=>n[e]>=0)}const _4=function(n){return n===void 0&&(n={}),{name:"hide",options:n,fn(t){return M(this,null,function*(){const{rects:r}=t,l=Eo(n,t),{strategy:s="referenceHidden"}=l,o=Q(l,["strategy"]);switch(s){case"referenceHidden":{const u=yield nu(t,U(b({},o),{elementContext:"reference"})),d=r_(u,r.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:s_(d)}}}case"escaped":{const u=yield nu(t,U(b({},o),{altBoundary:!0})),d=r_(u,r.floating);return{data:{escapedOffsets:d,escaped:s_(d)}}}default:return{}}})}}};function k4(n,e){return M(this,null,function*(){const{placement:t,platform:r,elements:s}=n,o=yield r.isRTL==null?void 0:r.isRTL(s.floating),l=Mo(t),u=Pl(t),d=Rs(t)==="y",f=["left","top"].includes(l)?-1:1,g=o&&d?-1:1,y=Eo(e,n);let{mainAxis:x,crossAxis:w,alignmentAxis:C}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return u&&typeof C=="number"&&(w=u==="end"?C*-1:C),d?{x:w*g,y:x*f}:{x:x*f,y:w*g}})}const C4=function(n){return n===void 0&&(n=0),{name:"offset",options:n,fn(t){return M(this,null,function*(){var r,s;const{x:o,y:l,placement:u,middlewareData:d}=t,f=yield k4(t,n);return u===((r=d.offset)==null?void 0:r.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:U(b({},f),{placement:u})}})}}},S4=function(n){return n===void 0&&(n={}),{name:"shift",options:n,fn(t){return M(this,null,function*(){const{x:r,y:s,placement:o}=t,E=Eo(n,t),{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:P=>{let{x:I,y:A}=P;return{x:I,y:A}}}}=E,f=Q(E,["mainAxis","crossAxis","limiter"]),g={x:r,y:s},y=yield nu(t,f),x=Rs(Mo(o)),w=Py(x);let C=g[w],S=g[x];if(l){const P=w==="y"?"top":"left",I=w==="y"?"bottom":"right",A=C+y[P],D=C-y[I];C=Ng(A,C,D)}if(u){const P=x==="y"?"top":"left",I=x==="y"?"bottom":"right",A=S+y[P],D=S-y[I];S=Ng(A,S,D)}const T=d.fn(U(b({},t),{[w]:C,[x]:S}));return U(b({},T),{data:{x:T.x-r,y:T.y-s,enabled:{[w]:l,[x]:u}}})})}}},b4=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:o,middlewareData:l}=e,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Eo(n,e),g={x:t,y:r},y=Rs(s),x=Py(y);let w=g[x],C=g[y];const S=Eo(u,e),T=typeof S=="number"?{mainAxis:S,crossAxis:0}:b({mainAxis:0,crossAxis:0},S);if(d){const I=x==="y"?"height":"width",A=o.reference[x]-o.floating[I]+T.mainAxis,D=o.reference[x]+o.reference[I]-T.mainAxis;w<A?w=A:w>D&&(w=D)}if(f){var E,P;const I=x==="y"?"width":"height",A=["top","left"].includes(Mo(s)),D=o.reference[y]-o.floating[I]+(A&&((E=l.offset)==null?void 0:E[y])||0)+(A?0:T.crossAxis),O=o.reference[y]+o.reference[I]+(A?0:((P=l.offset)==null?void 0:P[y])||0)-(A?T.crossAxis:0);C<D?C=D:C>O&&(C=O)}return{[x]:w,[y]:C}}}},T4=function(n){return n===void 0&&(n={}),{name:"size",options:n,fn(t){return M(this,null,function*(){var r,s;const{placement:o,rects:l,platform:u,elements:d}=t,X=Eo(n,t),{apply:f=()=>{}}=X,g=Q(X,["apply"]),y=yield nu(t,g),x=Mo(o),w=Pl(o),C=Rs(o)==="y",{width:S,height:T}=l.floating;let E,P;x==="top"||x==="bottom"?(E=x,P=w===((yield u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(P=x,E=w==="end"?"top":"bottom");const I=T-y.top-y.bottom,A=S-y.left-y.right,D=_i(T-y[E],I),O=_i(S-y[P],A),L=!t.middlewareData.shift;let V=D,B=O;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(B=A),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(V=I),L&&!w){const se=Ir(y.left,0),ce=Ir(y.right,0),ke=Ir(y.top,0),xe=Ir(y.bottom,0);C?B=S-2*(se!==0||ce!==0?se+ce:Ir(y.left,y.right)):V=T-2*(ke!==0||xe!==0?ke+xe:Ir(y.top,y.bottom))}yield f(U(b({},t),{availableWidth:B,availableHeight:V}));const ee=yield u.getDimensions(d.floating);return S!==ee.width||T!==ee.height?{reset:{rects:!0}}:{}})}}};function dh(){return typeof window!="undefined"}function Rl(n){return qC(n)?(n.nodeName||"").toLowerCase():"#document"}function jr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ys(n){var e;return(e=(qC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function qC(n){return dh()?n instanceof Node||n instanceof jr(n).Node:!1}function gs(n){return dh()?n instanceof Element||n instanceof jr(n).Element:!1}function Ws(n){return dh()?n instanceof HTMLElement||n instanceof jr(n).HTMLElement:!1}function o_(n){return!dh()||typeof ShadowRoot=="undefined"?!1:n instanceof ShadowRoot||n instanceof jr(n).ShadowRoot}function wu(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=ys(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function N4(n){return["table","td","th"].includes(Rl(n))}function fh(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch(t){return!1}})}function Ly(n){const e=Fy(),t=gs(n)?ys(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function E4(n){let e=ki(n);for(;Ws(e)&&!kl(e);){if(Ly(e))return e;if(fh(e))return null;e=ki(e)}return null}function Fy(){return typeof CSS=="undefined"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function kl(n){return["html","body","#document"].includes(Rl(n))}function ys(n){return jr(n).getComputedStyle(n)}function hh(n){return gs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ki(n){if(Rl(n)==="html")return n;const e=n.assignedSlot||n.parentNode||o_(n)&&n.host||Ys(n);return o_(e)?e.host:e}function KC(n){const e=ki(n);return kl(e)?n.ownerDocument?n.ownerDocument.body:n.body:Ws(e)&&wu(e)?e:KC(e)}function ru(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=KC(n),o=s===((r=n.ownerDocument)==null?void 0:r.body),l=jr(s);if(o){const u=Mg(l);return e.concat(l,l.visualViewport||[],wu(s)?s:[],u&&t?ru(u):[])}return e.concat(s,ru(s,[],t))}function Mg(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function JC(n){const e=ys(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Ws(n),o=s?n.offsetWidth:t,l=s?n.offsetHeight:r,u=Af(t)!==o||Af(r)!==l;return u&&(t=o,r=l),{width:t,height:r,$:u}}function $y(n){return gs(n)?n:n.contextElement}function pl(n){const e=$y(n);if(!Ws(e))return Bs(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:o}=JC(e);let l=(o?Af(t.width):t.width)/r,u=(o?Af(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const M4=Bs(0);function ZC(n){const e=jr(n);return!Fy()||!e.visualViewport?M4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function D4(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==jr(n)?!1:e}function oa(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),o=$y(n);let l=Bs(1);e&&(r?gs(r)&&(l=pl(r)):l=pl(n));const u=D4(o,t,r)?ZC(o):Bs(0);let d=(s.left+u.x)/l.x,f=(s.top+u.y)/l.y,g=s.width/l.x,y=s.height/l.y;if(o){const x=jr(o),w=r&&gs(r)?jr(r):r;let C=x,S=Mg(C);for(;S&&r&&w!==C;){const T=pl(S),E=S.getBoundingClientRect(),P=ys(S),I=E.left+(S.clientLeft+parseFloat(P.paddingLeft))*T.x,A=E.top+(S.clientTop+parseFloat(P.paddingTop))*T.y;d*=T.x,f*=T.y,g*=T.x,y*=T.y,d+=I,f+=A,C=jr(S),S=Mg(C)}}return Rf({width:g,height:y,x:d,y:f})}function Uy(n,e){const t=hh(n).scrollLeft;return e?e.left+t:oa(Ys(n)).left+t}function QC(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:Uy(n,r)),o=r.top+e.scrollTop;return{x:s,y:o}}function I4(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const o=s==="fixed",l=Ys(r),u=e?fh(e.floating):!1;if(r===l||u&&o)return t;let d={scrollLeft:0,scrollTop:0},f=Bs(1);const g=Bs(0),y=Ws(r);if((y||!y&&!o)&&((Rl(r)!=="body"||wu(l))&&(d=hh(r)),Ws(r))){const w=oa(r);f=pl(r),g.x=w.x+r.clientLeft,g.y=w.y+r.clientTop}const x=l&&!y&&!o?QC(l,d,!0):Bs(0);return{width:t.width*f.x,height:t.height*f.y,x:t.x*f.x-d.scrollLeft*f.x+g.x+x.x,y:t.y*f.y-d.scrollTop*f.y+g.y+x.y}}function j4(n){return Array.from(n.getClientRects())}function A4(n){const e=Ys(n),t=hh(n),r=n.ownerDocument.body,s=Ir(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Ir(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Uy(n);const u=-t.scrollTop;return ys(r).direction==="rtl"&&(l+=Ir(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:l,y:u}}function P4(n,e){const t=jr(n),r=Ys(n),s=t.visualViewport;let o=r.clientWidth,l=r.clientHeight,u=0,d=0;if(s){o=s.width,l=s.height;const f=Fy();(!f||f&&e==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}return{width:o,height:l,x:u,y:d}}function R4(n,e){const t=oa(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,o=Ws(n)?pl(n):Bs(1),l=n.clientWidth*o.x,u=n.clientHeight*o.y,d=s*o.x,f=r*o.y;return{width:l,height:u,x:d,y:f}}function i_(n,e,t){let r;if(e==="viewport")r=P4(n,t);else if(e==="document")r=A4(Ys(n));else if(gs(e))r=R4(e,t);else{const s=ZC(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Rf(r)}function XC(n,e){const t=ki(n);return t===e||!gs(t)||kl(t)?!1:ys(t).position==="fixed"||XC(t,e)}function O4(n,e){const t=e.get(n);if(t)return t;let r=ru(n,[],!1).filter(u=>gs(u)&&Rl(u)!=="body"),s=null;const o=ys(n).position==="fixed";let l=o?ki(n):n;for(;gs(l)&&!kl(l);){const u=ys(l),d=Ly(l);!d&&u.position==="fixed"&&(s=null),(o?!d&&!s:!d&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||wu(l)&&!d&&XC(n,l))?r=r.filter(g=>g!==l):s=u,l=ki(l)}return e.set(n,r),r}function L4(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?fh(e)?[]:O4(e,this._c):[].concat(t),r],u=l[0],d=l.reduce((f,g)=>{const y=i_(e,g,s);return f.top=Ir(y.top,f.top),f.right=_i(y.right,f.right),f.bottom=_i(y.bottom,f.bottom),f.left=Ir(y.left,f.left),f},i_(e,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function F4(n){const{width:e,height:t}=JC(n);return{width:e,height:t}}function $4(n,e,t){const r=Ws(e),s=Ys(e),o=t==="fixed",l=oa(n,!0,o,e);let u={scrollLeft:0,scrollTop:0};const d=Bs(0);function f(){d.x=Uy(s)}if(r||!r&&!o)if((Rl(e)!=="body"||wu(s))&&(u=hh(e)),r){const w=oa(e,!0,o,e);d.x=w.x+e.clientLeft,d.y=w.y+e.clientTop}else s&&f();o&&!r&&s&&f();const g=s&&!r&&!o?QC(s,u):Bs(0),y=l.left+u.scrollLeft-d.x-g.x,x=l.top+u.scrollTop-d.y-g.y;return{x:y,y:x,width:l.width,height:l.height}}function Wp(n){return ys(n).position==="static"}function a_(n,e){if(!Ws(n)||ys(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ys(n)===t&&(t=t.ownerDocument.body),t}function eS(n,e){const t=jr(n);if(fh(n))return t;if(!Ws(n)){let s=ki(n);for(;s&&!kl(s);){if(gs(s)&&!Wp(s))return s;s=ki(s)}return t}let r=a_(n,e);for(;r&&N4(r)&&Wp(r);)r=a_(r,e);return r&&kl(r)&&Wp(r)&&!Ly(r)?t:r||E4(n)||t}const U4=function(n){return M(this,null,function*(){const e=this.getOffsetParent||eS,t=this.getDimensions,r=yield t(n.floating);return{reference:$4(n.reference,yield e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}})};function V4(n){return ys(n).direction==="rtl"}const B4={convertOffsetParentRelativeRectToViewportRelativeRect:I4,getDocumentElement:Ys,getClippingRect:L4,getOffsetParent:eS,getElementRects:U4,getClientRects:j4,getDimensions:F4,getScale:pl,isElement:gs,isRTL:V4};function tS(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function z4(n,e){let t=null,r;const s=Ys(n);function o(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const f=n.getBoundingClientRect(),{left:g,top:y,width:x,height:w}=f;if(u||e(),!x||!w)return;const C=tf(y),S=tf(s.clientWidth-(g+x)),T=tf(s.clientHeight-(y+w)),E=tf(g),I={rootMargin:-C+"px "+-S+"px "+-T+"px "+-E+"px",threshold:Ir(0,_i(1,d))||1};let A=!0;function D(O){const L=O[0].intersectionRatio;if(L!==d){if(!A)return l();L?l(!1,L):r=setTimeout(()=>{l(!1,1e-7)},1e3)}L===1&&!tS(f,n.getBoundingClientRect())&&l(),A=!1}try{t=new IntersectionObserver(D,U(b({},I),{root:s.ownerDocument}))}catch(O){t=new IntersectionObserver(D,I)}t.observe(n)}return l(!0),o}function W4(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=$y(n),g=s||o?[...f?ru(f):[],...ru(e)]:[];g.forEach(E=>{s&&E.addEventListener("scroll",t,{passive:!0}),o&&E.addEventListener("resize",t)});const y=f&&u?z4(f,t):null;let x=-1,w=null;l&&(w=new ResizeObserver(E=>{let[P]=E;P&&P.target===f&&w&&(w.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var I;(I=w)==null||I.observe(e)})),t()}),f&&!d&&w.observe(f),w.observe(e));let C,S=d?oa(n):null;d&&T();function T(){const E=oa(n);S&&!tS(S,E)&&t(),S=E,C=requestAnimationFrame(T)}return t(),()=>{var E;g.forEach(P=>{s&&P.removeEventListener("scroll",t),o&&P.removeEventListener("resize",t)}),y==null||y(),(E=w)==null||E.disconnect(),w=null,d&&cancelAnimationFrame(C)}}const H4=C4,G4=S4,Y4=w4,q4=T4,K4=_4,l_=x4,J4=b4,Z4=(n,e,t)=>{const r=new Map,s=b({platform:B4},t),o=U(b({},s.platform),{_c:r});return v4(n,e,U(b({},s),{platform:o}))};var Q4=typeof document!="undefined",X4=function(){},kf=Q4?k.useLayoutEffect:X4;function Of(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Of(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const o=s[r];if(!(o==="_owner"&&n.$$typeof)&&!Of(n[o],e[o]))return!1}return!0}return n!==n&&e!==e}function nS(n){return typeof window=="undefined"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function c_(n,e){const t=nS(n);return Math.round(e*t)/t}function Hp(n){const e=k.useRef(n);return kf(()=>{e.current=n}),e}function eO(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=n,[g,y]=k.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[x,w]=k.useState(r);Of(x,r)||w(r);const[C,S]=k.useState(null),[T,E]=k.useState(null),P=k.useCallback(j=>{j!==O.current&&(O.current=j,S(j))},[]),I=k.useCallback(j=>{j!==L.current&&(L.current=j,E(j))},[]),A=o||C,D=l||T,O=k.useRef(null),L=k.useRef(null),V=k.useRef(g),B=d!=null,ee=Hp(d),X=Hp(s),se=Hp(f),ce=k.useCallback(()=>{if(!O.current||!L.current)return;const j={placement:e,strategy:t,middleware:x};X.current&&(j.platform=X.current),Z4(O.current,L.current,j).then(H=>{const $=U(b({},H),{isPositioned:se.current!==!1});ke.current&&!Of(V.current,$)&&(V.current=$,Al.flushSync(()=>{y($)}))})},[x,e,t,X,se]);kf(()=>{f===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,y(j=>U(b({},j),{isPositioned:!1})))},[f]);const ke=k.useRef(!1);kf(()=>(ke.current=!0,()=>{ke.current=!1}),[]),kf(()=>{if(A&&(O.current=A),D&&(L.current=D),A&&D){if(ee.current)return ee.current(A,D,ce);ce()}},[A,D,ce,ee,B]);const xe=k.useMemo(()=>({reference:O,floating:L,setReference:P,setFloating:I}),[P,I]),me=k.useMemo(()=>({reference:A,floating:D}),[A,D]),pe=k.useMemo(()=>{const j={position:t,left:0,top:0};if(!me.floating)return j;const H=c_(me.floating,g.x),$=c_(me.floating,g.y);return u?b(U(b({},j),{transform:"translate("+H+"px, "+$+"px)"}),nS(me.floating)>=1.5&&{willChange:"transform"}):{position:t,left:H,top:$}},[t,u,me.floating,g.x,g.y]);return k.useMemo(()=>U(b({},g),{update:ce,refs:xe,elements:me,floatingStyles:pe}),[g,ce,xe,me,pe])}const tO=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?l_({element:r.current,padding:s}).fn(t):{}:r?l_({element:r,padding:s}).fn(t):{}}}},nO=(n,e)=>U(b({},H4(n)),{options:[n,e]}),rO=(n,e)=>U(b({},G4(n)),{options:[n,e]}),sO=(n,e)=>U(b({},J4(n)),{options:[n,e]}),oO=(n,e)=>U(b({},Y4(n)),{options:[n,e]}),iO=(n,e)=>U(b({},q4(n)),{options:[n,e]}),aO=(n,e)=>U(b({},K4(n)),{options:[n,e]}),lO=(n,e)=>U(b({},tO(n)),{options:[n,e]});var cO="Arrow",rS=k.forwardRef((n,e)=>{const l=n,{children:t,width:r=10,height:s=5}=l,o=Q(l,["children","width","height"]);return a.jsx(lt.svg,U(b({},o),{ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:a.jsx("polygon",{points:"0,0 30,0 15,10"})}))});rS.displayName=cO;var uO=rS;function Vy(n){const[e,t]=k.useState(void 0);return Xn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,u;if("borderBoxSize"in o){const d=o.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=n.offsetWidth,u=n.offsetHeight;t({width:l,height:u})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var By="Popper",[sS,Ol]=ws(By),[dO,oS]=sS(By),iS=n=>{const{__scopePopper:e,children:t}=n,[r,s]=k.useState(null);return a.jsx(dO,{scope:e,anchor:r,onAnchorChange:s,children:t})};iS.displayName=By;var aS="PopperAnchor",lS=k.forwardRef((n,e)=>{const d=n,{__scopePopper:t,virtualRef:r}=d,s=Q(d,["__scopePopper","virtualRef"]),o=oS(aS,t),l=k.useRef(null),u=Dt(e,l);return k.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:a.jsx(lt.div,U(b({},s),{ref:u}))});lS.displayName=aS;var zy="PopperContent",[fO,hO]=sS(zy),cS=k.forwardRef((n,e)=>{var Y,he,Me,Be,$e,et,Ut,Yt;const le=n,{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:x=!1,updatePositionStrategy:w="optimized",onPlaced:C}=le,S=Q(le,["__scopePopper","side","sideOffset","align","alignOffset","arrowPadding","avoidCollisions","collisionBoundary","collisionPadding","sticky","hideWhenDetached","updatePositionStrategy","onPlaced"]),T=oS(zy,t),[E,P]=k.useState(null),I=Dt(e,Vt=>P(Vt)),[A,D]=k.useState(null),O=Vy(A),L=(Y=O==null?void 0:O.width)!=null?Y:0,V=(he=O==null?void 0:O.height)!=null?he:0,B=r+(o!=="center"?"-"+o:""),ee=typeof g=="number"?g:b({top:0,right:0,bottom:0,left:0},g),X=Array.isArray(f)?f:[f],se=X.length>0,ce={padding:ee,boundary:X.filter(pO),altBoundary:se},{refs:ke,floatingStyles:xe,placement:me,isPositioned:pe,middlewareData:j}=eO({strategy:"fixed",placement:B,whileElementsMounted:(...Vt)=>W4(...Vt,{animationFrame:w==="always"}),elements:{reference:T.anchor},middleware:[nO({mainAxis:s+V,alignmentAxis:l}),d&&rO(b({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?sO():void 0},ce)),d&&oO(b({},ce)),iO(U(b({},ce),{apply:({elements:Vt,rects:gn,availableWidth:an,availableHeight:yn})=>{const{width:Pn,height:tt}=gn.reference,xn=Vt.floating.style;xn.setProperty("--radix-popper-available-width",`${an}px`),xn.setProperty("--radix-popper-available-height",`${yn}px`),xn.setProperty("--radix-popper-anchor-width",`${Pn}px`),xn.setProperty("--radix-popper-anchor-height",`${tt}px`)}})),A&&lO({element:A,padding:u}),gO({arrowWidth:L,arrowHeight:V}),x&&aO(b({strategy:"referenceHidden"},ce))]}),[H,$]=fS(me),F=Hr(C);Xn(()=>{pe&&(F==null||F())},[pe,F]);const q=(Me=j.arrow)==null?void 0:Me.x,W=(Be=j.arrow)==null?void 0:Be.y,ne=(($e=j.arrow)==null?void 0:$e.centerOffset)!==0,[G,oe]=k.useState();return Xn(()=>{E&&oe(window.getComputedStyle(E).zIndex)},[E]),a.jsx("div",{ref:ke.setFloating,"data-radix-popper-content-wrapper":"",style:b(U(b({},xe),{transform:pe?xe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G,"--radix-popper-transform-origin":[(et=j.transformOrigin)==null?void 0:et.x,(Ut=j.transformOrigin)==null?void 0:Ut.y].join(" ")}),((Yt=j.hide)==null?void 0:Yt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}),dir:n.dir,children:a.jsx(fO,{scope:t,placedSide:H,onArrowChange:D,arrowX:q,arrowY:W,shouldHideArrow:ne,children:a.jsx(lt.div,U(b({"data-side":H,"data-align":$},S),{ref:I,style:U(b({},S.style),{animation:pe?void 0:"none"})}))})})});cS.displayName=zy;var uS="PopperArrow",mO={top:"bottom",right:"left",bottom:"top",left:"right"},dS=k.forwardRef(function(e,t){const u=e,{__scopePopper:r}=u,s=Q(u,["__scopePopper"]),o=hO(uS,r),l=mO[o.placedSide];return a.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:a.jsx(uO,U(b({},s),{ref:t,style:U(b({},s.style),{display:"block"})}))})});dS.displayName=uS;function pO(n){return n!==null}var gO=n=>({name:"transformOrigin",options:n,fn(e){var T,E,P,I,A;const{placement:t,rects:r,middlewareData:s}=e,l=((T=s.arrow)==null?void 0:T.centerOffset)!==0,u=l?0:n.arrowWidth,d=l?0:n.arrowHeight,[f,g]=fS(t),y={start:"0%",center:"50%",end:"100%"}[g],x=((P=(E=s.arrow)==null?void 0:E.x)!=null?P:0)+u/2,w=((A=(I=s.arrow)==null?void 0:I.y)!=null?A:0)+d/2;let C="",S="";return f==="bottom"?(C=l?y:`${x}px`,S=`${-d}px`):f==="top"?(C=l?y:`${x}px`,S=`${r.floating.height+d}px`):f==="right"?(C=`${-d}px`,S=l?y:`${w}px`):f==="left"&&(C=`${r.floating.width+d}px`,S=l?y:`${w}px`),{data:{x:C,y:S}}}});function fS(n){const[e,t="center"]=n.split("-");return[e,t]}var mh=iS,Wy=lS,Hy=cS,Gy=dS,hS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),yO="VisuallyHidden",mS=k.forwardRef((n,e)=>a.jsx(lt.span,U(b({},n),{ref:e,style:b(b({},hS),n.style)})));mS.displayName=yO;var vO=mS,[ph,LQ]=ws("Tooltip",[Ol]),gh=Ol(),pS="TooltipProvider",xO=700,Dg="tooltip.open",[wO,Yy]=ph(pS),gS=n=>{const{__scopeTooltip:e,delayDuration:t=xO,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=n,l=k.useRef(!0),u=k.useRef(!1),d=k.useRef(0);return k.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),a.jsx(wO,{scope:e,isOpenDelayedRef:l,delayDuration:t,onOpen:k.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:k.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:k.useCallback(f=>{u.current=f},[]),disableHoverableContent:s,children:o})};gS.displayName=pS;var su="Tooltip",[_O,_u]=ph(su),yS=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:l,delayDuration:u}=n,d=Yy(su,n.__scopeTooltip),f=gh(e),[g,y]=k.useState(null),x=zr(),w=k.useRef(0),C=l!=null?l:d.disableHoverableContent,S=u!=null?u:d.delayDuration,T=k.useRef(!1),[E,P]=No({prop:r,defaultProp:s!=null?s:!1,onChange:L=>{L?(d.onOpen(),document.dispatchEvent(new CustomEvent(Dg))):d.onClose(),o==null||o(L)},caller:su}),I=k.useMemo(()=>E?T.current?"delayed-open":"instant-open":"closed",[E]),A=k.useCallback(()=>{window.clearTimeout(w.current),w.current=0,T.current=!1,P(!0)},[P]),D=k.useCallback(()=>{window.clearTimeout(w.current),w.current=0,P(!1)},[P]),O=k.useCallback(()=>{window.clearTimeout(w.current),w.current=window.setTimeout(()=>{T.current=!0,P(!0),w.current=0},S)},[S,P]);return k.useEffect(()=>()=>{w.current&&(window.clearTimeout(w.current),w.current=0)},[]),a.jsx(mh,U(b({},f),{children:a.jsx(_O,{scope:e,contentId:x,open:E,stateAttribute:I,trigger:g,onTriggerChange:y,onTriggerEnter:k.useCallback(()=>{d.isOpenDelayedRef.current?O():A()},[d.isOpenDelayedRef,O,A]),onTriggerLeave:k.useCallback(()=>{C?D():(window.clearTimeout(w.current),w.current=0)},[D,C]),onOpen:A,onClose:D,disableHoverableContent:C,children:t})}))};yS.displayName=su;var Ig="TooltipTrigger",vS=k.forwardRef((n,e)=>{const x=n,{__scopeTooltip:t}=x,r=Q(x,["__scopeTooltip"]),s=_u(Ig,t),o=Yy(Ig,t),l=gh(t),u=k.useRef(null),d=Dt(e,u,s.onTriggerChange),f=k.useRef(!1),g=k.useRef(!1),y=k.useCallback(()=>f.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",y),[y]),a.jsx(Wy,U(b({asChild:!0},l),{children:a.jsx(lt.button,U(b({"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute},r),{ref:d,onPointerMove:Ie(n.onPointerMove,w=>{w.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),g.current=!0)}),onPointerLeave:Ie(n.onPointerLeave,()=>{s.onTriggerLeave(),g.current=!1}),onPointerDown:Ie(n.onPointerDown,()=>{s.open&&s.onClose(),f.current=!0,document.addEventListener("pointerup",y,{once:!0})}),onFocus:Ie(n.onFocus,()=>{f.current||s.onOpen()}),onBlur:Ie(n.onBlur,s.onClose),onClick:Ie(n.onClick,s.onClose)}))}))});vS.displayName=Ig;var qy="TooltipPortal",[kO,CO]=ph(qy,{forceMount:void 0}),xS=n=>{const{__scopeTooltip:e,forceMount:t,children:r,container:s}=n,o=_u(qy,e);return a.jsx(kO,{scope:e,forceMount:t,children:a.jsx(_s,{present:t||o.open,children:a.jsx(xu,{asChild:!0,container:s,children:r})})})};xS.displayName=qy;var Cl="TooltipContent",wS=k.forwardRef((n,e)=>{const t=CO(Cl,n.__scopeTooltip),u=n,{forceMount:r=t.forceMount,side:s="top"}=u,o=Q(u,["forceMount","side"]),l=_u(Cl,n.__scopeTooltip);return a.jsx(_s,{present:r||l.open,children:l.disableHoverableContent?a.jsx(_S,U(b({side:s},o),{ref:e})):a.jsx(SO,U(b({side:s},o),{ref:e}))})}),SO=k.forwardRef((n,e)=>{const t=_u(Cl,n.__scopeTooltip),r=Yy(Cl,n.__scopeTooltip),s=k.useRef(null),o=Dt(e,s),[l,u]=k.useState(null),{trigger:d,onClose:f}=t,g=s.current,{onPointerInTransitChange:y}=r,x=k.useCallback(()=>{u(null),y(!1)},[y]),w=k.useCallback((C,S)=>{const T=C.currentTarget,E={x:C.clientX,y:C.clientY},P=EO(E,T.getBoundingClientRect()),I=MO(E,P),A=DO(S.getBoundingClientRect()),D=jO([...I,...A]);u(D),y(!0)},[y]);return k.useEffect(()=>()=>x(),[x]),k.useEffect(()=>{if(d&&g){const C=T=>w(T,g),S=T=>w(T,d);return d.addEventListener("pointerleave",C),g.addEventListener("pointerleave",S),()=>{d.removeEventListener("pointerleave",C),g.removeEventListener("pointerleave",S)}}},[d,g,w,x]),k.useEffect(()=>{if(l){const C=S=>{const T=S.target,E={x:S.clientX,y:S.clientY},P=(d==null?void 0:d.contains(T))||(g==null?void 0:g.contains(T)),I=!IO(E,l);P?x():I&&(x(),f())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[d,g,l,f,x]),a.jsx(_S,U(b({},n),{ref:o}))}),[bO,TO]=ph(su,{isInside:!1}),NO=VA("TooltipContent"),_S=k.forwardRef((n,e)=>{const y=n,{__scopeTooltip:t,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l}=y,u=Q(y,["__scopeTooltip","children","aria-label","onEscapeKeyDown","onPointerDownOutside"]),d=_u(Cl,t),f=gh(t),{onClose:g}=d;return k.useEffect(()=>(document.addEventListener(Dg,g),()=>document.removeEventListener(Dg,g)),[g]),k.useEffect(()=>{if(d.trigger){const x=w=>{const C=w.target;C!=null&&C.contains(d.trigger)&&g()};return window.addEventListener("scroll",x,{capture:!0}),()=>window.removeEventListener("scroll",x,{capture:!0})}},[d.trigger,g]),a.jsx(vu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:x=>x.preventDefault(),onDismiss:g,children:a.jsxs(Hy,U(b(b({"data-state":d.stateAttribute},f),u),{ref:e,style:U(b({},u.style),{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}),children:[a.jsx(NO,{children:r}),a.jsx(bO,{scope:t,isInside:!0,children:a.jsx(vO,{id:d.contentId,role:"tooltip",children:s||r})})]}))})});wS.displayName=Cl;var kS="TooltipArrow",CS=k.forwardRef((n,e)=>{const l=n,{__scopeTooltip:t}=l,r=Q(l,["__scopeTooltip"]),s=gh(t);return TO(kS,t).isInside?null:a.jsx(Gy,U(b(b({},s),r),{ref:e}))});CS.displayName=kS;function EO(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),s=Math.abs(e.right-n.x),o=Math.abs(e.left-n.x);switch(Math.min(t,r,s,o)){case o:return"left";case s:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function MO(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function DO(n){const{top:e,right:t,bottom:r,left:s}=n;return[{x:s,y:e},{x:t,y:e},{x:t,y:r},{x:s,y:r}]}function IO(n,e){const{x:t,y:r}=n;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const u=e[o],d=e[l],f=u.x,g=u.y,y=d.x,x=d.y;g>r!=x>r&&t<(y-f)*(r-g)/(x-g)+f&&(s=!s)}return s}function jO(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),AO(e)}function AO(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const s=n[r];for(;e.length>=2;){const o=e[e.length-1],l=e[e.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const s=n[r];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}var PO=gS,RO=yS,OO=vS,LO=xS,FO=wS,$O=CS;function SS(t){var r=t,{delayDuration:n=0}=r,e=Q(r,["delayDuration"]);return a.jsx(PO,b({"data-slot":"tooltip-provider",delayDuration:n},e))}function UO(e){var n=Q(e,[]);return a.jsx(SS,{children:a.jsx(RO,b({"data-slot":"tooltip"},n))})}function VO(e){var n=Q(e,[]);return a.jsx(OO,b({"data-slot":"tooltip-trigger"},n))}function BO(s){var o=s,{className:n,sideOffset:e=0,children:t}=o,r=Q(o,["className","sideOffset","children"]);return a.jsx(LO,{children:a.jsxs(FO,U(b({"data-slot":"tooltip-content",sideOffset:e,className:ae("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",n)},r),{children:[t,a.jsx($O,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]}))})}const u_="sidebar_state",zO=60*60*24*7,WO="16rem",HO="18rem",GO="3rem",YO="b",bS=k.createContext(null);function yh(){const n=k.useContext(bS);if(!n)throw new Error("useSidebar must be used within a SidebarProvider.");return n}function ku(u){var d=u,{defaultOpen:n=!0,open:e,onOpenChange:t,className:r,style:s,children:o}=d,l=Q(d,["defaultOpen","open","onOpenChange","className","style","children"]);const f=QR(),[g,y]=k.useState(!1),x=k.useCallback(()=>{if(typeof document=="undefined")return n;const D=document.cookie.split(";").find(O=>O.trim().startsWith(`${u_}=`));return D?D.split("=")[1]==="true":n},[n]),[w,C]=k.useState(()=>x()),S=e!=null?e:w,T=k.useCallback(A=>{const D=typeof A=="function"?A(S):A;t?t(D):C(D),document.cookie=`${u_}=${D}; path=/; max-age=${zO}`},[t,S]),E=k.useCallback(()=>f?y(A=>!A):T(A=>!A),[f,T,y]);k.useEffect(()=>{const A=D=>{D.key===YO&&(D.metaKey||D.ctrlKey)&&(D.preventDefault(),E())};return window.addEventListener("keydown",A),()=>window.removeEventListener("keydown",A)},[E]);const P=S?"expanded":"collapsed",I=k.useMemo(()=>({state:P,open:S,setOpen:T,isMobile:f,openMobile:g,setOpenMobile:y,toggleSidebar:E}),[P,S,T,f,g,y,E]);return a.jsx(bS.Provider,{value:I,children:a.jsx(SS,{delayDuration:0,children:a.jsx("div",U(b({"data-slot":"sidebar-wrapper",style:b({"--sidebar-width":WO,"--sidebar-width-icon":GO},s),className:ae("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r)},l),{children:o}))})})}function TS(l){var u=l,{side:n="left",variant:e="sidebar",collapsible:t="offcanvas",className:r,children:s}=u,o=Q(u,["side","variant","collapsible","className","children"]);const{isMobile:d,state:f,openMobile:g,setOpenMobile:y}=yh();return t==="none"?a.jsx("div",U(b({"data-slot":"sidebar",className:ae("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",r)},o),{children:s})):d?a.jsx(r4,U(b({open:g,onOpenChange:y},o),{children:a.jsxs(i4,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":HO},side:n,children:[a.jsxs(a4,{className:"sr-only",children:[a.jsx(l4,{children:"Sidebar"}),a.jsx(c4,{children:"Displays the mobile sidebar."})]}),a.jsx("div",{className:"flex h-full w-full flex-col",children:s})]})})):a.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":f,"data-collapsible":f==="collapsed"?t:"","data-variant":e,"data-side":n,"data-slot":"sidebar",children:[a.jsx("div",{"data-slot":"sidebar-gap",className:ae("relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),a.jsx("div",U(b({"data-slot":"sidebar-container",className:ae("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",n==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",r)},o),{children:a.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:s})}))]})}function NS(r){var s=r,{className:n,onClick:e}=s,t=Q(s,["className","onClick"]);const{toggleSidebar:o}=yh();return a.jsxs(de,U(b({"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:ae("size-7",n),onClick:l=>{e==null||e(l),o()}},t),{children:[a.jsx(jj,{}),a.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]}))}function qO(t){var r=t,{className:n}=r,e=Q(r,["className"]);const{toggleSidebar:s}=yh();return a.jsx("button",b({"data-sidebar":"rail","data-slot":"sidebar-rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:s,title:"Toggle Sidebar",className:ae("hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex","in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",n)},e))}function Cu(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("main",b({"data-slot":"sidebar-inset",className:ae("bg-background relative flex w-full flex-1 flex-col","md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2",n)},e))}function ES(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("div",b({"data-slot":"sidebar-header","data-sidebar":"header",className:ae("flex flex-col gap-2 p-2",n)},e))}function KO(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("div",b({"data-slot":"sidebar-footer","data-sidebar":"footer",className:ae("flex flex-col gap-2 p-2",n)},e))}function MS(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("div",b({"data-slot":"sidebar-content","data-sidebar":"content",className:ae("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",n)},e))}function Bc(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("div",b({"data-slot":"sidebar-group","data-sidebar":"group",className:ae("relative flex w-full min-w-0 flex-col p-2",n)},e))}function zc(r){var s=r,{className:n,asChild:e=!1}=s,t=Q(s,["className","asChild"]);const o=e?gu:"div";return a.jsx(o,b({"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:ae("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",n)},t))}function Wc(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("div",b({"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:ae("w-full text-sm",n)},e))}function Zi(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("ul",b({"data-slot":"sidebar-menu","data-sidebar":"menu",className:ae("flex w-full min-w-0 flex-col gap-1",n)},e))}function js(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("li",b({"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:ae("group/menu-item relative",n)},e))}const JO=yu("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function po(u){var d=u,{asChild:n=!1,isActive:e=!1,variant:t="default",size:r="default",tooltip:s,className:o}=d,l=Q(d,["asChild","isActive","variant","size","tooltip","className"]);const f=n?gu:"button",{isMobile:g,state:y}=yh(),x=a.jsx(f,b({"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:ae(JO({variant:t,size:r}),o)},l));return s?(typeof s=="string"&&(s={children:s}),a.jsxs(UO,{children:[a.jsx(VO,{asChild:!0,children:x}),a.jsx(BO,b({side:"right",align:"center",hidden:y!=="collapsed"||g},s))]})):x}function ZO(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("ul",b({"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:ae("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",n)},e))}function nf(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("li",b({"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",className:ae("group/menu-sub-item relative",n)},e))}function Gp(o){var l=o,{asChild:n=!1,size:e="md",isActive:t=!1,className:r}=l,s=Q(l,["asChild","size","isActive","className"]);const u=n?gu:"a";return a.jsx(u,b({"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":e,"data-active":t,className:ae("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r)},s))}function QO(n){if(typeof document=="undefined")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=n:t.appendChild(document.createTextNode(n))}Array(12).fill(0);let jg=1;class XO{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const d=e,{message:r}=d,s=Q(d,["message"]),o=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:jg++,l=this.toasts.find(f=>f.id===o),u=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),l?this.toasts=this.toasts.map(f=>f.id===o?(this.publish(U(b(b({},f),e),{id:o,title:r})),U(b(b({},f),e),{id:o,dismissible:u,title:r})):f):this.addToast(U(b({title:r},s),{dismissible:u,id:o})),o},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create(U(b({},t),{message:e})),this.error=(e,t)=>this.create(U(b({},t),{message:e,type:"error"})),this.success=(e,t)=>this.create(U(b({},t),{type:"success",message:e})),this.info=(e,t)=>this.create(U(b({},t),{type:"info",message:e})),this.warning=(e,t)=>this.create(U(b({},t),{type:"warning",message:e})),this.loading=(e,t)=>this.create(U(b({},t),{type:"loading",message:e})),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create(U(b({},t),{promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0})));const s=Promise.resolve(e instanceof Function?e():e);let o=r!==void 0,l;const u=s.then(f=>M(this,null,function*(){if(l=["resolve",f],be.isValidElement(f))o=!1,this.create({id:r,type:"default",message:f});else if(t3(f)&&!f.ok){o=!1;const y=typeof t.error=="function"?yield t.error(`HTTP error! status: ${f.status}`):t.error,x=typeof t.description=="function"?yield t.description(`HTTP error! status: ${f.status}`):t.description,C=typeof y=="object"&&!be.isValidElement(y)?y:{message:y};this.create(b({id:r,type:"error",description:x},C))}else if(f instanceof Error){o=!1;const y=typeof t.error=="function"?yield t.error(f):t.error,x=typeof t.description=="function"?yield t.description(f):t.description,C=typeof y=="object"&&!be.isValidElement(y)?y:{message:y};this.create(b({id:r,type:"error",description:x},C))}else if(t.success!==void 0){o=!1;const y=typeof t.success=="function"?yield t.success(f):t.success,x=typeof t.description=="function"?yield t.description(f):t.description,C=typeof y=="object"&&!be.isValidElement(y)?y:{message:y};this.create(b({id:r,type:"success",description:x},C))}})).catch(f=>M(this,null,function*(){if(l=["reject",f],t.error!==void 0){o=!1;const g=typeof t.error=="function"?yield t.error(f):t.error,y=typeof t.description=="function"?yield t.description(f):t.description,w=typeof g=="object"&&!be.isValidElement(g)?g:{message:g};this.create(b({id:r,type:"error",description:y},w))}})).finally(()=>{o&&(this.dismiss(r),r=void 0),t.finally==null||t.finally.call(t)}),d=()=>new Promise((f,g)=>u.then(()=>l[0]==="reject"?g(l[1]):f(l[1])).catch(g));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(e,t)=>{const r=(t==null?void 0:t.id)||jg++;return this.create(b({jsx:e(r),id:r},t)),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Vr=new XO,e3=(n,e)=>{const t=(e==null?void 0:e.id)||jg++;return Vr.addToast(U(b({title:n},e),{id:t})),t},t3=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",n3=e3,r3=()=>Vr.toasts,s3=()=>Vr.getActiveToasts(),Rt=Object.assign(n3,{success:Vr.success,info:Vr.info,warning:Vr.warning,error:Vr.error,custom:Vr.custom,message:Vr.message,promise:Vr.promise,dismiss:Vr.dismiss,loading:Vr.loading},{getHistory:r3,getToasts:s3});QO("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");var jt;(function(n){n.assertEqual=s=>{};function e(s){}n.assertIs=e;function t(s){throw new Error}n.assertNever=t,n.arrayToEnum=s=>{const o={};for(const l of s)o[l]=l;return o},n.getValidEnumValues=s=>{const o=n.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),l={};for(const u of o)l[u]=s[u];return n.objectValues(l)},n.objectValues=s=>n.objectKeys(s).map(function(o){return s[o]}),n.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&o.push(l);return o},n.find=(s,o)=>{for(const l of s)if(o(l))return l},n.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,o=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}n.joinValues=r,n.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(jt||(jt={}));var d_;(function(n){n.mergeShapes=(e,t)=>b(b({},e),t)})(d_||(d_={}));const Fe=jt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ai=n=>{switch(typeof n){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return Number.isNaN(n)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(n)?Fe.array:n===null?Fe.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?Fe.promise:typeof Map!="undefined"&&n instanceof Map?Fe.map:typeof Set!="undefined"&&n instanceof Set?Fe.set:typeof Date!="undefined"&&n instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},Se=jt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Do extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(o){return o.message},r={_errors:[]},s=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(t(l));else{let u=r,d=0;for(;d<l.path.length;){const f=l.path[d];d===l.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(t(l))):u[f]=u[f]||{_errors:[]},u=u[f],d++}}};return s(this),r}static assert(e){if(!(e instanceof Do))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,jt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},r=[];for(const s of this.issues)s.path.length>0?(t[s.path[0]]=t[s.path[0]]||[],t[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}Do.create=n=>new Do(n);const Ag=(n,e)=>{let t;switch(n.code){case Se.invalid_type:n.received===Fe.undefined?t="Required":t=`Expected ${n.expected}, received ${n.received}`;break;case Se.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(n.expected,jt.jsonStringifyReplacer)}`;break;case Se.unrecognized_keys:t=`Unrecognized key(s) in object: ${jt.joinValues(n.keys,", ")}`;break;case Se.invalid_union:t="Invalid input";break;case Se.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${jt.joinValues(n.options)}`;break;case Se.invalid_enum_value:t=`Invalid enum value. Expected ${jt.joinValues(n.options)}, received '${n.received}'`;break;case Se.invalid_arguments:t="Invalid function arguments";break;case Se.invalid_return_type:t="Invalid function return type";break;case Se.invalid_date:t="Invalid date";break;case Se.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(t=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?t=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?t=`Invalid input: must end with "${n.validation.endsWith}"`:jt.assertNever(n.validation):n.validation!=="regex"?t=`Invalid ${n.validation}`:t="Invalid";break;case Se.too_small:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:t="Invalid input";break;case Se.too_big:n.type==="array"?t=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?t=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?t=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?t=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?t=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:t="Invalid input";break;case Se.custom:t="Invalid input";break;case Se.invalid_intersection_types:t="Intersection results could not be merged";break;case Se.not_multiple_of:t=`Number must be a multiple of ${n.multipleOf}`;break;case Se.not_finite:t="Number must be finite";break;default:t=e.defaultError,jt.assertNever(n)}return{message:t}};let o3=Ag;function i3(){return o3}const a3=n=>{const{data:e,path:t,errorMaps:r,issueData:s}=n,o=[...t,...s.path||[]],l=U(b({},s),{path:o});if(s.message!==void 0)return U(b({},s),{path:o,message:s.message});let u="";const d=r.filter(f=>!!f).slice().reverse();for(const f of d)u=f(l,{data:e,defaultError:u}).message;return U(b({},s),{path:o,message:u})};function Ee(n,e){const t=i3(),r=a3({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,t,t===Ag?void 0:Ag].filter(s=>!!s)});n.common.issues.push(r)}class ar{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const r=[];for(const s of t){if(s.status==="aborted")return at;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static mergeObjectAsync(e,t){return M(this,null,function*(){const r=[];for(const s of t){const o=yield s.key,l=yield s.value;r.push({key:o,value:l})}return ar.mergeObjectSync(e,r)})}static mergeObjectSync(e,t){const r={};for(const s of t){const{key:o,value:l}=s;if(o.status==="aborted"||l.status==="aborted")return at;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value!="undefined"||s.alwaysSet)&&(r[o.value]=l.value)}return{status:e.value,value:r}}}const at=Object.freeze({status:"aborted"}),Pc=n=>({status:"dirty",value:n}),Gr=n=>({status:"valid",value:n}),f_=n=>n.status==="aborted",h_=n=>n.status==="dirty",Sl=n=>n.status==="valid",Lf=n=>typeof Promise!="undefined"&&n instanceof Promise;var We;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(We||(We={}));class Hs{constructor(e,t,r,s){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const m_=(n,e)=>{if(Sl(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new Do(n.common.issues);return this._error=t,this._error}}};function dt(n){if(!n)return{};const{errorMap:e,invalid_type_error:t,required_error:r,description:s}=n;if(e&&(t||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,u)=>{var f,g;const{message:d}=n;return l.code==="invalid_enum_value"?{message:d!=null?d:u.defaultError}:typeof u.data=="undefined"?{message:(f=d!=null?d:r)!=null?f:u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:(g=d!=null?d:t)!=null?g:u.defaultError}},description:s}}class bt{get description(){return this._def.description}_getType(e){return ai(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ai(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ar,ctx:{common:e.parent.common,data:e.data,parsedType:ai(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Lf(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var o;const r={common:{issues:[],async:(o=t==null?void 0:t.async)!=null?o:!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ai(e)},s=this._parseSync({data:e,path:r.path,parent:r});return m_(r,s)}"~validate"(e){var r,s;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ai(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:t});return Sl(o)?{value:o.value}:{issues:t.common.issues}}catch(o){(s=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(o=>Sl(o)?{value:o.value}:{issues:t.common.issues})}parseAsync(e,t){return M(this,null,function*(){const r=yield this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error})}safeParseAsync(e,t){return M(this,null,function*(){const r={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ai(e)},s=this._parse({data:e,path:r.path,parent:r}),o=yield Lf(s)?s:Promise.resolve(s);return m_(r,o)})}refine(e,t){const r=s=>typeof t=="string"||typeof t=="undefined"?{message:t}:typeof t=="function"?t(s):t;return this._refinement((s,o)=>{const l=e(s),u=()=>o.addIssue(b({code:Se.custom},r(s)));return typeof Promise!="undefined"&&l instanceof Promise?l.then(d=>d?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,t){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof t=="function"?t(r,s):t),!1))}_refinement(e){return new Nl({schema:this,typeName:it.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return gi.create(this,this._def)}nullable(){return El.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return zs.create(this)}promise(){return Bf.create(this,this._def)}or(e){return $f.create([this,e],this._def)}and(e){return Uf.create(this,e,this._def)}transform(e){return new Nl(U(b({},dt(this._def)),{schema:this,typeName:it.ZodEffects,effect:{type:"transform",transform:e}}))}default(e){const t=typeof e=="function"?e:()=>e;return new Lg(U(b({},dt(this._def)),{innerType:this,defaultValue:t,typeName:it.ZodDefault}))}brand(){return new D3(b({typeName:it.ZodBranded,type:this},dt(this._def)))}catch(e){const t=typeof e=="function"?e:()=>e;return new Fg(U(b({},dt(this._def)),{innerType:this,catchValue:t,typeName:it.ZodCatch}))}describe(e){const t=this.constructor;return new t(U(b({},this._def),{description:e}))}pipe(e){return Ky.create(this,e)}readonly(){return $g.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const l3=/^c[^\s-]{8,}$/i,c3=/^[0-9a-z]+$/,u3=/^[0-9A-HJKMNP-TV-Z]{26}$/i,d3=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,f3=/^[a-z0-9_-]{21}$/i,h3=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,m3=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,p3=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,g3="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Yp;const y3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,v3=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,x3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,w3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,_3=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,k3=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,DS="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",C3=new RegExp(`^${DS}$`);function IS(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const t=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function S3(n){return new RegExp(`^${IS(n)}$`)}function b3(n){let e=`${DS}T${IS(n)}`;const t=[];return t.push(n.local?"Z?":"Z"),n.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function T3(n,e){return!!((e==="v4"||!e)&&y3.test(n)||(e==="v6"||!e)&&x3.test(n))}function N3(n,e){if(!h3.test(n))return!1;try{const[t]=n.split("."),r=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch(t){return!1}}function E3(n,e){return!!((e==="v4"||!e)&&v3.test(n)||(e==="v6"||!e)&&w3.test(n))}class Os extends bt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Fe.string){const o=this._getOrReturnCtx(e);return Ee(o,{code:Se.invalid_type,expected:Fe.string,received:o.parsedType}),at}const r=new ar;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:Se.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:Se.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,u=e.data.length<o.value;(l||u)&&(s=this._getOrReturnCtx(e,s),l?Ee(s,{code:Se.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&Ee(s,{code:Se.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")p3.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"email",code:Se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Yp||(Yp=new RegExp(g3,"u")),Yp.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"emoji",code:Se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")d3.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"uuid",code:Se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")f3.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"nanoid",code:Se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")l3.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"cuid",code:Se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")c3.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"cuid2",code:Se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")u3.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"ulid",code:Se.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch(l){s=this._getOrReturnCtx(e,s),Ee(s,{validation:"url",code:Se.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"regex",code:Se.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:Se.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:Se.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:Se.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?b3(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:Se.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?C3.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:Se.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?S3(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{code:Se.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?m3.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"duration",code:Se.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?T3(e.data,o.version)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"ip",code:Se.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?N3(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"jwt",code:Se.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?E3(e.data,o.version)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"cidr",code:Se.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?_3.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"base64",code:Se.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?k3.test(e.data)||(s=this._getOrReturnCtx(e,s),Ee(s,{validation:"base64url",code:Se.invalid_string,message:o.message}),r.dirty()):jt.assertNever(o);return{status:r.value,value:e.data}}_regex(e,t,r){return this.refinement(s=>e.test(s),b({validation:t,code:Se.invalid_string},We.errToObj(r)))}_addCheck(e){return new Os(U(b({},this._def),{checks:[...this._def.checks,e]}))}email(e){return this._addCheck(b({kind:"email"},We.errToObj(e)))}url(e){return this._addCheck(b({kind:"url"},We.errToObj(e)))}emoji(e){return this._addCheck(b({kind:"emoji"},We.errToObj(e)))}uuid(e){return this._addCheck(b({kind:"uuid"},We.errToObj(e)))}nanoid(e){return this._addCheck(b({kind:"nanoid"},We.errToObj(e)))}cuid(e){return this._addCheck(b({kind:"cuid"},We.errToObj(e)))}cuid2(e){return this._addCheck(b({kind:"cuid2"},We.errToObj(e)))}ulid(e){return this._addCheck(b({kind:"ulid"},We.errToObj(e)))}base64(e){return this._addCheck(b({kind:"base64"},We.errToObj(e)))}base64url(e){return this._addCheck(b({kind:"base64url"},We.errToObj(e)))}jwt(e){return this._addCheck(b({kind:"jwt"},We.errToObj(e)))}ip(e){return this._addCheck(b({kind:"ip"},We.errToObj(e)))}cidr(e){return this._addCheck(b({kind:"cidr"},We.errToObj(e)))}datetime(e){var t,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck(b({kind:"datetime",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision,offset:(t=e==null?void 0:e.offset)!=null?t:!1,local:(r=e==null?void 0:e.local)!=null?r:!1},We.errToObj(e==null?void 0:e.message)))}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck(b({kind:"time",precision:typeof(e==null?void 0:e.precision)=="undefined"?null:e==null?void 0:e.precision},We.errToObj(e==null?void 0:e.message)))}duration(e){return this._addCheck(b({kind:"duration"},We.errToObj(e)))}regex(e,t){return this._addCheck(b({kind:"regex",regex:e},We.errToObj(t)))}includes(e,t){return this._addCheck(b({kind:"includes",value:e,position:t==null?void 0:t.position},We.errToObj(t==null?void 0:t.message)))}startsWith(e,t){return this._addCheck(b({kind:"startsWith",value:e},We.errToObj(t)))}endsWith(e,t){return this._addCheck(b({kind:"endsWith",value:e},We.errToObj(t)))}min(e,t){return this._addCheck(b({kind:"min",value:e},We.errToObj(t)))}max(e,t){return this._addCheck(b({kind:"max",value:e},We.errToObj(t)))}length(e,t){return this._addCheck(b({kind:"length",value:e},We.errToObj(t)))}nonempty(e){return this.min(1,We.errToObj(e))}trim(){return new Os(U(b({},this._def),{checks:[...this._def.checks,{kind:"trim"}]}))}toLowerCase(){return new Os(U(b({},this._def),{checks:[...this._def.checks,{kind:"toLowerCase"}]}))}toUpperCase(){return new Os(U(b({},this._def),{checks:[...this._def.checks,{kind:"toUpperCase"}]}))}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Os.create=n=>{var e;return new Os(b({checks:[],typeName:it.ZodString,coerce:(e=n==null?void 0:n.coerce)!=null?e:!1},dt(n)))};function M3(n,e){const t=(n.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=t>r?t:r,o=Number.parseInt(n.toFixed(s).replace(".","")),l=Number.parseInt(e.toFixed(s).replace(".",""));return o%l/_w(10,s)}class ia extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Fe.number){const o=this._getOrReturnCtx(e);return Ee(o,{code:Se.invalid_type,expected:Fe.number,received:o.parsedType}),at}let r;const s=new ar;for(const o of this._def.checks)o.kind==="int"?jt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ee(r,{code:Se.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:Se.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:Se.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?M3(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:Se.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ee(r,{code:Se.not_finite,message:o.message}),s.dirty()):jt.assertNever(o);return{status:s.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,We.toString(t))}gt(e,t){return this.setLimit("min",e,!1,We.toString(t))}lte(e,t){return this.setLimit("max",e,!0,We.toString(t))}lt(e,t){return this.setLimit("max",e,!1,We.toString(t))}setLimit(e,t,r,s){return new ia(U(b({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:We.toString(s)}]}))}_addCheck(e){return new ia(U(b({},this._def),{checks:[...this._def.checks,e]}))}int(e){return this._addCheck({kind:"int",message:We.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:We.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:We.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:We.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:We.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:We.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:We.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:We.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:We.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&jt.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(t===null||r.value>t)&&(t=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ia.create=n=>new ia(b({checks:[],typeName:it.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1},dt(n)));class aa extends bt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(o){return this._getInvalidInput(e)}if(this._getType(e)!==Fe.bigint)return this._getInvalidInput(e);let r;const s=new ar;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:Se.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:Se.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ee(r,{code:Se.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):jt.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Ee(t,{code:Se.invalid_type,expected:Fe.bigint,received:t.parsedType}),at}gte(e,t){return this.setLimit("min",e,!0,We.toString(t))}gt(e,t){return this.setLimit("min",e,!1,We.toString(t))}lte(e,t){return this.setLimit("max",e,!0,We.toString(t))}lt(e,t){return this.setLimit("max",e,!1,We.toString(t))}setLimit(e,t,r,s){return new aa(U(b({},this._def),{checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:We.toString(s)}]}))}_addCheck(e){return new aa(U(b({},this._def),{checks:[...this._def.checks,e]}))}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:We.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:We.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:We.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:We.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:We.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}aa.create=n=>{var e;return new aa(b({checks:[],typeName:it.ZodBigInt,coerce:(e=n==null?void 0:n.coerce)!=null?e:!1},dt(n)))};class Ff extends bt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Fe.boolean){const r=this._getOrReturnCtx(e);return Ee(r,{code:Se.invalid_type,expected:Fe.boolean,received:r.parsedType}),at}return Gr(e.data)}}Ff.create=n=>new Ff(b({typeName:it.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1},dt(n)));class bl extends bt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Fe.date){const o=this._getOrReturnCtx(e);return Ee(o,{code:Se.invalid_type,expected:Fe.date,received:o.parsedType}),at}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Ee(o,{code:Se.invalid_date}),at}const r=new ar;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:Se.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),Ee(s,{code:Se.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):jt.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new bl(U(b({},this._def),{checks:[...this._def.checks,e]}))}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:We.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:We.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}bl.create=n=>new bl(b({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:it.ZodDate},dt(n)));class p_ extends bt{_parse(e){if(this._getType(e)!==Fe.symbol){const r=this._getOrReturnCtx(e);return Ee(r,{code:Se.invalid_type,expected:Fe.symbol,received:r.parsedType}),at}return Gr(e.data)}}p_.create=n=>new p_(b({typeName:it.ZodSymbol},dt(n)));class g_ extends bt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Ee(r,{code:Se.invalid_type,expected:Fe.undefined,received:r.parsedType}),at}return Gr(e.data)}}g_.create=n=>new g_(b({typeName:it.ZodUndefined},dt(n)));class y_ extends bt{_parse(e){if(this._getType(e)!==Fe.null){const r=this._getOrReturnCtx(e);return Ee(r,{code:Se.invalid_type,expected:Fe.null,received:r.parsedType}),at}return Gr(e.data)}}y_.create=n=>new y_(b({typeName:it.ZodNull},dt(n)));class v_ extends bt{constructor(){super(...arguments),this._any=!0}_parse(e){return Gr(e.data)}}v_.create=n=>new v_(b({typeName:it.ZodAny},dt(n)));class Pg extends bt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Gr(e.data)}}Pg.create=n=>new Pg(b({typeName:it.ZodUnknown},dt(n)));class Ci extends bt{_parse(e){const t=this._getOrReturnCtx(e);return Ee(t,{code:Se.invalid_type,expected:Fe.never,received:t.parsedType}),at}}Ci.create=n=>new Ci(b({typeName:it.ZodNever},dt(n)));class x_ extends bt{_parse(e){if(this._getType(e)!==Fe.undefined){const r=this._getOrReturnCtx(e);return Ee(r,{code:Se.invalid_type,expected:Fe.void,received:r.parsedType}),at}return Gr(e.data)}}x_.create=n=>new x_(b({typeName:it.ZodVoid},dt(n)));class zs extends bt{_parse(e){const{ctx:t,status:r}=this._processInputParams(e),s=this._def;if(t.parsedType!==Fe.array)return Ee(t,{code:Se.invalid_type,expected:Fe.array,received:t.parsedType}),at;if(s.exactLength!==null){const l=t.data.length>s.exactLength.value,u=t.data.length<s.exactLength.value;(l||u)&&(Ee(t,{code:l?Se.too_big:Se.too_small,minimum:u?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&t.data.length<s.minLength.value&&(Ee(t,{code:Se.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&t.data.length>s.maxLength.value&&(Ee(t,{code:Se.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((l,u)=>s.type._parseAsync(new Hs(t,l,t.path,u)))).then(l=>ar.mergeArray(r,l));const o=[...t.data].map((l,u)=>s.type._parseSync(new Hs(t,l,t.path,u)));return ar.mergeArray(r,o)}get element(){return this._def.type}min(e,t){return new zs(U(b({},this._def),{minLength:{value:e,message:We.toString(t)}}))}max(e,t){return new zs(U(b({},this._def),{maxLength:{value:e,message:We.toString(t)}}))}length(e,t){return new zs(U(b({},this._def),{exactLength:{value:e,message:We.toString(t)}}))}nonempty(e){return this.min(1,e)}}zs.create=(n,e)=>new zs(b({type:n,minLength:null,maxLength:null,exactLength:null,typeName:it.ZodArray},dt(e)));function sl(n){if(n instanceof Nn){const e={};for(const t in n.shape){const r=n.shape[t];e[t]=gi.create(sl(r))}return new Nn(U(b({},n._def),{shape:()=>e}))}else return n instanceof zs?new zs(U(b({},n._def),{type:sl(n.element)})):n instanceof gi?gi.create(sl(n.unwrap())):n instanceof El?El.create(sl(n.unwrap())):n instanceof la?la.create(n.items.map(e=>sl(e))):n}class Nn extends bt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=jt.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==Fe.object){const f=this._getOrReturnCtx(e);return Ee(f,{code:Se.invalid_type,expected:Fe.object,received:f.parsedType}),at}const{status:r,ctx:s}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof Ci&&this._def.unknownKeys==="strip"))for(const f in s.data)l.includes(f)||u.push(f);const d=[];for(const f of l){const g=o[f],y=s.data[f];d.push({key:{status:"valid",value:f},value:g._parse(new Hs(s,y,s.path,f)),alwaysSet:f in s.data})}if(this._def.catchall instanceof Ci){const f=this._def.unknownKeys;if(f==="passthrough")for(const g of u)d.push({key:{status:"valid",value:g},value:{status:"valid",value:s.data[g]}});else if(f==="strict")u.length>0&&(Ee(s,{code:Se.unrecognized_keys,keys:u}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const g of u){const y=s.data[g];d.push({key:{status:"valid",value:g},value:f._parse(new Hs(s,y,s.path,g)),alwaysSet:g in s.data})}}return s.common.async?Promise.resolve().then(()=>M(this,null,function*(){const f=[];for(const g of d){const y=yield g.key,x=yield g.value;f.push({key:y,value:x,alwaysSet:g.alwaysSet})}return f})).then(f=>ar.mergeObjectSync(r,f)):ar.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return We.errToObj,new Nn(b(U(b({},this._def),{unknownKeys:"strict"}),e!==void 0?{errorMap:(t,r)=>{var o,l,u,d;const s=(u=(l=(o=this._def).errorMap)==null?void 0:l.call(o,t,r).message)!=null?u:r.defaultError;return t.code==="unrecognized_keys"?{message:(d=We.errToObj(e).message)!=null?d:s}:{message:s}}}:{}))}strip(){return new Nn(U(b({},this._def),{unknownKeys:"strip"}))}passthrough(){return new Nn(U(b({},this._def),{unknownKeys:"passthrough"}))}extend(e){return new Nn(U(b({},this._def),{shape:()=>b(b({},this._def.shape()),e)}))}merge(e){return new Nn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>b(b({},this._def.shape()),e._def.shape()),typeName:it.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Nn(U(b({},this._def),{catchall:e}))}pick(e){const t={};for(const r of jt.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new Nn(U(b({},this._def),{shape:()=>t}))}omit(e){const t={};for(const r of jt.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new Nn(U(b({},this._def),{shape:()=>t}))}deepPartial(){return sl(this)}partial(e){const t={};for(const r of jt.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?t[r]=s:t[r]=s.optional()}return new Nn(U(b({},this._def),{shape:()=>t}))}required(e){const t={};for(const r of jt.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof gi;)o=o._def.innerType;t[r]=o}return new Nn(U(b({},this._def),{shape:()=>t}))}keyof(){return jS(jt.objectKeys(this.shape))}}Nn.create=(n,e)=>new Nn(b({shape:()=>n,unknownKeys:"strip",catchall:Ci.create(),typeName:it.ZodObject},dt(e)));Nn.strictCreate=(n,e)=>new Nn(b({shape:()=>n,unknownKeys:"strict",catchall:Ci.create(),typeName:it.ZodObject},dt(e)));Nn.lazycreate=(n,e)=>new Nn(b({shape:n,unknownKeys:"strip",catchall:Ci.create(),typeName:it.ZodObject},dt(e)));class $f extends bt{_parse(e){const{ctx:t}=this._processInputParams(e),r=this._def.options;function s(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return t.common.issues.push(...u.ctx.common.issues),u.result;const l=o.map(u=>new Do(u.ctx.common.issues));return Ee(t,{code:Se.invalid_union,unionErrors:l}),at}if(t.common.async)return Promise.all(r.map(o=>M(this,null,function*(){const l=U(b({},t),{common:U(b({},t.common),{issues:[]}),parent:null});return{result:yield o._parseAsync({data:t.data,path:t.path,parent:l}),ctx:l}}))).then(s);{let o;const l=[];for(const d of r){const f=U(b({},t),{common:U(b({},t.common),{issues:[]}),parent:null}),g=d._parseSync({data:t.data,path:t.path,parent:f});if(g.status==="valid")return g;g.status==="dirty"&&!o&&(o={result:g,ctx:f}),f.common.issues.length&&l.push(f.common.issues)}if(o)return t.common.issues.push(...o.ctx.common.issues),o.result;const u=l.map(d=>new Do(d));return Ee(t,{code:Se.invalid_union,unionErrors:u}),at}}get options(){return this._def.options}}$f.create=(n,e)=>new $f(b({options:n,typeName:it.ZodUnion},dt(e)));function Rg(n,e){const t=ai(n),r=ai(e);if(n===e)return{valid:!0,data:n};if(t===Fe.object&&r===Fe.object){const s=jt.objectKeys(e),o=jt.objectKeys(n).filter(u=>s.indexOf(u)!==-1),l=b(b({},n),e);for(const u of o){const d=Rg(n[u],e[u]);if(!d.valid)return{valid:!1};l[u]=d.data}return{valid:!0,data:l}}else if(t===Fe.array&&r===Fe.array){if(n.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<n.length;o++){const l=n[o],u=e[o],d=Rg(l,u);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return t===Fe.date&&r===Fe.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class Uf extends bt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=(o,l)=>{if(f_(o)||f_(l))return at;const u=Rg(o.value,l.value);return u.valid?((h_(o)||h_(l))&&t.dirty(),{status:t.value,value:u.data}):(Ee(r,{code:Se.invalid_intersection_types}),at)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,l])=>s(o,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Uf.create=(n,e,t)=>new Uf(b({left:n,right:e,typeName:it.ZodIntersection},dt(t)));class la extends bt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.array)return Ee(r,{code:Se.invalid_type,expected:Fe.array,received:r.parsedType}),at;if(r.data.length<this._def.items.length)return Ee(r,{code:Se.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&r.data.length>this._def.items.length&&(Ee(r,{code:Se.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const o=[...r.data].map((l,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Hs(r,l,r.path,u)):null}).filter(l=>!!l);return r.common.async?Promise.all(o).then(l=>ar.mergeArray(t,l)):ar.mergeArray(t,o)}get items(){return this._def.items}rest(e){return new la(U(b({},this._def),{rest:e}))}}la.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new la(b({items:n,typeName:it.ZodTuple,rest:null},dt(e)))};class Vf extends bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.object)return Ee(r,{code:Se.invalid_type,expected:Fe.object,received:r.parsedType}),at;const s=[],o=this._def.keyType,l=this._def.valueType;for(const u in r.data)s.push({key:o._parse(new Hs(r,u,r.path,u)),value:l._parse(new Hs(r,r.data[u],r.path,u)),alwaysSet:u in r.data});return r.common.async?ar.mergeObjectAsync(t,s):ar.mergeObjectSync(t,s)}get element(){return this._def.valueType}static create(e,t,r){return t instanceof bt?new Vf(b({keyType:e,valueType:t,typeName:it.ZodRecord},dt(r))):new Vf(b({keyType:Os.create(),valueType:e,typeName:it.ZodRecord},dt(t)))}}class w_ extends bt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.map)return Ee(r,{code:Se.invalid_type,expected:Fe.map,received:r.parsedType}),at;const s=this._def.keyType,o=this._def.valueType,l=[...r.data.entries()].map(([u,d],f)=>({key:s._parse(new Hs(r,u,r.path,[f,"key"])),value:o._parse(new Hs(r,d,r.path,[f,"value"]))}));if(r.common.async){const u=new Map;return Promise.resolve().then(()=>M(this,null,function*(){for(const d of l){const f=yield d.key,g=yield d.value;if(f.status==="aborted"||g.status==="aborted")return at;(f.status==="dirty"||g.status==="dirty")&&t.dirty(),u.set(f.value,g.value)}return{status:t.value,value:u}}))}else{const u=new Map;for(const d of l){const f=d.key,g=d.value;if(f.status==="aborted"||g.status==="aborted")return at;(f.status==="dirty"||g.status==="dirty")&&t.dirty(),u.set(f.value,g.value)}return{status:t.value,value:u}}}}w_.create=(n,e,t)=>new w_(b({valueType:e,keyType:n,typeName:it.ZodMap},dt(t)));class ou extends bt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==Fe.set)return Ee(r,{code:Se.invalid_type,expected:Fe.set,received:r.parsedType}),at;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ee(r,{code:Se.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),t.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ee(r,{code:Se.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),t.dirty());const o=this._def.valueType;function l(d){const f=new Set;for(const g of d){if(g.status==="aborted")return at;g.status==="dirty"&&t.dirty(),f.add(g.value)}return{status:t.value,value:f}}const u=[...r.data.values()].map((d,f)=>o._parse(new Hs(r,d,r.path,f)));return r.common.async?Promise.all(u).then(d=>l(d)):l(u)}min(e,t){return new ou(U(b({},this._def),{minSize:{value:e,message:We.toString(t)}}))}max(e,t){return new ou(U(b({},this._def),{maxSize:{value:e,message:We.toString(t)}}))}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}ou.create=(n,e)=>new ou(b({valueType:n,minSize:null,maxSize:null,typeName:it.ZodSet},dt(e)));class Og extends bt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Og.create=(n,e)=>new Og(b({getter:n,typeName:it.ZodLazy},dt(e)));class __ extends bt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ee(t,{received:t.data,code:Se.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:e.data}}get value(){return this._def.value}}__.create=(n,e)=>new __(b({value:n,typeName:it.ZodLiteral},dt(e)));function jS(n,e){return new Tl(b({values:n,typeName:it.ZodEnum},dt(e)))}class Tl extends bt{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),r=this._def.values;return Ee(t,{expected:jt.joinValues(r),received:t.parsedType,code:Se.invalid_type}),at}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),r=this._def.values;return Ee(t,{received:t.data,code:Se.invalid_enum_value,options:r}),at}return Gr(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return Tl.create(e,b(b({},this._def),t))}exclude(e,t=this._def){return Tl.create(this.options.filter(r=>!e.includes(r)),b(b({},this._def),t))}}Tl.create=jS;class k_ extends bt{_parse(e){const t=jt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Fe.string&&r.parsedType!==Fe.number){const s=jt.objectValues(t);return Ee(r,{expected:jt.joinValues(s),received:r.parsedType,code:Se.invalid_type}),at}if(this._cache||(this._cache=new Set(jt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const s=jt.objectValues(t);return Ee(r,{received:r.data,code:Se.invalid_enum_value,options:s}),at}return Gr(e.data)}get enum(){return this._def.values}}k_.create=(n,e)=>new k_(b({values:n,typeName:it.ZodNativeEnum},dt(e)));class Bf extends bt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==Fe.promise&&t.common.async===!1)return Ee(t,{code:Se.invalid_type,expected:Fe.promise,received:t.parsedType}),at;const r=t.parsedType===Fe.promise?t.data:Promise.resolve(t.data);return Gr(r.then(s=>this._def.type.parseAsync(s,{path:t.path,errorMap:t.common.contextualErrorMap})))}}Bf.create=(n,e)=>new Bf(b({type:n,typeName:it.ZodPromise},dt(e)));class Nl extends bt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===it.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:r}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:l=>{Ee(r,l),l.fatal?t.abort():t.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const l=s.transform(r.data,o);if(r.common.async)return Promise.resolve(l).then(u=>M(this,null,function*(){if(t.value==="aborted")return at;const d=yield this._def.schema._parseAsync({data:u,path:r.path,parent:r});return d.status==="aborted"?at:d.status==="dirty"||t.value==="dirty"?Pc(d.value):d}));{if(t.value==="aborted")return at;const u=this._def.schema._parseSync({data:l,path:r.path,parent:r});return u.status==="aborted"?at:u.status==="dirty"||t.value==="dirty"?Pc(u.value):u}}if(s.type==="refinement"){const l=u=>{const d=s.refinement(u,o);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?at:(u.status==="dirty"&&t.dirty(),l(u.value),{status:t.value,value:u.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>u.status==="aborted"?at:(u.status==="dirty"&&t.dirty(),l(u.value).then(()=>({status:t.value,value:u.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Sl(l))return at;const u=s.transform(l.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:u}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>Sl(l)?Promise.resolve(s.transform(l.value,o)).then(u=>({status:t.value,value:u})):at);jt.assertNever(s)}}Nl.create=(n,e,t)=>new Nl(b({schema:n,typeName:it.ZodEffects,effect:e},dt(t)));Nl.createWithPreprocess=(n,e,t)=>new Nl(b({schema:e,effect:{type:"preprocess",transform:n},typeName:it.ZodEffects},dt(t)));class gi extends bt{_parse(e){return this._getType(e)===Fe.undefined?Gr(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}gi.create=(n,e)=>new gi(b({innerType:n,typeName:it.ZodOptional},dt(e)));class El extends bt{_parse(e){return this._getType(e)===Fe.null?Gr(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}El.create=(n,e)=>new El(b({innerType:n,typeName:it.ZodNullable},dt(e)));class Lg extends bt{_parse(e){const{ctx:t}=this._processInputParams(e);let r=t.data;return t.parsedType===Fe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Lg.create=(n,e)=>new Lg(b({innerType:n,typeName:it.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default},dt(e)));class Fg extends bt{_parse(e){const{ctx:t}=this._processInputParams(e),r=U(b({},t),{common:U(b({},t.common),{issues:[]})}),s=this._def.innerType._parse({data:r.data,path:r.path,parent:b({},r)});return Lf(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Do(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Do(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Fg.create=(n,e)=>new Fg(b({innerType:n,typeName:it.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch},dt(e)));class C_ extends bt{_parse(e){if(this._getType(e)!==Fe.nan){const r=this._getOrReturnCtx(e);return Ee(r,{code:Se.invalid_type,expected:Fe.nan,received:r.parsedType}),at}return{status:"valid",value:e.data}}}C_.create=n=>new C_(b({typeName:it.ZodNaN},dt(n)));class D3 extends bt{_parse(e){const{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class Ky extends bt{_parse(e){const{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return M(this,null,function*(){const o=yield this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?at:o.status==="dirty"?(t.dirty(),Pc(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})});{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?at:s.status==="dirty"?(t.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,t){return new Ky({in:e,out:t,typeName:it.ZodPipeline})}}class $g extends bt{_parse(e){const t=this._def.innerType._parse(e),r=s=>(Sl(s)&&(s.value=Object.freeze(s.value)),s);return Lf(t)?t.then(s=>r(s)):r(t)}unwrap(){return this._def.innerType}}$g.create=(n,e)=>new $g(b({innerType:n,typeName:it.ZodReadonly},dt(e)));var it;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(it||(it={}));const Wi=Os.create,S_=ia.create;aa.create;const I3=Ff.create;bl.create;const b_=Pg.create;Ci.create;const Rc=zs.create,j3=Nn.create,A3=$f.create;Uf.create;la.create;const P3=Vf.create,R3=Og.create,O3=Tl.create;Bf.create;gi.create;El.create;const Wa={string:n=>Os.create(U(b({},n),{coerce:!0})),number:n=>ia.create(U(b({},n),{coerce:!0})),boolean:n=>Ff.create(U(b({},n),{coerce:!0})),bigint:n=>aa.create(U(b({},n),{coerce:!0})),date:n=>bl.create(U(b({},n),{coerce:!0}))};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let L3,F3;function $3(){return{geminiUrl:L3,vertexUrl:F3}}function U3(n,e,t){var r,s,o;if(!(!((r=n.httpOptions)===null||r===void 0)&&r.baseUrl)){const l=$3();return n.vertexai?(s=l.vertexUrl)!==null&&s!==void 0?s:e:(o=l.geminiUrl)!==null&&o!==void 0?o:t}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ll{}function nt(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(r,s)=>{if(Object.prototype.hasOwnProperty.call(e,s)){const o=e[s];return o!=null?String(o):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function p(n,e,t){for(let o=0;o<e.length-1;o++){const l=e[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(n[u])){const d=n[u];if(Array.isArray(t))for(let f=0;f<d.length;f++){const g=d[f];p(g,e.slice(o+1),t[f])}else for(const f of d)p(f,e.slice(o+1),t)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in n||(n[u]=[{}]);const d=n[u];p(d[0],e.slice(o+1),t);return}(!n[l]||typeof n[l]!="object")&&(n[l]={}),n=n[l]}const r=e[e.length-1],s=n[r];if(s!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===s)return;if(typeof s=="object"&&typeof t=="object"&&s!==null&&t!==null)Object.assign(s,t);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else n[r]=t}function m(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const r=e[t];if(r.endsWith("[]")){const s=r.slice(0,-2);if(s in n){const o=n[s];return Array.isArray(o)?o.map(l=>m(l,e.slice(t+1))):void 0}else return}else n=n[r]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var T_;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(T_||(T_={}));var N_;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(N_||(N_={}));var Ls;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Ls||(Ls={}));var E_;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(E_||(E_={}));var M_;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(M_||(M_={}));var D_;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(D_||(D_={}));var I_;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(I_||(I_={}));var j_;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(j_||(j_={}));var A_;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(A_||(A_={}));var P_;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(P_||(P_={}));var R_;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(R_||(R_={}));var O_;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(O_||(O_={}));var L_;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(L_||(L_={}));var zf;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(zf||(zf={}));var F_;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(F_||(F_={}));var Ug;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ug||(Ug={}));var $_;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})($_||($_={}));var U_;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(U_||(U_={}));var V_;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(V_||(V_={}));var B_;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(B_||(B_={}));var z_;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(z_||(z_={}));var W_;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(W_||(W_={}));var H_;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(H_||(H_={}));var G_;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(G_||(G_={}));var Y_;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(Y_||(Y_={}));var q_;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(q_||(q_={}));var K_;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(K_||(K_={}));var J_;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(J_||(J_={}));var Z_;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Z_||(Z_={}));var Q_;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Q_||(Q_={}));var X_;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(X_||(X_={}));var e1;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(e1||(e1={}));var t1;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(t1||(t1={}));var n1;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(n1||(n1={}));var r1;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(r1||(r1={}));var s1;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(s1||(s1={}));var o1;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(o1||(o1={}));var i1;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(i1||(i1={}));var ul;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(ul||(ul={}));class Nc{get text(){var e,t,r,s,o,l,u,d;if(((s=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",g=!1;const y=[];for(const x of(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[w,C]of Object.entries(x))w!=="text"&&w!=="thought"&&(C!==null||C!==void 0)&&y.push(w);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;g=!0,f+=x.text}}return y.length>0&&console.warn(`there are non-text parts ${y} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),g?f:void 0}get data(){var e,t,r,s,o,l,u,d;if(((s=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const g=[];for(const y of(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[x,w]of Object.entries(y))x!=="inlineData"&&(w!==null||w!==void 0)&&g.push(x);y.inlineData&&typeof y.inlineData.data=="string"&&(f+=atob(y.inlineData.data))}return g.length>0&&console.warn(`there are non-data parts ${g} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,t,r,s,o,l,u,d;if(((s=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(g=>g.functionCall).map(g=>g.functionCall).filter(g=>g!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,t,r,s,o,l,u,d,f;if(((s=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const g=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(y=>y.executableCode).map(y=>y.executableCode).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,t,r,s,o,l,u,d,f;if(((s=(r=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||r===void 0?void 0:r.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const g=(d=(u=(l=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(y=>y.codeExecutionResult).map(y=>y.codeExecutionResult).filter(y=>y!==void 0);if((g==null?void 0:g.length)!==0)return(f=g==null?void 0:g[0])===null||f===void 0?void 0:f.output}}class a1{}class l1{}class V3{}class B3{}class c1{}class u1{}class d1{}class z3{}class f1{}class h1{}class m1{}class W3{}class Vg{constructor(e){const t={};for(const r of e.headers.entries())t[r[0]]=r[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class H3{}class G3{}class Y3{get text(){var e,t,r;let s="",o=!1;const l=[];for(const u of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[d,f]of Object.entries(u))d!=="text"&&d!=="thought"&&f!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,s+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?s:void 0}get data(){var e,t,r;let s="";const o=[];for(const l of(r=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&r!==void 0?r:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&o.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(s+=atob(l.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class q3{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zt(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function AS(n,e){const t=Zt(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function PS(n,e){return Array.isArray(e)?e.map(t=>Wf(n,t)):[Wf(n,e)]}function Wf(n,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function K3(n,e){const t=Wf(n,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function J3(n,e){const t=Wf(n,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function p1(n,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function RS(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>p1(n,t)):[p1(n,e)]}function Bg(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function g1(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function y1(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function ir(n,e){if(e==null)throw new Error("ContentUnion is required");return Bg(e)?e:{role:"user",parts:RS(n,e)}}function OS(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const r=ir(n,t);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(n.isVertexAI()){const t=ir(n,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>ir(n,t)):[ir(n,e)]}function ps(n,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(g1(e)||y1(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ir(n,e)]}const t=[],r=[],s=Bg(e[0]);for(const o of e){const l=Bg(o);if(l!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(o);else{if(g1(o)||y1(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(o)}}return s||t.push({role:"user",parts:RS(n,r)}),t}const Z3=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),v1=O3(["string","number","integer","object","array","boolean","null"]),Q3=A3([v1,Rc(v1)]);function X3(n=!0){const e=R3(()=>{const t=j3({type:Q3.optional(),format:Wi().optional(),title:Wi().optional(),description:Wi().optional(),default:b_().optional(),items:e.optional(),minItems:Wa.string().optional(),maxItems:Wa.string().optional(),enum:Rc(b_()).optional(),properties:P3(Wi(),e).optional(),required:Rc(Wi()).optional(),minProperties:Wa.string().optional(),maxProperties:Wa.string().optional(),propertyOrdering:Rc(Wi()).optional(),minimum:S_().optional(),maximum:S_().optional(),minLength:Wa.string().optional(),maxLength:Wa.string().optional(),pattern:Wi().optional(),anyOf:Rc(e).optional(),additionalProperties:I3().optional()});return n?t.strict():t});return e}function e5(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(r=>r!=="null");if(t.length===1)e.type=Object.values(Ls).includes(t[0].toUpperCase())?t[0].toUpperCase():Ls.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of t)e.anyOf.push({type:Object.values(Ls).includes(r.toUpperCase())?r.toUpperCase():Ls.TYPE_UNSPECIFIED})}}function gl(n){const e={},t=["items"],r=["anyOf"],s=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=n.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,n=o[1]):o[1].type==="null"&&(e.nullable=!0,n=o[0])),n.type instanceof Array&&e5(n.type,e);for(const[l,u]of Object.entries(n))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Ls).includes(u.toUpperCase())?u.toUpperCase():Ls.TYPE_UNSPECIFIED}else if(t.includes(l))e[l]=gl(u);else if(r.includes(l)){const d=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}d.push(gl(f))}e[l]=d}else if(s.includes(l)){const d={};for(const[f,g]of Object.entries(u))d[f]=gl(g);e[l]=d}else{if(l==="additionalProperties")continue;e[l]=u}return e}function Hf(n,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=X3().parse(e);return gl(t)}else return gl(e)}function LS(n,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Jy(n,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Su(n,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=Hf(n,t.parameters)),t.response&&(t.response=Hf(n,t.response));return e}function bu(n,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const r of e)t.push(r);return t}function t5(n,e,t,r=1){const s=!e.startsWith(`${t}/`)&&e.split("/").length===r;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:s?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:s?`${t}/${e}`:e}function bi(n,e){if(typeof e!="string")throw new Error("name must be a string");return t5(n,e,"cachedContents")}function FS(n,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function jo(n,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function n5(n){return n!=null&&typeof n=="object"&&"name"in n}function r5(n){return n!=null&&typeof n=="object"&&"video"in n}function s5(n){return n!=null&&typeof n=="object"&&"uri"in n}function $S(n,e){var t;let r;if(n5(e)&&(r=e.name),!(s5(e)&&(r=e.uri,r===void 0))&&!(r5(e)&&(r=(t=e.video)===null||t===void 0?void 0:t.uri,r===void 0))){if(typeof e=="string"&&(r=e),r===void 0)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const o=r.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${r}`);r=o[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function US(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function VS(n,e){for(const t of["models","tunedModels","publisherModels"])if(o5(e,t))return e[t];return[]}function o5(n,e){return n!==null&&typeof n=="object"&&e in n}function i5(n,e={}){const t=n,r={name:t.name,description:t.description,parameters:gl(vh(t.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function a5(n,e={}){const t=[],r=new Set;for(const s of n){const o=s.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const l=i5(s,e);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function l5(n){const e=[];for(const t of n)e.push(vh(t));return e}function c5(n){const e={};for(const[t,r]of Object.entries(n)){const s=r;e[t]=vh(s)}return e}function vh(n){const e=new Set(["items"]),t=new Set(["anyOf"]),r=new Set(["properties"]),s={};for(const[o,l]of Object.entries(n))if(e.has(o))s[o]=vh(l);else if(t.has(o))s[o]=l5(l);else if(r.has(o))s[o]=c5(l);else if(o==="type"){const u=l.toUpperCase();s[o]=Object.values(Ls).includes(u)?u:Ls.TYPE_UNSPECIFIED}else Z3.has(o)&&(s[o]=l);return s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u5(n,e){const t={},r=m(e,["fps"]);r!=null&&p(t,["fps"],r);const s=m(e,["endOffset"]);s!=null&&p(t,["endOffset"],s);const o=m(e,["startOffset"]);return o!=null&&p(t,["startOffset"],o),t}function d5(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&p(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function f5(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&p(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function h5(n,e){const t={},r=m(e,["videoMetadata"]);r!=null&&p(t,["videoMetadata"],u5(n,r));const s=m(e,["thought"]);s!=null&&p(t,["thought"],s);const o=m(e,["inlineData"]);o!=null&&p(t,["inlineData"],d5(n,o));const l=m(e,["fileData"]);l!=null&&p(t,["fileData"],f5(n,l));const u=m(e,["thoughtSignature"]);u!=null&&p(t,["thoughtSignature"],u);const d=m(e,["codeExecutionResult"]);d!=null&&p(t,["codeExecutionResult"],d);const f=m(e,["executableCode"]);f!=null&&p(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=m(e,["functionResponse"]);y!=null&&p(t,["functionResponse"],y);const x=m(e,["text"]);return x!=null&&p(t,["text"],x),t}function x1(n,e){const t={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>h5(n,l))),p(t,["parts"],o)}const s=m(e,["role"]);return s!=null&&p(t,["role"],s),t}function m5(n,e){const t={},r=m(e,["behavior"]);r!=null&&p(t,["behavior"],r);const s=m(e,["description"]);s!=null&&p(t,["description"],s);const o=m(e,["name"]);o!=null&&p(t,["name"],o);const l=m(e,["parameters"]);l!=null&&p(t,["parameters"],l);const u=m(e,["response"]);return u!=null&&p(t,["response"],u),t}function p5(n,e){const t={},r=m(e,["startTime"]);r!=null&&p(t,["startTime"],r);const s=m(e,["endTime"]);return s!=null&&p(t,["endTime"],s),t}function g5(n,e){const t={},r=m(e,["timeRangeFilter"]);return r!=null&&p(t,["timeRangeFilter"],p5(n,r)),t}function y5(n,e){const t={},r=m(e,["mode"]);r!=null&&p(t,["mode"],r);const s=m(e,["dynamicThreshold"]);return s!=null&&p(t,["dynamicThreshold"],s),t}function v5(n,e){const t={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&p(t,["dynamicRetrievalConfig"],y5(n,r)),t}function x5(){return{}}function w5(n,e){const t={},r=m(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>m5(n,f))),p(t,["functionDeclarations"],d)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=m(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],g5(n,s));const o=m(e,["googleSearchRetrieval"]);if(o!=null&&p(t,["googleSearchRetrieval"],v5(n,o)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&p(t,["urlContext"],x5());const u=m(e,["codeExecution"]);return u!=null&&p(t,["codeExecution"],u),t}function _5(n,e){const t={},r=m(e,["mode"]);r!=null&&p(t,["mode"],r);const s=m(e,["allowedFunctionNames"]);return s!=null&&p(t,["allowedFunctionNames"],s),t}function k5(n,e){const t={},r=m(e,["latitude"]);r!=null&&p(t,["latitude"],r);const s=m(e,["longitude"]);return s!=null&&p(t,["longitude"],s),t}function C5(n,e){const t={},r=m(e,["latLng"]);r!=null&&p(t,["latLng"],k5(n,r));const s=m(e,["languageCode"]);return s!=null&&p(t,["languageCode"],s),t}function S5(n,e){const t={},r=m(e,["functionCallingConfig"]);r!=null&&p(t,["functionCallingConfig"],_5(n,r));const s=m(e,["retrievalConfig"]);return s!=null&&p(t,["retrievalConfig"],C5(n,s)),t}function b5(n,e,t){const r={},s=m(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const o=m(e,["expireTime"]);t!==void 0&&o!=null&&p(t,["expireTime"],o);const l=m(e,["displayName"]);t!==void 0&&l!=null&&p(t,["displayName"],l);const u=m(e,["contents"]);if(t!==void 0&&u!=null){let y=ps(n,u);Array.isArray(y)&&(y=y.map(x=>x1(n,x))),p(t,["contents"],y)}const d=m(e,["systemInstruction"]);t!==void 0&&d!=null&&p(t,["systemInstruction"],x1(n,ir(n,d)));const f=m(e,["tools"]);if(t!==void 0&&f!=null){let y=f;Array.isArray(y)&&(y=y.map(x=>w5(n,x))),p(t,["tools"],y)}const g=m(e,["toolConfig"]);if(t!==void 0&&g!=null&&p(t,["toolConfig"],S5(n,g)),m(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return r}function T5(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["model"],AS(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],b5(n,s,t)),t}function N5(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["_url","name"],bi(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function E5(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["_url","name"],bi(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function M5(n,e,t){const r={},s=m(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const o=m(e,["expireTime"]);return t!==void 0&&o!=null&&p(t,["expireTime"],o),r}function D5(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["_url","name"],bi(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],M5(n,s,t)),t}function I5(n,e,t){const r={},s=m(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const o=m(e,["pageToken"]);return t!==void 0&&o!=null&&p(t,["_query","pageToken"],o),r}function j5(n,e){const t={},r=m(e,["config"]);return r!=null&&p(t,["config"],I5(n,r,t)),t}function A5(n,e){const t={},r=m(e,["fps"]);r!=null&&p(t,["fps"],r);const s=m(e,["endOffset"]);s!=null&&p(t,["endOffset"],s);const o=m(e,["startOffset"]);return o!=null&&p(t,["startOffset"],o),t}function P5(n,e){const t={},r=m(e,["displayName"]);r!=null&&p(t,["displayName"],r);const s=m(e,["data"]);s!=null&&p(t,["data"],s);const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function R5(n,e){const t={},r=m(e,["displayName"]);r!=null&&p(t,["displayName"],r);const s=m(e,["fileUri"]);s!=null&&p(t,["fileUri"],s);const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function O5(n,e){const t={},r=m(e,["videoMetadata"]);r!=null&&p(t,["videoMetadata"],A5(n,r));const s=m(e,["thought"]);s!=null&&p(t,["thought"],s);const o=m(e,["inlineData"]);o!=null&&p(t,["inlineData"],P5(n,o));const l=m(e,["fileData"]);l!=null&&p(t,["fileData"],R5(n,l));const u=m(e,["thoughtSignature"]);u!=null&&p(t,["thoughtSignature"],u);const d=m(e,["codeExecutionResult"]);d!=null&&p(t,["codeExecutionResult"],d);const f=m(e,["executableCode"]);f!=null&&p(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=m(e,["functionResponse"]);y!=null&&p(t,["functionResponse"],y);const x=m(e,["text"]);return x!=null&&p(t,["text"],x),t}function w1(n,e){const t={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>O5(n,l))),p(t,["parts"],o)}const s=m(e,["role"]);return s!=null&&p(t,["role"],s),t}function L5(n,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=m(e,["description"]);r!=null&&p(t,["description"],r);const s=m(e,["name"]);s!=null&&p(t,["name"],s);const o=m(e,["parameters"]);o!=null&&p(t,["parameters"],o);const l=m(e,["response"]);return l!=null&&p(t,["response"],l),t}function F5(n,e){const t={},r=m(e,["startTime"]);r!=null&&p(t,["startTime"],r);const s=m(e,["endTime"]);return s!=null&&p(t,["endTime"],s),t}function $5(n,e){const t={},r=m(e,["timeRangeFilter"]);return r!=null&&p(t,["timeRangeFilter"],F5(n,r)),t}function U5(n,e){const t={},r=m(e,["mode"]);r!=null&&p(t,["mode"],r);const s=m(e,["dynamicThreshold"]);return s!=null&&p(t,["dynamicThreshold"],s),t}function V5(n,e){const t={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&p(t,["dynamicRetrievalConfig"],U5(n,r)),t}function B5(){return{}}function z5(n,e){const t={},r=m(e,["apiKeyString"]);return r!=null&&p(t,["apiKeyString"],r),t}function W5(n,e){const t={},r=m(e,["apiKeyConfig"]);r!=null&&p(t,["apiKeyConfig"],z5(n,r));const s=m(e,["authType"]);s!=null&&p(t,["authType"],s);const o=m(e,["googleServiceAccountConfig"]);o!=null&&p(t,["googleServiceAccountConfig"],o);const l=m(e,["httpBasicAuthConfig"]);l!=null&&p(t,["httpBasicAuthConfig"],l);const u=m(e,["oauthConfig"]);u!=null&&p(t,["oauthConfig"],u);const d=m(e,["oidcConfig"]);return d!=null&&p(t,["oidcConfig"],d),t}function H5(n,e){const t={},r=m(e,["authConfig"]);return r!=null&&p(t,["authConfig"],W5(n,r)),t}function G5(){return{}}function Y5(n,e){const t={},r=m(e,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(x=>L5(n,x))),p(t,["functionDeclarations"],y)}const s=m(e,["retrieval"]);s!=null&&p(t,["retrieval"],s);const o=m(e,["googleSearch"]);o!=null&&p(t,["googleSearch"],$5(n,o));const l=m(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],V5(n,l)),m(e,["enterpriseWebSearch"])!=null&&p(t,["enterpriseWebSearch"],B5());const d=m(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],H5(n,d)),m(e,["urlContext"])!=null&&p(t,["urlContext"],G5());const g=m(e,["codeExecution"]);return g!=null&&p(t,["codeExecution"],g),t}function q5(n,e){const t={},r=m(e,["mode"]);r!=null&&p(t,["mode"],r);const s=m(e,["allowedFunctionNames"]);return s!=null&&p(t,["allowedFunctionNames"],s),t}function K5(n,e){const t={},r=m(e,["latitude"]);r!=null&&p(t,["latitude"],r);const s=m(e,["longitude"]);return s!=null&&p(t,["longitude"],s),t}function J5(n,e){const t={},r=m(e,["latLng"]);r!=null&&p(t,["latLng"],K5(n,r));const s=m(e,["languageCode"]);return s!=null&&p(t,["languageCode"],s),t}function Z5(n,e){const t={},r=m(e,["functionCallingConfig"]);r!=null&&p(t,["functionCallingConfig"],q5(n,r));const s=m(e,["retrievalConfig"]);return s!=null&&p(t,["retrievalConfig"],J5(n,s)),t}function Q5(n,e,t){const r={},s=m(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const o=m(e,["expireTime"]);t!==void 0&&o!=null&&p(t,["expireTime"],o);const l=m(e,["displayName"]);t!==void 0&&l!=null&&p(t,["displayName"],l);const u=m(e,["contents"]);if(t!==void 0&&u!=null){let x=ps(n,u);Array.isArray(x)&&(x=x.map(w=>w1(n,w))),p(t,["contents"],x)}const d=m(e,["systemInstruction"]);t!==void 0&&d!=null&&p(t,["systemInstruction"],w1(n,ir(n,d)));const f=m(e,["tools"]);if(t!==void 0&&f!=null){let x=f;Array.isArray(x)&&(x=x.map(w=>Y5(n,w))),p(t,["tools"],x)}const g=m(e,["toolConfig"]);t!==void 0&&g!=null&&p(t,["toolConfig"],Z5(n,g));const y=m(e,["kmsKeyName"]);return t!==void 0&&y!=null&&p(t,["encryption_spec","kmsKeyName"],y),r}function X5(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["model"],AS(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],Q5(n,s,t)),t}function eL(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["_url","name"],bi(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function tL(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["_url","name"],bi(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function nL(n,e,t){const r={},s=m(e,["ttl"]);t!==void 0&&s!=null&&p(t,["ttl"],s);const o=m(e,["expireTime"]);return t!==void 0&&o!=null&&p(t,["expireTime"],o),r}function rL(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["_url","name"],bi(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],nL(n,s,t)),t}function sL(n,e,t){const r={},s=m(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const o=m(e,["pageToken"]);return t!==void 0&&o!=null&&p(t,["_query","pageToken"],o),r}function oL(n,e){const t={},r=m(e,["config"]);return r!=null&&p(t,["config"],sL(n,r,t)),t}function Cf(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["name"],r);const s=m(e,["displayName"]);s!=null&&p(t,["displayName"],s);const o=m(e,["model"]);o!=null&&p(t,["model"],o);const l=m(e,["createTime"]);l!=null&&p(t,["createTime"],l);const u=m(e,["updateTime"]);u!=null&&p(t,["updateTime"],u);const d=m(e,["expireTime"]);d!=null&&p(t,["expireTime"],d);const f=m(e,["usageMetadata"]);return f!=null&&p(t,["usageMetadata"],f),t}function iL(){return{}}function aL(n,e){const t={},r=m(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const s=m(e,["cachedContents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Cf(n,l))),p(t,["cachedContents"],o)}return t}function Sf(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["name"],r);const s=m(e,["displayName"]);s!=null&&p(t,["displayName"],s);const o=m(e,["model"]);o!=null&&p(t,["model"],o);const l=m(e,["createTime"]);l!=null&&p(t,["createTime"],l);const u=m(e,["updateTime"]);u!=null&&p(t,["updateTime"],u);const d=m(e,["expireTime"]);d!=null&&p(t,["expireTime"],d);const f=m(e,["usageMetadata"]);return f!=null&&p(t,["usageMetadata"],f),t}function lL(){return{}}function cL(n,e){const t={},r=m(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const s=m(e,["cachedContents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Sf(n,l))),p(t,["cachedContents"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ml;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ml||(Ml={}));class xh{constructor(e,t,r,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,r,s)}init(e,t,r){var s,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let l={config:{}};r?typeof r=="object"?l=Object.assign({},r):l=r:l={config:{}},l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(o=(s=l.config)===null||s===void 0?void 0:s.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:()=>M(this,null,function*(){if(this.idxInternal>=this.pageLength)if(this.hasNextPage())yield this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}}),return:()=>M(this,null,function*(){return{value:void 0,done:!0}})}}nextPage(){return M(this,null,function*(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=yield this.requestInternal(this.params);return this.initNextPage(e),this.page})}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uL extends Ll{constructor(e){super(),this.apiClient=e,this.list=(...r)=>M(this,[...r],function*(t={}){return new xh(Ml.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),yield this.listInternal(t),t)})}create(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=X5(this.apiClient,e);return u=nt("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>Sf(this.apiClient,g))}else{const f=T5(this.apiClient,e);return u=nt("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>Cf(this.apiClient,g))}})}get(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=eL(this.apiClient,e);return u=nt("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>Sf(this.apiClient,g))}else{const f=N5(this.apiClient,e);return u=nt("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>Cf(this.apiClient,g))}})}delete(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=tL(this.apiClient,e);return u=nt("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(()=>{const g=lL(),y=new h1;return Object.assign(y,g),y})}else{const f=E5(this.apiClient,e);return u=nt("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(()=>{const g=iL(),y=new h1;return Object.assign(y,g),y})}})}update(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=rL(this.apiClient,e);return u=nt("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>Sf(this.apiClient,g))}else{const f=D5(this.apiClient,e);return u=nt("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>Cf(this.apiClient,g))}})}listInternal(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=oL(this.apiClient,e);return u=nt("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>{const y=cL(this.apiClient,g),x=new m1;return Object.assign(x,y),x})}else{const f=j5(this.apiClient,e);return u=nt("cachedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const y=aL(this.apiClient,g),x=new m1;return Object.assign(x,y),x})}})}}function _1(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function en(n){return this instanceof en?(this.v=n,this):new en(n)}function yl(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(w){return function(C){return Promise.resolve(C).then(w,y)}}function u(w,C){r[w]&&(s[w]=function(S){return new Promise(function(T,E){o.push([w,S,T,E])>1||d(w,S)})},C&&(s[w]=C(s[w])))}function d(w,C){try{f(r[w](C))}catch(S){x(o[0][3],S)}}function f(w){w.value instanceof en?Promise.resolve(w.value.v).then(g,y):x(o[0][2],w)}function g(w){d("next",w)}function y(w){d("throw",w)}function x(w,C){w(C),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Hc(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof _1=="function"?_1(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(l){return new Promise(function(u,d){l=n[o](l),s(u,d,l.done,l.value)})}}function s(o,l,u,d){Promise.resolve(d).then(function(f){o({value:f,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dL(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:BS(t)}function BS(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function fL(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function k1(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let r=0;for(;r<t;)if(n[r].role==="user")e.push(n[r]),r++;else{const s=[];let o=!0;for(;r<t&&n[r].role==="model";)s.push(n[r]),o&&!BS(n[r])&&(o=!1),r++;o?e.push(...s):e.pop()}return e}class hL{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new mL(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class mL{constructor(e,t,r,s={},o=[]){this.apiClient=e,this.modelsModule=t,this.model=r,this.config=s,this.history=o,this.sendPromise=Promise.resolve(),fL(o)}sendMessage(e){return M(this,null,function*(){var t;yield this.sendPromise;const r=ir(this.apiClient,e.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=M(this,null,function*(){var o,l,u;const d=yield s,f=(l=(o=d.candidates)===null||o===void 0?void 0:o[0])===null||l===void 0?void 0:l.content,g=d.automaticFunctionCallingHistory,y=this.getHistory(!0).length;let x=[];g!=null&&(x=(u=g.slice(y))!==null&&u!==void 0?u:[]);const w=f?[f]:[];this.recordHistory(r,w,x)}),yield this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s})}sendMessageStream(e){return M(this,null,function*(){var t;yield this.sendPromise;const r=ir(this.apiClient,e.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const o=yield s;return this.processStreamResponse(o,r)})}getHistory(e=!1){const t=e?k1(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var r,s;return yl(this,arguments,function*(){var l,u,d,f;const g=[];try{for(var y=!0,x=Hc(e),w;w=yield en(x.next()),l=w.done,!l;y=!0){f=w.value,y=!1;const C=f;if(dL(C)){const S=(s=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.content;S!==void 0&&g.push(S)}yield yield en(C)}}catch(C){u={error:C}}finally{try{!y&&!l&&(d=x.return)&&(yield en(d.call(x)))}finally{if(u)throw u.error}}this.recordHistory(t,g)})}recordHistory(e,t,r){let s=[];t.length>0&&t.every(o=>o.role!==void 0)?s=t:s.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...k1(r)):this.history.push(e),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pL(n,e,t){const r={},s=m(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const o=m(e,["pageToken"]);return t!==void 0&&o!=null&&p(t,["_query","pageToken"],o),r}function gL(n,e){const t={},r=m(e,["config"]);return r!=null&&p(t,["config"],pL(n,r,t)),t}function yL(n,e){const t={},r=m(e,["details"]);r!=null&&p(t,["details"],r);const s=m(e,["message"]);s!=null&&p(t,["message"],s);const o=m(e,["code"]);return o!=null&&p(t,["code"],o),t}function vL(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["name"],r);const s=m(e,["displayName"]);s!=null&&p(t,["displayName"],s);const o=m(e,["mimeType"]);o!=null&&p(t,["mimeType"],o);const l=m(e,["sizeBytes"]);l!=null&&p(t,["sizeBytes"],l);const u=m(e,["createTime"]);u!=null&&p(t,["createTime"],u);const d=m(e,["expirationTime"]);d!=null&&p(t,["expirationTime"],d);const f=m(e,["updateTime"]);f!=null&&p(t,["updateTime"],f);const g=m(e,["sha256Hash"]);g!=null&&p(t,["sha256Hash"],g);const y=m(e,["uri"]);y!=null&&p(t,["uri"],y);const x=m(e,["downloadUri"]);x!=null&&p(t,["downloadUri"],x);const w=m(e,["state"]);w!=null&&p(t,["state"],w);const C=m(e,["source"]);C!=null&&p(t,["source"],C);const S=m(e,["videoMetadata"]);S!=null&&p(t,["videoMetadata"],S);const T=m(e,["error"]);return T!=null&&p(t,["error"],yL(n,T)),t}function xL(n,e){const t={},r=m(e,["file"]);r!=null&&p(t,["file"],vL(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function wL(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["_url","file"],$S(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function _L(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["_url","file"],$S(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function kL(n,e){const t={},r=m(e,["details"]);r!=null&&p(t,["details"],r);const s=m(e,["message"]);s!=null&&p(t,["message"],s);const o=m(e,["code"]);return o!=null&&p(t,["code"],o),t}function zg(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["name"],r);const s=m(e,["displayName"]);s!=null&&p(t,["displayName"],s);const o=m(e,["mimeType"]);o!=null&&p(t,["mimeType"],o);const l=m(e,["sizeBytes"]);l!=null&&p(t,["sizeBytes"],l);const u=m(e,["createTime"]);u!=null&&p(t,["createTime"],u);const d=m(e,["expirationTime"]);d!=null&&p(t,["expirationTime"],d);const f=m(e,["updateTime"]);f!=null&&p(t,["updateTime"],f);const g=m(e,["sha256Hash"]);g!=null&&p(t,["sha256Hash"],g);const y=m(e,["uri"]);y!=null&&p(t,["uri"],y);const x=m(e,["downloadUri"]);x!=null&&p(t,["downloadUri"],x);const w=m(e,["state"]);w!=null&&p(t,["state"],w);const C=m(e,["source"]);C!=null&&p(t,["source"],C);const S=m(e,["videoMetadata"]);S!=null&&p(t,["videoMetadata"],S);const T=m(e,["error"]);return T!=null&&p(t,["error"],kL(n,T)),t}function CL(n,e){const t={},r=m(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const s=m(e,["files"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>zg(n,l))),p(t,["files"],o)}return t}function SL(){return{}}function bL(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TL extends Ll{constructor(e){super(),this.apiClient=e,this.list=(...r)=>M(this,[...r],function*(t={}){return new xh(Ml.PAGED_ITEM_FILES,s=>this.listInternal(s),yield this.listInternal(t),t)})}upload(e){return M(this,null,function*(){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>zg(this.apiClient,t))})}download(e){return M(this,null,function*(){yield this.apiClient.downloadFile(e)})}listInternal(e){return M(this,null,function*(){var t,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gL(this.apiClient,e);return o=nt("files",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const f=CL(this.apiClient,d),g=new W3;return Object.assign(g,f),g})}})}createInternal(e){return M(this,null,function*(){var t,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xL(this.apiClient,e);return o=nt("upload/v1beta/files",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(()=>{const d=SL(),f=new H3;return Object.assign(f,d),f})}})}get(e){return M(this,null,function*(){var t,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=wL(this.apiClient,e);return o=nt("files/{file}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>zg(this.apiClient,d))}})}delete(e){return M(this,null,function*(){var t,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_L(this.apiClient,e);return o=nt("files/{file}",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(()=>{const d=bL(),f=new G3;return Object.assign(f,d),f})}})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NL(n,e){const t={},r=m(e,["voiceName"]);return r!=null&&p(t,["voiceName"],r),t}function EL(n,e){const t={},r=m(e,["voiceName"]);return r!=null&&p(t,["voiceName"],r),t}function zS(n,e){const t={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&p(t,["prebuiltVoiceConfig"],NL(n,r)),t}function ML(n,e){const t={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&p(t,["prebuiltVoiceConfig"],EL(n,r)),t}function DL(n,e){const t={},r=m(e,["speaker"]);r!=null&&p(t,["speaker"],r);const s=m(e,["voiceConfig"]);return s!=null&&p(t,["voiceConfig"],zS(n,s)),t}function IL(n,e){const t={},r=m(e,["speakerVoiceConfigs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>DL(n,o))),p(t,["speakerVoiceConfigs"],s)}return t}function jL(n,e){const t={},r=m(e,["voiceConfig"]);r!=null&&p(t,["voiceConfig"],zS(n,r));const s=m(e,["multiSpeakerVoiceConfig"]);s!=null&&p(t,["multiSpeakerVoiceConfig"],IL(n,s));const o=m(e,["languageCode"]);return o!=null&&p(t,["languageCode"],o),t}function AL(n,e){const t={},r=m(e,["voiceConfig"]);if(r!=null&&p(t,["voiceConfig"],ML(n,r)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=m(e,["languageCode"]);return s!=null&&p(t,["languageCode"],s),t}function PL(n,e){const t={},r=m(e,["fps"]);r!=null&&p(t,["fps"],r);const s=m(e,["endOffset"]);s!=null&&p(t,["endOffset"],s);const o=m(e,["startOffset"]);return o!=null&&p(t,["startOffset"],o),t}function RL(n,e){const t={},r=m(e,["fps"]);r!=null&&p(t,["fps"],r);const s=m(e,["endOffset"]);s!=null&&p(t,["endOffset"],s);const o=m(e,["startOffset"]);return o!=null&&p(t,["startOffset"],o),t}function OL(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&p(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function LL(n,e){const t={},r=m(e,["displayName"]);r!=null&&p(t,["displayName"],r);const s=m(e,["data"]);s!=null&&p(t,["data"],s);const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function FL(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&p(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function $L(n,e){const t={},r=m(e,["displayName"]);r!=null&&p(t,["displayName"],r);const s=m(e,["fileUri"]);s!=null&&p(t,["fileUri"],s);const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function UL(n,e){const t={},r=m(e,["videoMetadata"]);r!=null&&p(t,["videoMetadata"],PL(n,r));const s=m(e,["thought"]);s!=null&&p(t,["thought"],s);const o=m(e,["inlineData"]);o!=null&&p(t,["inlineData"],OL(n,o));const l=m(e,["fileData"]);l!=null&&p(t,["fileData"],FL(n,l));const u=m(e,["thoughtSignature"]);u!=null&&p(t,["thoughtSignature"],u);const d=m(e,["codeExecutionResult"]);d!=null&&p(t,["codeExecutionResult"],d);const f=m(e,["executableCode"]);f!=null&&p(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=m(e,["functionResponse"]);y!=null&&p(t,["functionResponse"],y);const x=m(e,["text"]);return x!=null&&p(t,["text"],x),t}function VL(n,e){const t={},r=m(e,["videoMetadata"]);r!=null&&p(t,["videoMetadata"],RL(n,r));const s=m(e,["thought"]);s!=null&&p(t,["thought"],s);const o=m(e,["inlineData"]);o!=null&&p(t,["inlineData"],LL(n,o));const l=m(e,["fileData"]);l!=null&&p(t,["fileData"],$L(n,l));const u=m(e,["thoughtSignature"]);u!=null&&p(t,["thoughtSignature"],u);const d=m(e,["codeExecutionResult"]);d!=null&&p(t,["codeExecutionResult"],d);const f=m(e,["executableCode"]);f!=null&&p(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=m(e,["functionResponse"]);y!=null&&p(t,["functionResponse"],y);const x=m(e,["text"]);return x!=null&&p(t,["text"],x),t}function BL(n,e){const t={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>UL(n,l))),p(t,["parts"],o)}const s=m(e,["role"]);return s!=null&&p(t,["role"],s),t}function zL(n,e){const t={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>VL(n,l))),p(t,["parts"],o)}const s=m(e,["role"]);return s!=null&&p(t,["role"],s),t}function WL(n,e){const t={},r=m(e,["behavior"]);r!=null&&p(t,["behavior"],r);const s=m(e,["description"]);s!=null&&p(t,["description"],s);const o=m(e,["name"]);o!=null&&p(t,["name"],o);const l=m(e,["parameters"]);l!=null&&p(t,["parameters"],l);const u=m(e,["response"]);return u!=null&&p(t,["response"],u),t}function HL(n,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=m(e,["description"]);r!=null&&p(t,["description"],r);const s=m(e,["name"]);s!=null&&p(t,["name"],s);const o=m(e,["parameters"]);o!=null&&p(t,["parameters"],o);const l=m(e,["response"]);return l!=null&&p(t,["response"],l),t}function GL(n,e){const t={},r=m(e,["startTime"]);r!=null&&p(t,["startTime"],r);const s=m(e,["endTime"]);return s!=null&&p(t,["endTime"],s),t}function YL(n,e){const t={},r=m(e,["startTime"]);r!=null&&p(t,["startTime"],r);const s=m(e,["endTime"]);return s!=null&&p(t,["endTime"],s),t}function qL(n,e){const t={},r=m(e,["timeRangeFilter"]);return r!=null&&p(t,["timeRangeFilter"],GL(n,r)),t}function KL(n,e){const t={},r=m(e,["timeRangeFilter"]);return r!=null&&p(t,["timeRangeFilter"],YL(n,r)),t}function JL(n,e){const t={},r=m(e,["mode"]);r!=null&&p(t,["mode"],r);const s=m(e,["dynamicThreshold"]);return s!=null&&p(t,["dynamicThreshold"],s),t}function ZL(n,e){const t={},r=m(e,["mode"]);r!=null&&p(t,["mode"],r);const s=m(e,["dynamicThreshold"]);return s!=null&&p(t,["dynamicThreshold"],s),t}function QL(n,e){const t={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&p(t,["dynamicRetrievalConfig"],JL(n,r)),t}function XL(n,e){const t={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&p(t,["dynamicRetrievalConfig"],ZL(n,r)),t}function eF(){return{}}function tF(n,e){const t={},r=m(e,["apiKeyString"]);return r!=null&&p(t,["apiKeyString"],r),t}function nF(n,e){const t={},r=m(e,["apiKeyConfig"]);r!=null&&p(t,["apiKeyConfig"],tF(n,r));const s=m(e,["authType"]);s!=null&&p(t,["authType"],s);const o=m(e,["googleServiceAccountConfig"]);o!=null&&p(t,["googleServiceAccountConfig"],o);const l=m(e,["httpBasicAuthConfig"]);l!=null&&p(t,["httpBasicAuthConfig"],l);const u=m(e,["oauthConfig"]);u!=null&&p(t,["oauthConfig"],u);const d=m(e,["oidcConfig"]);return d!=null&&p(t,["oidcConfig"],d),t}function rF(n,e){const t={},r=m(e,["authConfig"]);return r!=null&&p(t,["authConfig"],nF(n,r)),t}function sF(){return{}}function oF(){return{}}function iF(n,e){const t={},r=m(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>WL(n,f))),p(t,["functionDeclarations"],d)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=m(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],qL(n,s));const o=m(e,["googleSearchRetrieval"]);if(o!=null&&p(t,["googleSearchRetrieval"],QL(n,o)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&p(t,["urlContext"],sF());const u=m(e,["codeExecution"]);return u!=null&&p(t,["codeExecution"],u),t}function aF(n,e){const t={},r=m(e,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(x=>HL(n,x))),p(t,["functionDeclarations"],y)}const s=m(e,["retrieval"]);s!=null&&p(t,["retrieval"],s);const o=m(e,["googleSearch"]);o!=null&&p(t,["googleSearch"],KL(n,o));const l=m(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],XL(n,l)),m(e,["enterpriseWebSearch"])!=null&&p(t,["enterpriseWebSearch"],eF());const d=m(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],rF(n,d)),m(e,["urlContext"])!=null&&p(t,["urlContext"],oF());const g=m(e,["codeExecution"]);return g!=null&&p(t,["codeExecution"],g),t}function lF(n,e){const t={},r=m(e,["handle"]);if(r!=null&&p(t,["handle"],r),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function cF(n,e){const t={},r=m(e,["handle"]);r!=null&&p(t,["handle"],r);const s=m(e,["transparent"]);return s!=null&&p(t,["transparent"],s),t}function C1(){return{}}function S1(){return{}}function uF(n,e){const t={},r=m(e,["disabled"]);r!=null&&p(t,["disabled"],r);const s=m(e,["startOfSpeechSensitivity"]);s!=null&&p(t,["startOfSpeechSensitivity"],s);const o=m(e,["endOfSpeechSensitivity"]);o!=null&&p(t,["endOfSpeechSensitivity"],o);const l=m(e,["prefixPaddingMs"]);l!=null&&p(t,["prefixPaddingMs"],l);const u=m(e,["silenceDurationMs"]);return u!=null&&p(t,["silenceDurationMs"],u),t}function dF(n,e){const t={},r=m(e,["disabled"]);r!=null&&p(t,["disabled"],r);const s=m(e,["startOfSpeechSensitivity"]);s!=null&&p(t,["startOfSpeechSensitivity"],s);const o=m(e,["endOfSpeechSensitivity"]);o!=null&&p(t,["endOfSpeechSensitivity"],o);const l=m(e,["prefixPaddingMs"]);l!=null&&p(t,["prefixPaddingMs"],l);const u=m(e,["silenceDurationMs"]);return u!=null&&p(t,["silenceDurationMs"],u),t}function fF(n,e){const t={},r=m(e,["automaticActivityDetection"]);r!=null&&p(t,["automaticActivityDetection"],uF(n,r));const s=m(e,["activityHandling"]);s!=null&&p(t,["activityHandling"],s);const o=m(e,["turnCoverage"]);return o!=null&&p(t,["turnCoverage"],o),t}function hF(n,e){const t={},r=m(e,["automaticActivityDetection"]);r!=null&&p(t,["automaticActivityDetection"],dF(n,r));const s=m(e,["activityHandling"]);s!=null&&p(t,["activityHandling"],s);const o=m(e,["turnCoverage"]);return o!=null&&p(t,["turnCoverage"],o),t}function mF(n,e){const t={},r=m(e,["targetTokens"]);return r!=null&&p(t,["targetTokens"],r),t}function pF(n,e){const t={},r=m(e,["targetTokens"]);return r!=null&&p(t,["targetTokens"],r),t}function gF(n,e){const t={},r=m(e,["triggerTokens"]);r!=null&&p(t,["triggerTokens"],r);const s=m(e,["slidingWindow"]);return s!=null&&p(t,["slidingWindow"],mF(n,s)),t}function yF(n,e){const t={},r=m(e,["triggerTokens"]);r!=null&&p(t,["triggerTokens"],r);const s=m(e,["slidingWindow"]);return s!=null&&p(t,["slidingWindow"],pF(n,s)),t}function vF(n,e){const t={},r=m(e,["proactiveAudio"]);return r!=null&&p(t,["proactiveAudio"],r),t}function xF(n,e){const t={},r=m(e,["proactiveAudio"]);return r!=null&&p(t,["proactiveAudio"],r),t}function wF(n,e,t){const r={},s=m(e,["generationConfig"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig"],s);const o=m(e,["responseModalities"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","responseModalities"],o);const l=m(e,["temperature"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","temperature"],l);const u=m(e,["topP"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","topP"],u);const d=m(e,["topK"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topK"],d);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&p(t,["setup","generationConfig","maxOutputTokens"],f);const g=m(e,["mediaResolution"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","mediaResolution"],g);const y=m(e,["seed"]);t!==void 0&&y!=null&&p(t,["setup","generationConfig","seed"],y);const x=m(e,["speechConfig"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","speechConfig"],jL(n,Jy(n,x)));const w=m(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],w);const C=m(e,["systemInstruction"]);t!==void 0&&C!=null&&p(t,["setup","systemInstruction"],BL(n,ir(n,C)));const S=m(e,["tools"]);if(t!==void 0&&S!=null){let O=bu(n,S);Array.isArray(O)&&(O=O.map(L=>iF(n,Su(n,L)))),p(t,["setup","tools"],O)}const T=m(e,["sessionResumption"]);t!==void 0&&T!=null&&p(t,["setup","sessionResumption"],lF(n,T));const E=m(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&p(t,["setup","inputAudioTranscription"],C1());const P=m(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&p(t,["setup","outputAudioTranscription"],C1());const I=m(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&p(t,["setup","realtimeInputConfig"],fF(n,I));const A=m(e,["contextWindowCompression"]);t!==void 0&&A!=null&&p(t,["setup","contextWindowCompression"],gF(n,A));const D=m(e,["proactivity"]);return t!==void 0&&D!=null&&p(t,["setup","proactivity"],vF(n,D)),r}function _F(n,e,t){const r={},s=m(e,["generationConfig"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig"],s);const o=m(e,["responseModalities"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","responseModalities"],o);const l=m(e,["temperature"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","temperature"],l);const u=m(e,["topP"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","topP"],u);const d=m(e,["topK"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topK"],d);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&p(t,["setup","generationConfig","maxOutputTokens"],f);const g=m(e,["mediaResolution"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","mediaResolution"],g);const y=m(e,["seed"]);t!==void 0&&y!=null&&p(t,["setup","generationConfig","seed"],y);const x=m(e,["speechConfig"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","speechConfig"],AL(n,Jy(n,x)));const w=m(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],w);const C=m(e,["systemInstruction"]);t!==void 0&&C!=null&&p(t,["setup","systemInstruction"],zL(n,ir(n,C)));const S=m(e,["tools"]);if(t!==void 0&&S!=null){let O=bu(n,S);Array.isArray(O)&&(O=O.map(L=>aF(n,Su(n,L)))),p(t,["setup","tools"],O)}const T=m(e,["sessionResumption"]);t!==void 0&&T!=null&&p(t,["setup","sessionResumption"],cF(n,T));const E=m(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&p(t,["setup","inputAudioTranscription"],S1());const P=m(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&p(t,["setup","outputAudioTranscription"],S1());const I=m(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&p(t,["setup","realtimeInputConfig"],hF(n,I));const A=m(e,["contextWindowCompression"]);t!==void 0&&A!=null&&p(t,["setup","contextWindowCompression"],yF(n,A));const D=m(e,["proactivity"]);return t!==void 0&&D!=null&&p(t,["setup","proactivity"],xF(n,D)),r}function kF(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["setup","model"],Zt(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],wF(n,s,t)),t}function CF(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["setup","model"],Zt(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],_F(n,s,t)),t}function SF(){return{}}function bF(){return{}}function TF(){return{}}function NF(){return{}}function EF(n,e){const t={},r=m(e,["media"]);r!=null&&p(t,["mediaChunks"],PS(n,r));const s=m(e,["audio"]);s!=null&&p(t,["audio"],J3(n,s));const o=m(e,["audioStreamEnd"]);o!=null&&p(t,["audioStreamEnd"],o);const l=m(e,["video"]);l!=null&&p(t,["video"],K3(n,l));const u=m(e,["text"]);return u!=null&&p(t,["text"],u),m(e,["activityStart"])!=null&&p(t,["activityStart"],SF()),m(e,["activityEnd"])!=null&&p(t,["activityEnd"],TF()),t}function MF(n,e){const t={},r=m(e,["media"]);if(r!=null&&p(t,["mediaChunks"],PS(n,r)),m(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const s=m(e,["audioStreamEnd"]);if(s!=null&&p(t,["audioStreamEnd"],s),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(m(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return m(e,["activityStart"])!=null&&p(t,["activityStart"],bF()),m(e,["activityEnd"])!=null&&p(t,["activityEnd"],NF()),t}function WS(n,e){const t={},r=m(e,["text"]);r!=null&&p(t,["text"],r);const s=m(e,["weight"]);return s!=null&&p(t,["weight"],s),t}function DF(n,e){const t={},r=m(e,["weightedPrompts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>WS(n,o))),p(t,["weightedPrompts"],s)}return t}function HS(n,e){const t={},r=m(e,["temperature"]);r!=null&&p(t,["temperature"],r);const s=m(e,["topK"]);s!=null&&p(t,["topK"],s);const o=m(e,["seed"]);o!=null&&p(t,["seed"],o);const l=m(e,["guidance"]);l!=null&&p(t,["guidance"],l);const u=m(e,["bpm"]);u!=null&&p(t,["bpm"],u);const d=m(e,["density"]);d!=null&&p(t,["density"],d);const f=m(e,["brightness"]);f!=null&&p(t,["brightness"],f);const g=m(e,["scale"]);g!=null&&p(t,["scale"],g);const y=m(e,["muteBass"]);y!=null&&p(t,["muteBass"],y);const x=m(e,["muteDrums"]);x!=null&&p(t,["muteDrums"],x);const w=m(e,["onlyBassAndDrums"]);return w!=null&&p(t,["onlyBassAndDrums"],w),t}function IF(n,e){const t={},r=m(e,["musicGenerationConfig"]);return r!=null&&p(t,["musicGenerationConfig"],HS(n,r)),t}function GS(n,e){const t={},r=m(e,["model"]);return r!=null&&p(t,["model"],r),t}function YS(n,e){const t={},r=m(e,["weightedPrompts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>WS(n,o))),p(t,["weightedPrompts"],s)}return t}function Wg(n,e){const t={},r=m(e,["setup"]);r!=null&&p(t,["setup"],GS(n,r));const s=m(e,["clientContent"]);s!=null&&p(t,["clientContent"],YS(n,s));const o=m(e,["musicGenerationConfig"]);o!=null&&p(t,["musicGenerationConfig"],HS(n,o));const l=m(e,["playbackControl"]);return l!=null&&p(t,["playbackControl"],l),t}function jF(){return{}}function AF(){return{}}function PF(n,e){const t={},r=m(e,["fps"]);r!=null&&p(t,["fps"],r);const s=m(e,["endOffset"]);s!=null&&p(t,["endOffset"],s);const o=m(e,["startOffset"]);return o!=null&&p(t,["startOffset"],o),t}function RF(n,e){const t={},r=m(e,["fps"]);r!=null&&p(t,["fps"],r);const s=m(e,["endOffset"]);s!=null&&p(t,["endOffset"],s);const o=m(e,["startOffset"]);return o!=null&&p(t,["startOffset"],o),t}function OF(n,e){const t={},r=m(e,["data"]);r!=null&&p(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function LF(n,e){const t={},r=m(e,["displayName"]);r!=null&&p(t,["displayName"],r);const s=m(e,["data"]);s!=null&&p(t,["data"],s);const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function FF(n,e){const t={},r=m(e,["fileUri"]);r!=null&&p(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function $F(n,e){const t={},r=m(e,["displayName"]);r!=null&&p(t,["displayName"],r);const s=m(e,["fileUri"]);s!=null&&p(t,["fileUri"],s);const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function UF(n,e){const t={},r=m(e,["videoMetadata"]);r!=null&&p(t,["videoMetadata"],PF(n,r));const s=m(e,["thought"]);s!=null&&p(t,["thought"],s);const o=m(e,["inlineData"]);o!=null&&p(t,["inlineData"],OF(n,o));const l=m(e,["fileData"]);l!=null&&p(t,["fileData"],FF(n,l));const u=m(e,["thoughtSignature"]);u!=null&&p(t,["thoughtSignature"],u);const d=m(e,["codeExecutionResult"]);d!=null&&p(t,["codeExecutionResult"],d);const f=m(e,["executableCode"]);f!=null&&p(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=m(e,["functionResponse"]);y!=null&&p(t,["functionResponse"],y);const x=m(e,["text"]);return x!=null&&p(t,["text"],x),t}function VF(n,e){const t={},r=m(e,["videoMetadata"]);r!=null&&p(t,["videoMetadata"],RF(n,r));const s=m(e,["thought"]);s!=null&&p(t,["thought"],s);const o=m(e,["inlineData"]);o!=null&&p(t,["inlineData"],LF(n,o));const l=m(e,["fileData"]);l!=null&&p(t,["fileData"],$F(n,l));const u=m(e,["thoughtSignature"]);u!=null&&p(t,["thoughtSignature"],u);const d=m(e,["codeExecutionResult"]);d!=null&&p(t,["codeExecutionResult"],d);const f=m(e,["executableCode"]);f!=null&&p(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=m(e,["functionResponse"]);y!=null&&p(t,["functionResponse"],y);const x=m(e,["text"]);return x!=null&&p(t,["text"],x),t}function BF(n,e){const t={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>UF(n,l))),p(t,["parts"],o)}const s=m(e,["role"]);return s!=null&&p(t,["role"],s),t}function zF(n,e){const t={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>VF(n,l))),p(t,["parts"],o)}const s=m(e,["role"]);return s!=null&&p(t,["role"],s),t}function b1(n,e){const t={},r=m(e,["text"]);r!=null&&p(t,["text"],r);const s=m(e,["finished"]);return s!=null&&p(t,["finished"],s),t}function T1(n,e){const t={},r=m(e,["text"]);r!=null&&p(t,["text"],r);const s=m(e,["finished"]);return s!=null&&p(t,["finished"],s),t}function WF(n,e){const t={},r=m(e,["retrievedUrl"]);r!=null&&p(t,["retrievedUrl"],r);const s=m(e,["urlRetrievalStatus"]);return s!=null&&p(t,["urlRetrievalStatus"],s),t}function HF(n,e){const t={},r=m(e,["urlMetadata"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>WF(n,o))),p(t,["urlMetadata"],s)}return t}function GF(n,e){const t={},r=m(e,["modelTurn"]);r!=null&&p(t,["modelTurn"],BF(n,r));const s=m(e,["turnComplete"]);s!=null&&p(t,["turnComplete"],s);const o=m(e,["interrupted"]);o!=null&&p(t,["interrupted"],o);const l=m(e,["groundingMetadata"]);l!=null&&p(t,["groundingMetadata"],l);const u=m(e,["generationComplete"]);u!=null&&p(t,["generationComplete"],u);const d=m(e,["inputTranscription"]);d!=null&&p(t,["inputTranscription"],b1(n,d));const f=m(e,["outputTranscription"]);f!=null&&p(t,["outputTranscription"],b1(n,f));const g=m(e,["urlContextMetadata"]);return g!=null&&p(t,["urlContextMetadata"],HF(n,g)),t}function YF(n,e){const t={},r=m(e,["modelTurn"]);r!=null&&p(t,["modelTurn"],zF(n,r));const s=m(e,["turnComplete"]);s!=null&&p(t,["turnComplete"],s);const o=m(e,["interrupted"]);o!=null&&p(t,["interrupted"],o);const l=m(e,["groundingMetadata"]);l!=null&&p(t,["groundingMetadata"],l);const u=m(e,["generationComplete"]);u!=null&&p(t,["generationComplete"],u);const d=m(e,["inputTranscription"]);d!=null&&p(t,["inputTranscription"],T1(n,d));const f=m(e,["outputTranscription"]);return f!=null&&p(t,["outputTranscription"],T1(n,f)),t}function qF(n,e){const t={},r=m(e,["id"]);r!=null&&p(t,["id"],r);const s=m(e,["args"]);s!=null&&p(t,["args"],s);const o=m(e,["name"]);return o!=null&&p(t,["name"],o),t}function KF(n,e){const t={},r=m(e,["args"]);r!=null&&p(t,["args"],r);const s=m(e,["name"]);return s!=null&&p(t,["name"],s),t}function JF(n,e){const t={},r=m(e,["functionCalls"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>qF(n,o))),p(t,["functionCalls"],s)}return t}function ZF(n,e){const t={},r=m(e,["functionCalls"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>KF(n,o))),p(t,["functionCalls"],s)}return t}function QF(n,e){const t={},r=m(e,["ids"]);return r!=null&&p(t,["ids"],r),t}function XF(n,e){const t={},r=m(e,["ids"]);return r!=null&&p(t,["ids"],r),t}function rf(n,e){const t={},r=m(e,["modality"]);r!=null&&p(t,["modality"],r);const s=m(e,["tokenCount"]);return s!=null&&p(t,["tokenCount"],s),t}function sf(n,e){const t={},r=m(e,["modality"]);r!=null&&p(t,["modality"],r);const s=m(e,["tokenCount"]);return s!=null&&p(t,["tokenCount"],s),t}function e$(n,e){const t={},r=m(e,["promptTokenCount"]);r!=null&&p(t,["promptTokenCount"],r);const s=m(e,["cachedContentTokenCount"]);s!=null&&p(t,["cachedContentTokenCount"],s);const o=m(e,["responseTokenCount"]);o!=null&&p(t,["responseTokenCount"],o);const l=m(e,["toolUsePromptTokenCount"]);l!=null&&p(t,["toolUsePromptTokenCount"],l);const u=m(e,["thoughtsTokenCount"]);u!=null&&p(t,["thoughtsTokenCount"],u);const d=m(e,["totalTokenCount"]);d!=null&&p(t,["totalTokenCount"],d);const f=m(e,["promptTokensDetails"]);if(f!=null){let w=f;Array.isArray(w)&&(w=w.map(C=>rf(n,C))),p(t,["promptTokensDetails"],w)}const g=m(e,["cacheTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(C=>rf(n,C))),p(t,["cacheTokensDetails"],w)}const y=m(e,["responseTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(C=>rf(n,C))),p(t,["responseTokensDetails"],w)}const x=m(e,["toolUsePromptTokensDetails"]);if(x!=null){let w=x;Array.isArray(w)&&(w=w.map(C=>rf(n,C))),p(t,["toolUsePromptTokensDetails"],w)}return t}function t$(n,e){const t={},r=m(e,["promptTokenCount"]);r!=null&&p(t,["promptTokenCount"],r);const s=m(e,["cachedContentTokenCount"]);s!=null&&p(t,["cachedContentTokenCount"],s);const o=m(e,["candidatesTokenCount"]);o!=null&&p(t,["responseTokenCount"],o);const l=m(e,["toolUsePromptTokenCount"]);l!=null&&p(t,["toolUsePromptTokenCount"],l);const u=m(e,["thoughtsTokenCount"]);u!=null&&p(t,["thoughtsTokenCount"],u);const d=m(e,["totalTokenCount"]);d!=null&&p(t,["totalTokenCount"],d);const f=m(e,["promptTokensDetails"]);if(f!=null){let C=f;Array.isArray(C)&&(C=C.map(S=>sf(n,S))),p(t,["promptTokensDetails"],C)}const g=m(e,["cacheTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(S=>sf(n,S))),p(t,["cacheTokensDetails"],C)}const y=m(e,["candidatesTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(S=>sf(n,S))),p(t,["responseTokensDetails"],C)}const x=m(e,["toolUsePromptTokensDetails"]);if(x!=null){let C=x;Array.isArray(C)&&(C=C.map(S=>sf(n,S))),p(t,["toolUsePromptTokensDetails"],C)}const w=m(e,["trafficType"]);return w!=null&&p(t,["trafficType"],w),t}function n$(n,e){const t={},r=m(e,["timeLeft"]);return r!=null&&p(t,["timeLeft"],r),t}function r$(n,e){const t={},r=m(e,["timeLeft"]);return r!=null&&p(t,["timeLeft"],r),t}function s$(n,e){const t={},r=m(e,["newHandle"]);r!=null&&p(t,["newHandle"],r);const s=m(e,["resumable"]);s!=null&&p(t,["resumable"],s);const o=m(e,["lastConsumedClientMessageIndex"]);return o!=null&&p(t,["lastConsumedClientMessageIndex"],o),t}function o$(n,e){const t={},r=m(e,["newHandle"]);r!=null&&p(t,["newHandle"],r);const s=m(e,["resumable"]);s!=null&&p(t,["resumable"],s);const o=m(e,["lastConsumedClientMessageIndex"]);return o!=null&&p(t,["lastConsumedClientMessageIndex"],o),t}function i$(n,e){const t={};m(e,["setupComplete"])!=null&&p(t,["setupComplete"],jF());const s=m(e,["serverContent"]);s!=null&&p(t,["serverContent"],GF(n,s));const o=m(e,["toolCall"]);o!=null&&p(t,["toolCall"],JF(n,o));const l=m(e,["toolCallCancellation"]);l!=null&&p(t,["toolCallCancellation"],QF(n,l));const u=m(e,["usageMetadata"]);u!=null&&p(t,["usageMetadata"],e$(n,u));const d=m(e,["goAway"]);d!=null&&p(t,["goAway"],n$(n,d));const f=m(e,["sessionResumptionUpdate"]);return f!=null&&p(t,["sessionResumptionUpdate"],s$(n,f)),t}function a$(n,e){const t={};m(e,["setupComplete"])!=null&&p(t,["setupComplete"],AF());const s=m(e,["serverContent"]);s!=null&&p(t,["serverContent"],YF(n,s));const o=m(e,["toolCall"]);o!=null&&p(t,["toolCall"],ZF(n,o));const l=m(e,["toolCallCancellation"]);l!=null&&p(t,["toolCallCancellation"],XF(n,l));const u=m(e,["usageMetadata"]);u!=null&&p(t,["usageMetadata"],t$(n,u));const d=m(e,["goAway"]);d!=null&&p(t,["goAway"],r$(n,d));const f=m(e,["sessionResumptionUpdate"]);return f!=null&&p(t,["sessionResumptionUpdate"],o$(n,f)),t}function l$(){return{}}function c$(n,e){const t={},r=m(e,["text"]);r!=null&&p(t,["text"],r);const s=m(e,["weight"]);return s!=null&&p(t,["weight"],s),t}function u$(n,e){const t={},r=m(e,["weightedPrompts"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>c$(n,o))),p(t,["weightedPrompts"],s)}return t}function d$(n,e){const t={},r=m(e,["temperature"]);r!=null&&p(t,["temperature"],r);const s=m(e,["topK"]);s!=null&&p(t,["topK"],s);const o=m(e,["seed"]);o!=null&&p(t,["seed"],o);const l=m(e,["guidance"]);l!=null&&p(t,["guidance"],l);const u=m(e,["bpm"]);u!=null&&p(t,["bpm"],u);const d=m(e,["density"]);d!=null&&p(t,["density"],d);const f=m(e,["brightness"]);f!=null&&p(t,["brightness"],f);const g=m(e,["scale"]);g!=null&&p(t,["scale"],g);const y=m(e,["muteBass"]);y!=null&&p(t,["muteBass"],y);const x=m(e,["muteDrums"]);x!=null&&p(t,["muteDrums"],x);const w=m(e,["onlyBassAndDrums"]);return w!=null&&p(t,["onlyBassAndDrums"],w),t}function f$(n,e){const t={},r=m(e,["clientContent"]);r!=null&&p(t,["clientContent"],u$(n,r));const s=m(e,["musicGenerationConfig"]);return s!=null&&p(t,["musicGenerationConfig"],d$(n,s)),t}function h$(n,e){const t={},r=m(e,["data"]);r!=null&&p(t,["data"],r);const s=m(e,["mimeType"]);s!=null&&p(t,["mimeType"],s);const o=m(e,["sourceMetadata"]);return o!=null&&p(t,["sourceMetadata"],f$(n,o)),t}function m$(n,e){const t={},r=m(e,["audioChunks"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>h$(n,o))),p(t,["audioChunks"],s)}return t}function p$(n,e){const t={},r=m(e,["text"]);r!=null&&p(t,["text"],r);const s=m(e,["filteredReason"]);return s!=null&&p(t,["filteredReason"],s),t}function g$(n,e){const t={};m(e,["setupComplete"])!=null&&p(t,["setupComplete"],l$());const s=m(e,["serverContent"]);s!=null&&p(t,["serverContent"],m$(n,s));const o=m(e,["filteredPrompt"]);return o!=null&&p(t,["filteredPrompt"],p$(n,o)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function y$(n,e){const t={},r=m(e,["fps"]);r!=null&&p(t,["fps"],r);const s=m(e,["endOffset"]);s!=null&&p(t,["endOffset"],s);const o=m(e,["startOffset"]);return o!=null&&p(t,["startOffset"],o),t}function v$(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&p(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function x$(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&p(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function w$(n,e){const t={},r=m(e,["videoMetadata"]);r!=null&&p(t,["videoMetadata"],y$(n,r));const s=m(e,["thought"]);s!=null&&p(t,["thought"],s);const o=m(e,["inlineData"]);o!=null&&p(t,["inlineData"],v$(n,o));const l=m(e,["fileData"]);l!=null&&p(t,["fileData"],x$(n,l));const u=m(e,["thoughtSignature"]);u!=null&&p(t,["thoughtSignature"],u);const d=m(e,["codeExecutionResult"]);d!=null&&p(t,["codeExecutionResult"],d);const f=m(e,["executableCode"]);f!=null&&p(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=m(e,["functionResponse"]);y!=null&&p(t,["functionResponse"],y);const x=m(e,["text"]);return x!=null&&p(t,["text"],x),t}function wh(n,e){const t={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>w$(n,l))),p(t,["parts"],o)}const s=m(e,["role"]);return s!=null&&p(t,["role"],s),t}function _$(n,e){const t={},r=m(e,["anyOf"]);r!=null&&p(t,["anyOf"],r);const s=m(e,["default"]);s!=null&&p(t,["default"],s);const o=m(e,["description"]);o!=null&&p(t,["description"],o);const l=m(e,["enum"]);l!=null&&p(t,["enum"],l);const u=m(e,["example"]);u!=null&&p(t,["example"],u);const d=m(e,["format"]);d!=null&&p(t,["format"],d);const f=m(e,["items"]);f!=null&&p(t,["items"],f);const g=m(e,["maxItems"]);g!=null&&p(t,["maxItems"],g);const y=m(e,["maxLength"]);y!=null&&p(t,["maxLength"],y);const x=m(e,["maxProperties"]);x!=null&&p(t,["maxProperties"],x);const w=m(e,["maximum"]);w!=null&&p(t,["maximum"],w);const C=m(e,["minItems"]);C!=null&&p(t,["minItems"],C);const S=m(e,["minLength"]);S!=null&&p(t,["minLength"],S);const T=m(e,["minProperties"]);T!=null&&p(t,["minProperties"],T);const E=m(e,["minimum"]);E!=null&&p(t,["minimum"],E);const P=m(e,["nullable"]);P!=null&&p(t,["nullable"],P);const I=m(e,["pattern"]);I!=null&&p(t,["pattern"],I);const A=m(e,["properties"]);A!=null&&p(t,["properties"],A);const D=m(e,["propertyOrdering"]);D!=null&&p(t,["propertyOrdering"],D);const O=m(e,["required"]);O!=null&&p(t,["required"],O);const L=m(e,["title"]);L!=null&&p(t,["title"],L);const V=m(e,["type"]);return V!=null&&p(t,["type"],V),t}function k$(n,e){const t={};if(m(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=m(e,["category"]);r!=null&&p(t,["category"],r);const s=m(e,["threshold"]);return s!=null&&p(t,["threshold"],s),t}function C$(n,e){const t={},r=m(e,["behavior"]);r!=null&&p(t,["behavior"],r);const s=m(e,["description"]);s!=null&&p(t,["description"],s);const o=m(e,["name"]);o!=null&&p(t,["name"],o);const l=m(e,["parameters"]);l!=null&&p(t,["parameters"],l);const u=m(e,["response"]);return u!=null&&p(t,["response"],u),t}function S$(n,e){const t={},r=m(e,["startTime"]);r!=null&&p(t,["startTime"],r);const s=m(e,["endTime"]);return s!=null&&p(t,["endTime"],s),t}function b$(n,e){const t={},r=m(e,["timeRangeFilter"]);return r!=null&&p(t,["timeRangeFilter"],S$(n,r)),t}function T$(n,e){const t={},r=m(e,["mode"]);r!=null&&p(t,["mode"],r);const s=m(e,["dynamicThreshold"]);return s!=null&&p(t,["dynamicThreshold"],s),t}function N$(n,e){const t={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&p(t,["dynamicRetrievalConfig"],T$(n,r)),t}function E$(){return{}}function M$(n,e){const t={},r=m(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>C$(n,f))),p(t,["functionDeclarations"],d)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=m(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],b$(n,s));const o=m(e,["googleSearchRetrieval"]);if(o!=null&&p(t,["googleSearchRetrieval"],N$(n,o)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&p(t,["urlContext"],E$());const u=m(e,["codeExecution"]);return u!=null&&p(t,["codeExecution"],u),t}function D$(n,e){const t={},r=m(e,["mode"]);r!=null&&p(t,["mode"],r);const s=m(e,["allowedFunctionNames"]);return s!=null&&p(t,["allowedFunctionNames"],s),t}function I$(n,e){const t={},r=m(e,["latitude"]);r!=null&&p(t,["latitude"],r);const s=m(e,["longitude"]);return s!=null&&p(t,["longitude"],s),t}function j$(n,e){const t={},r=m(e,["latLng"]);r!=null&&p(t,["latLng"],I$(n,r));const s=m(e,["languageCode"]);return s!=null&&p(t,["languageCode"],s),t}function A$(n,e){const t={},r=m(e,["functionCallingConfig"]);r!=null&&p(t,["functionCallingConfig"],D$(n,r));const s=m(e,["retrievalConfig"]);return s!=null&&p(t,["retrievalConfig"],j$(n,s)),t}function P$(n,e){const t={},r=m(e,["voiceName"]);return r!=null&&p(t,["voiceName"],r),t}function qS(n,e){const t={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&p(t,["prebuiltVoiceConfig"],P$(n,r)),t}function R$(n,e){const t={},r=m(e,["speaker"]);r!=null&&p(t,["speaker"],r);const s=m(e,["voiceConfig"]);return s!=null&&p(t,["voiceConfig"],qS(n,s)),t}function O$(n,e){const t={},r=m(e,["speakerVoiceConfigs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>R$(n,o))),p(t,["speakerVoiceConfigs"],s)}return t}function L$(n,e){const t={},r=m(e,["voiceConfig"]);r!=null&&p(t,["voiceConfig"],qS(n,r));const s=m(e,["multiSpeakerVoiceConfig"]);s!=null&&p(t,["multiSpeakerVoiceConfig"],O$(n,s));const o=m(e,["languageCode"]);return o!=null&&p(t,["languageCode"],o),t}function F$(n,e){const t={},r=m(e,["includeThoughts"]);r!=null&&p(t,["includeThoughts"],r);const s=m(e,["thinkingBudget"]);return s!=null&&p(t,["thinkingBudget"],s),t}function $$(n,e,t){const r={},s=m(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],wh(n,ir(n,s)));const o=m(e,["temperature"]);o!=null&&p(r,["temperature"],o);const l=m(e,["topP"]);l!=null&&p(r,["topP"],l);const u=m(e,["topK"]);u!=null&&p(r,["topK"],u);const d=m(e,["candidateCount"]);d!=null&&p(r,["candidateCount"],d);const f=m(e,["maxOutputTokens"]);f!=null&&p(r,["maxOutputTokens"],f);const g=m(e,["stopSequences"]);g!=null&&p(r,["stopSequences"],g);const y=m(e,["responseLogprobs"]);y!=null&&p(r,["responseLogprobs"],y);const x=m(e,["logprobs"]);x!=null&&p(r,["logprobs"],x);const w=m(e,["presencePenalty"]);w!=null&&p(r,["presencePenalty"],w);const C=m(e,["frequencyPenalty"]);C!=null&&p(r,["frequencyPenalty"],C);const S=m(e,["seed"]);S!=null&&p(r,["seed"],S);const T=m(e,["responseMimeType"]);T!=null&&p(r,["responseMimeType"],T);const E=m(e,["responseSchema"]);if(E!=null&&p(r,["responseSchema"],_$(n,Hf(n,E))),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=m(e,["safetySettings"]);if(t!==void 0&&P!=null){let ee=P;Array.isArray(ee)&&(ee=ee.map(X=>k$(n,X))),p(t,["safetySettings"],ee)}const I=m(e,["tools"]);if(t!==void 0&&I!=null){let ee=bu(n,I);Array.isArray(ee)&&(ee=ee.map(X=>M$(n,Su(n,X)))),p(t,["tools"],ee)}const A=m(e,["toolConfig"]);if(t!==void 0&&A!=null&&p(t,["toolConfig"],A$(n,A)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=m(e,["cachedContent"]);t!==void 0&&D!=null&&p(t,["cachedContent"],bi(n,D));const O=m(e,["responseModalities"]);O!=null&&p(r,["responseModalities"],O);const L=m(e,["mediaResolution"]);L!=null&&p(r,["mediaResolution"],L);const V=m(e,["speechConfig"]);if(V!=null&&p(r,["speechConfig"],L$(n,LS(n,V))),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const B=m(e,["thinkingConfig"]);return B!=null&&p(r,["thinkingConfig"],F$(n,B)),r}function N1(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["contents"]);if(s!=null){let l=ps(n,s);Array.isArray(l)&&(l=l.map(u=>wh(n,u))),p(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&p(t,["generationConfig"],$$(n,o,t)),t}function U$(n,e,t){const r={},s=m(e,["taskType"]);t!==void 0&&s!=null&&p(t,["requests[]","taskType"],s);const o=m(e,["title"]);t!==void 0&&o!=null&&p(t,["requests[]","title"],o);const l=m(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&p(t,["requests[]","outputDimensionality"],l),m(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function V$(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["contents"]);s!=null&&p(t,["requests[]","content"],OS(n,s));const o=m(e,["config"]);o!=null&&p(t,["config"],U$(n,o,t));const l=m(e,["model"]);return l!==void 0&&p(t,["requests[]","model"],Zt(n,l)),t}function B$(n,e,t){const r={};if(m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=m(e,["numberOfImages"]);t!==void 0&&s!=null&&p(t,["parameters","sampleCount"],s);const o=m(e,["aspectRatio"]);t!==void 0&&o!=null&&p(t,["parameters","aspectRatio"],o);const l=m(e,["guidanceScale"]);if(t!==void 0&&l!=null&&p(t,["parameters","guidanceScale"],l),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=m(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&p(t,["parameters","safetySetting"],u);const d=m(e,["personGeneration"]);t!==void 0&&d!=null&&p(t,["parameters","personGeneration"],d);const f=m(e,["includeSafetyAttributes"]);t!==void 0&&f!=null&&p(t,["parameters","includeSafetyAttributes"],f);const g=m(e,["includeRaiReason"]);t!==void 0&&g!=null&&p(t,["parameters","includeRaiReason"],g);const y=m(e,["language"]);t!==void 0&&y!=null&&p(t,["parameters","language"],y);const x=m(e,["outputMimeType"]);t!==void 0&&x!=null&&p(t,["parameters","outputOptions","mimeType"],x);const w=m(e,["outputCompressionQuality"]);if(t!==void 0&&w!=null&&p(t,["parameters","outputOptions","compressionQuality"],w),m(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function z$(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["prompt"]);s!=null&&p(t,["instances[0]","prompt"],s);const o=m(e,["config"]);return o!=null&&p(t,["config"],B$(n,o,t)),t}function W$(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","name"],Zt(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function H$(n,e,t){const r={},s=m(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const o=m(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const l=m(e,["filter"]);t!==void 0&&l!=null&&p(t,["_query","filter"],l);const u=m(e,["queryBase"]);return t!==void 0&&u!=null&&p(t,["_url","models_url"],US(n,u)),r}function G$(n,e){const t={},r=m(e,["config"]);return r!=null&&p(t,["config"],H$(n,r,t)),t}function Y$(n,e,t){const r={},s=m(e,["displayName"]);t!==void 0&&s!=null&&p(t,["displayName"],s);const o=m(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const l=m(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&p(t,["defaultCheckpointId"],l),r}function q$(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","name"],Zt(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],Y$(n,s,t)),t}function K$(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","name"],Zt(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function J$(n,e){const t={};if(m(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function Z$(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["contents"]);if(s!=null){let l=ps(n,s);Array.isArray(l)&&(l=l.map(u=>wh(n,u))),p(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&p(t,["config"],J$(n,o)),t}function Q$(n,e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(e,["imageBytes"]);r!=null&&p(t,["bytesBase64Encoded"],jo(n,r));const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function X$(n,e,t){const r={},s=m(e,["numberOfVideos"]);if(t!==void 0&&s!=null&&p(t,["parameters","sampleCount"],s),m(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=m(e,["durationSeconds"]);if(t!==void 0&&o!=null&&p(t,["parameters","durationSeconds"],o),m(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=m(e,["aspectRatio"]);if(t!==void 0&&l!=null&&p(t,["parameters","aspectRatio"],l),m(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=m(e,["personGeneration"]);if(t!==void 0&&u!=null&&p(t,["parameters","personGeneration"],u),m(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=m(e,["negativePrompt"]);t!==void 0&&d!=null&&p(t,["parameters","negativePrompt"],d);const f=m(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&p(t,["parameters","enhancePrompt"],f),m(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(m(e,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return r}function e6(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["prompt"]);s!=null&&p(t,["instances[0]","prompt"],s);const o=m(e,["image"]);if(o!=null&&p(t,["instances[0]","image"],Q$(n,o)),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const l=m(e,["config"]);return l!=null&&p(t,["config"],X$(n,l,t)),t}function t6(n,e){const t={},r=m(e,["fps"]);r!=null&&p(t,["fps"],r);const s=m(e,["endOffset"]);s!=null&&p(t,["endOffset"],s);const o=m(e,["startOffset"]);return o!=null&&p(t,["startOffset"],o),t}function n6(n,e){const t={},r=m(e,["displayName"]);r!=null&&p(t,["displayName"],r);const s=m(e,["data"]);s!=null&&p(t,["data"],s);const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function r6(n,e){const t={},r=m(e,["displayName"]);r!=null&&p(t,["displayName"],r);const s=m(e,["fileUri"]);s!=null&&p(t,["fileUri"],s);const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function s6(n,e){const t={},r=m(e,["videoMetadata"]);r!=null&&p(t,["videoMetadata"],t6(n,r));const s=m(e,["thought"]);s!=null&&p(t,["thought"],s);const o=m(e,["inlineData"]);o!=null&&p(t,["inlineData"],n6(n,o));const l=m(e,["fileData"]);l!=null&&p(t,["fileData"],r6(n,l));const u=m(e,["thoughtSignature"]);u!=null&&p(t,["thoughtSignature"],u);const d=m(e,["codeExecutionResult"]);d!=null&&p(t,["codeExecutionResult"],d);const f=m(e,["executableCode"]);f!=null&&p(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=m(e,["functionResponse"]);y!=null&&p(t,["functionResponse"],y);const x=m(e,["text"]);return x!=null&&p(t,["text"],x),t}function Fl(n,e){const t={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>s6(n,l))),p(t,["parts"],o)}const s=m(e,["role"]);return s!=null&&p(t,["role"],s),t}function o6(n,e){const t={},r=m(e,["anyOf"]);r!=null&&p(t,["anyOf"],r);const s=m(e,["default"]);s!=null&&p(t,["default"],s);const o=m(e,["description"]);o!=null&&p(t,["description"],o);const l=m(e,["enum"]);l!=null&&p(t,["enum"],l);const u=m(e,["example"]);u!=null&&p(t,["example"],u);const d=m(e,["format"]);d!=null&&p(t,["format"],d);const f=m(e,["items"]);f!=null&&p(t,["items"],f);const g=m(e,["maxItems"]);g!=null&&p(t,["maxItems"],g);const y=m(e,["maxLength"]);y!=null&&p(t,["maxLength"],y);const x=m(e,["maxProperties"]);x!=null&&p(t,["maxProperties"],x);const w=m(e,["maximum"]);w!=null&&p(t,["maximum"],w);const C=m(e,["minItems"]);C!=null&&p(t,["minItems"],C);const S=m(e,["minLength"]);S!=null&&p(t,["minLength"],S);const T=m(e,["minProperties"]);T!=null&&p(t,["minProperties"],T);const E=m(e,["minimum"]);E!=null&&p(t,["minimum"],E);const P=m(e,["nullable"]);P!=null&&p(t,["nullable"],P);const I=m(e,["pattern"]);I!=null&&p(t,["pattern"],I);const A=m(e,["properties"]);A!=null&&p(t,["properties"],A);const D=m(e,["propertyOrdering"]);D!=null&&p(t,["propertyOrdering"],D);const O=m(e,["required"]);O!=null&&p(t,["required"],O);const L=m(e,["title"]);L!=null&&p(t,["title"],L);const V=m(e,["type"]);return V!=null&&p(t,["type"],V),t}function i6(n,e){const t={},r=m(e,["featureSelectionPreference"]);return r!=null&&p(t,["featureSelectionPreference"],r),t}function a6(n,e){const t={},r=m(e,["method"]);r!=null&&p(t,["method"],r);const s=m(e,["category"]);s!=null&&p(t,["category"],s);const o=m(e,["threshold"]);return o!=null&&p(t,["threshold"],o),t}function l6(n,e){const t={};if(m(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const r=m(e,["description"]);r!=null&&p(t,["description"],r);const s=m(e,["name"]);s!=null&&p(t,["name"],s);const o=m(e,["parameters"]);o!=null&&p(t,["parameters"],o);const l=m(e,["response"]);return l!=null&&p(t,["response"],l),t}function c6(n,e){const t={},r=m(e,["startTime"]);r!=null&&p(t,["startTime"],r);const s=m(e,["endTime"]);return s!=null&&p(t,["endTime"],s),t}function u6(n,e){const t={},r=m(e,["timeRangeFilter"]);return r!=null&&p(t,["timeRangeFilter"],c6(n,r)),t}function d6(n,e){const t={},r=m(e,["mode"]);r!=null&&p(t,["mode"],r);const s=m(e,["dynamicThreshold"]);return s!=null&&p(t,["dynamicThreshold"],s),t}function f6(n,e){const t={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&p(t,["dynamicRetrievalConfig"],d6(n,r)),t}function h6(){return{}}function m6(n,e){const t={},r=m(e,["apiKeyString"]);return r!=null&&p(t,["apiKeyString"],r),t}function p6(n,e){const t={},r=m(e,["apiKeyConfig"]);r!=null&&p(t,["apiKeyConfig"],m6(n,r));const s=m(e,["authType"]);s!=null&&p(t,["authType"],s);const o=m(e,["googleServiceAccountConfig"]);o!=null&&p(t,["googleServiceAccountConfig"],o);const l=m(e,["httpBasicAuthConfig"]);l!=null&&p(t,["httpBasicAuthConfig"],l);const u=m(e,["oauthConfig"]);u!=null&&p(t,["oauthConfig"],u);const d=m(e,["oidcConfig"]);return d!=null&&p(t,["oidcConfig"],d),t}function g6(n,e){const t={},r=m(e,["authConfig"]);return r!=null&&p(t,["authConfig"],p6(n,r)),t}function y6(){return{}}function KS(n,e){const t={},r=m(e,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(x=>l6(n,x))),p(t,["functionDeclarations"],y)}const s=m(e,["retrieval"]);s!=null&&p(t,["retrieval"],s);const o=m(e,["googleSearch"]);o!=null&&p(t,["googleSearch"],u6(n,o));const l=m(e,["googleSearchRetrieval"]);l!=null&&p(t,["googleSearchRetrieval"],f6(n,l)),m(e,["enterpriseWebSearch"])!=null&&p(t,["enterpriseWebSearch"],h6());const d=m(e,["googleMaps"]);d!=null&&p(t,["googleMaps"],g6(n,d)),m(e,["urlContext"])!=null&&p(t,["urlContext"],y6());const g=m(e,["codeExecution"]);return g!=null&&p(t,["codeExecution"],g),t}function v6(n,e){const t={},r=m(e,["mode"]);r!=null&&p(t,["mode"],r);const s=m(e,["allowedFunctionNames"]);return s!=null&&p(t,["allowedFunctionNames"],s),t}function x6(n,e){const t={},r=m(e,["latitude"]);r!=null&&p(t,["latitude"],r);const s=m(e,["longitude"]);return s!=null&&p(t,["longitude"],s),t}function w6(n,e){const t={},r=m(e,["latLng"]);r!=null&&p(t,["latLng"],x6(n,r));const s=m(e,["languageCode"]);return s!=null&&p(t,["languageCode"],s),t}function _6(n,e){const t={},r=m(e,["functionCallingConfig"]);r!=null&&p(t,["functionCallingConfig"],v6(n,r));const s=m(e,["retrievalConfig"]);return s!=null&&p(t,["retrievalConfig"],w6(n,s)),t}function k6(n,e){const t={},r=m(e,["voiceName"]);return r!=null&&p(t,["voiceName"],r),t}function C6(n,e){const t={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&p(t,["prebuiltVoiceConfig"],k6(n,r)),t}function S6(n,e){const t={},r=m(e,["voiceConfig"]);if(r!=null&&p(t,["voiceConfig"],C6(n,r)),m(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=m(e,["languageCode"]);return s!=null&&p(t,["languageCode"],s),t}function b6(n,e){const t={},r=m(e,["includeThoughts"]);r!=null&&p(t,["includeThoughts"],r);const s=m(e,["thinkingBudget"]);return s!=null&&p(t,["thinkingBudget"],s),t}function T6(n,e,t){const r={},s=m(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],Fl(n,ir(n,s)));const o=m(e,["temperature"]);o!=null&&p(r,["temperature"],o);const l=m(e,["topP"]);l!=null&&p(r,["topP"],l);const u=m(e,["topK"]);u!=null&&p(r,["topK"],u);const d=m(e,["candidateCount"]);d!=null&&p(r,["candidateCount"],d);const f=m(e,["maxOutputTokens"]);f!=null&&p(r,["maxOutputTokens"],f);const g=m(e,["stopSequences"]);g!=null&&p(r,["stopSequences"],g);const y=m(e,["responseLogprobs"]);y!=null&&p(r,["responseLogprobs"],y);const x=m(e,["logprobs"]);x!=null&&p(r,["logprobs"],x);const w=m(e,["presencePenalty"]);w!=null&&p(r,["presencePenalty"],w);const C=m(e,["frequencyPenalty"]);C!=null&&p(r,["frequencyPenalty"],C);const S=m(e,["seed"]);S!=null&&p(r,["seed"],S);const T=m(e,["responseMimeType"]);T!=null&&p(r,["responseMimeType"],T);const E=m(e,["responseSchema"]);E!=null&&p(r,["responseSchema"],o6(n,Hf(n,E)));const P=m(e,["routingConfig"]);P!=null&&p(r,["routingConfig"],P);const I=m(e,["modelSelectionConfig"]);I!=null&&p(r,["modelConfig"],i6(n,I));const A=m(e,["safetySettings"]);if(t!==void 0&&A!=null){let ke=A;Array.isArray(ke)&&(ke=ke.map(xe=>a6(n,xe))),p(t,["safetySettings"],ke)}const D=m(e,["tools"]);if(t!==void 0&&D!=null){let ke=bu(n,D);Array.isArray(ke)&&(ke=ke.map(xe=>KS(n,Su(n,xe)))),p(t,["tools"],ke)}const O=m(e,["toolConfig"]);t!==void 0&&O!=null&&p(t,["toolConfig"],_6(n,O));const L=m(e,["labels"]);t!==void 0&&L!=null&&p(t,["labels"],L);const V=m(e,["cachedContent"]);t!==void 0&&V!=null&&p(t,["cachedContent"],bi(n,V));const B=m(e,["responseModalities"]);B!=null&&p(r,["responseModalities"],B);const ee=m(e,["mediaResolution"]);ee!=null&&p(r,["mediaResolution"],ee);const X=m(e,["speechConfig"]);X!=null&&p(r,["speechConfig"],S6(n,LS(n,X)));const se=m(e,["audioTimestamp"]);se!=null&&p(r,["audioTimestamp"],se);const ce=m(e,["thinkingConfig"]);return ce!=null&&p(r,["thinkingConfig"],b6(n,ce)),r}function E1(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["contents"]);if(s!=null){let l=ps(n,s);Array.isArray(l)&&(l=l.map(u=>Fl(n,u))),p(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&p(t,["generationConfig"],T6(n,o,t)),t}function N6(n,e,t){const r={},s=m(e,["taskType"]);t!==void 0&&s!=null&&p(t,["instances[]","task_type"],s);const o=m(e,["title"]);t!==void 0&&o!=null&&p(t,["instances[]","title"],o);const l=m(e,["outputDimensionality"]);t!==void 0&&l!=null&&p(t,["parameters","outputDimensionality"],l);const u=m(e,["mimeType"]);t!==void 0&&u!=null&&p(t,["instances[]","mimeType"],u);const d=m(e,["autoTruncate"]);return t!==void 0&&d!=null&&p(t,["parameters","autoTruncate"],d),r}function E6(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["contents"]);s!=null&&p(t,["instances[]","content"],OS(n,s));const o=m(e,["config"]);return o!=null&&p(t,["config"],N6(n,o,t)),t}function M6(n,e,t){const r={},s=m(e,["outputGcsUri"]);t!==void 0&&s!=null&&p(t,["parameters","storageUri"],s);const o=m(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const l=m(e,["numberOfImages"]);t!==void 0&&l!=null&&p(t,["parameters","sampleCount"],l);const u=m(e,["aspectRatio"]);t!==void 0&&u!=null&&p(t,["parameters","aspectRatio"],u);const d=m(e,["guidanceScale"]);t!==void 0&&d!=null&&p(t,["parameters","guidanceScale"],d);const f=m(e,["seed"]);t!==void 0&&f!=null&&p(t,["parameters","seed"],f);const g=m(e,["safetyFilterLevel"]);t!==void 0&&g!=null&&p(t,["parameters","safetySetting"],g);const y=m(e,["personGeneration"]);t!==void 0&&y!=null&&p(t,["parameters","personGeneration"],y);const x=m(e,["includeSafetyAttributes"]);t!==void 0&&x!=null&&p(t,["parameters","includeSafetyAttributes"],x);const w=m(e,["includeRaiReason"]);t!==void 0&&w!=null&&p(t,["parameters","includeRaiReason"],w);const C=m(e,["language"]);t!==void 0&&C!=null&&p(t,["parameters","language"],C);const S=m(e,["outputMimeType"]);t!==void 0&&S!=null&&p(t,["parameters","outputOptions","mimeType"],S);const T=m(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&p(t,["parameters","outputOptions","compressionQuality"],T);const E=m(e,["addWatermark"]);t!==void 0&&E!=null&&p(t,["parameters","addWatermark"],E);const P=m(e,["enhancePrompt"]);return t!==void 0&&P!=null&&p(t,["parameters","enhancePrompt"],P),r}function D6(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["prompt"]);s!=null&&p(t,["instances[0]","prompt"],s);const o=m(e,["config"]);return o!=null&&p(t,["config"],M6(n,o,t)),t}function _h(n,e){const t={},r=m(e,["gcsUri"]);r!=null&&p(t,["gcsUri"],r);const s=m(e,["imageBytes"]);s!=null&&p(t,["bytesBase64Encoded"],jo(n,s));const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function I6(n,e){const t={},r=m(e,["maskMode"]);r!=null&&p(t,["maskMode"],r);const s=m(e,["segmentationClasses"]);s!=null&&p(t,["maskClasses"],s);const o=m(e,["maskDilation"]);return o!=null&&p(t,["dilation"],o),t}function j6(n,e){const t={},r=m(e,["controlType"]);r!=null&&p(t,["controlType"],r);const s=m(e,["enableControlImageComputation"]);return s!=null&&p(t,["computeControl"],s),t}function A6(n,e){const t={},r=m(e,["styleDescription"]);return r!=null&&p(t,["styleDescription"],r),t}function P6(n,e){const t={},r=m(e,["subjectType"]);r!=null&&p(t,["subjectType"],r);const s=m(e,["subjectDescription"]);return s!=null&&p(t,["subjectDescription"],s),t}function R6(n,e){const t={},r=m(e,["referenceImage"]);r!=null&&p(t,["referenceImage"],_h(n,r));const s=m(e,["referenceId"]);s!=null&&p(t,["referenceId"],s);const o=m(e,["referenceType"]);o!=null&&p(t,["referenceType"],o);const l=m(e,["maskImageConfig"]);l!=null&&p(t,["maskImageConfig"],I6(n,l));const u=m(e,["controlImageConfig"]);u!=null&&p(t,["controlImageConfig"],j6(n,u));const d=m(e,["styleImageConfig"]);d!=null&&p(t,["styleImageConfig"],A6(n,d));const f=m(e,["subjectImageConfig"]);return f!=null&&p(t,["subjectImageConfig"],P6(n,f)),t}function O6(n,e,t){const r={},s=m(e,["outputGcsUri"]);t!==void 0&&s!=null&&p(t,["parameters","storageUri"],s);const o=m(e,["negativePrompt"]);t!==void 0&&o!=null&&p(t,["parameters","negativePrompt"],o);const l=m(e,["numberOfImages"]);t!==void 0&&l!=null&&p(t,["parameters","sampleCount"],l);const u=m(e,["aspectRatio"]);t!==void 0&&u!=null&&p(t,["parameters","aspectRatio"],u);const d=m(e,["guidanceScale"]);t!==void 0&&d!=null&&p(t,["parameters","guidanceScale"],d);const f=m(e,["seed"]);t!==void 0&&f!=null&&p(t,["parameters","seed"],f);const g=m(e,["safetyFilterLevel"]);t!==void 0&&g!=null&&p(t,["parameters","safetySetting"],g);const y=m(e,["personGeneration"]);t!==void 0&&y!=null&&p(t,["parameters","personGeneration"],y);const x=m(e,["includeSafetyAttributes"]);t!==void 0&&x!=null&&p(t,["parameters","includeSafetyAttributes"],x);const w=m(e,["includeRaiReason"]);t!==void 0&&w!=null&&p(t,["parameters","includeRaiReason"],w);const C=m(e,["language"]);t!==void 0&&C!=null&&p(t,["parameters","language"],C);const S=m(e,["outputMimeType"]);t!==void 0&&S!=null&&p(t,["parameters","outputOptions","mimeType"],S);const T=m(e,["outputCompressionQuality"]);t!==void 0&&T!=null&&p(t,["parameters","outputOptions","compressionQuality"],T);const E=m(e,["editMode"]);t!==void 0&&E!=null&&p(t,["parameters","editMode"],E);const P=m(e,["baseSteps"]);return t!==void 0&&P!=null&&p(t,["parameters","editConfig","baseSteps"],P),r}function L6(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["prompt"]);s!=null&&p(t,["instances[0]","prompt"],s);const o=m(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>R6(n,d))),p(t,["instances[0]","referenceImages"],u)}const l=m(e,["config"]);return l!=null&&p(t,["config"],O6(n,l,t)),t}function F6(n,e,t){const r={},s=m(e,["includeRaiReason"]);t!==void 0&&s!=null&&p(t,["parameters","includeRaiReason"],s);const o=m(e,["outputMimeType"]);t!==void 0&&o!=null&&p(t,["parameters","outputOptions","mimeType"],o);const l=m(e,["outputCompressionQuality"]);t!==void 0&&l!=null&&p(t,["parameters","outputOptions","compressionQuality"],l);const u=m(e,["numberOfImages"]);t!==void 0&&u!=null&&p(t,["parameters","sampleCount"],u);const d=m(e,["mode"]);return t!==void 0&&d!=null&&p(t,["parameters","mode"],d),r}function $6(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["image"]);s!=null&&p(t,["instances[0]","image"],_h(n,s));const o=m(e,["upscaleFactor"]);o!=null&&p(t,["parameters","upscaleConfig","upscaleFactor"],o);const l=m(e,["config"]);return l!=null&&p(t,["config"],F6(n,l,t)),t}function U6(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","name"],Zt(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function V6(n,e,t){const r={},s=m(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const o=m(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const l=m(e,["filter"]);t!==void 0&&l!=null&&p(t,["_query","filter"],l);const u=m(e,["queryBase"]);return t!==void 0&&u!=null&&p(t,["_url","models_url"],US(n,u)),r}function B6(n,e){const t={},r=m(e,["config"]);return r!=null&&p(t,["config"],V6(n,r,t)),t}function z6(n,e,t){const r={},s=m(e,["displayName"]);t!==void 0&&s!=null&&p(t,["displayName"],s);const o=m(e,["description"]);t!==void 0&&o!=null&&p(t,["description"],o);const l=m(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&p(t,["defaultCheckpointId"],l),r}function W6(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],z6(n,s,t)),t}function H6(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","name"],Zt(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function G6(n,e,t){const r={},s=m(e,["systemInstruction"]);t!==void 0&&s!=null&&p(t,["systemInstruction"],Fl(n,ir(n,s)));const o=m(e,["tools"]);if(t!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>KS(n,d))),p(t,["tools"],u)}const l=m(e,["generationConfig"]);return t!==void 0&&l!=null&&p(t,["generationConfig"],l),r}function Y6(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["contents"]);if(s!=null){let l=ps(n,s);Array.isArray(l)&&(l=l.map(u=>Fl(n,u))),p(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&p(t,["config"],G6(n,o,t)),t}function q6(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["contents"]);if(s!=null){let l=ps(n,s);Array.isArray(l)&&(l=l.map(u=>Fl(n,u))),p(t,["contents"],l)}const o=m(e,["config"]);return o!=null&&p(t,["config"],o),t}function K6(n,e){const t={},r=m(e,["uri"]);r!=null&&p(t,["gcsUri"],r);const s=m(e,["videoBytes"]);s!=null&&p(t,["bytesBase64Encoded"],jo(n,s));const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function J6(n,e,t){const r={},s=m(e,["numberOfVideos"]);t!==void 0&&s!=null&&p(t,["parameters","sampleCount"],s);const o=m(e,["outputGcsUri"]);t!==void 0&&o!=null&&p(t,["parameters","storageUri"],o);const l=m(e,["fps"]);t!==void 0&&l!=null&&p(t,["parameters","fps"],l);const u=m(e,["durationSeconds"]);t!==void 0&&u!=null&&p(t,["parameters","durationSeconds"],u);const d=m(e,["seed"]);t!==void 0&&d!=null&&p(t,["parameters","seed"],d);const f=m(e,["aspectRatio"]);t!==void 0&&f!=null&&p(t,["parameters","aspectRatio"],f);const g=m(e,["resolution"]);t!==void 0&&g!=null&&p(t,["parameters","resolution"],g);const y=m(e,["personGeneration"]);t!==void 0&&y!=null&&p(t,["parameters","personGeneration"],y);const x=m(e,["pubsubTopic"]);t!==void 0&&x!=null&&p(t,["parameters","pubsubTopic"],x);const w=m(e,["negativePrompt"]);t!==void 0&&w!=null&&p(t,["parameters","negativePrompt"],w);const C=m(e,["enhancePrompt"]);t!==void 0&&C!=null&&p(t,["parameters","enhancePrompt"],C);const S=m(e,["generateAudio"]);t!==void 0&&S!=null&&p(t,["parameters","generateAudio"],S);const T=m(e,["lastFrame"]);return t!==void 0&&T!=null&&p(t,["instances[0]","lastFrame"],_h(n,T)),r}function Z6(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["_url","model"],Zt(n,r));const s=m(e,["prompt"]);s!=null&&p(t,["instances[0]","prompt"],s);const o=m(e,["image"]);o!=null&&p(t,["instances[0]","image"],_h(n,o));const l=m(e,["video"]);l!=null&&p(t,["instances[0]","video"],K6(n,l));const u=m(e,["config"]);return u!=null&&p(t,["config"],J6(n,u,t)),t}function Q6(n,e){const t={},r=m(e,["fps"]);r!=null&&p(t,["fps"],r);const s=m(e,["endOffset"]);s!=null&&p(t,["endOffset"],s);const o=m(e,["startOffset"]);return o!=null&&p(t,["startOffset"],o),t}function X6(n,e){const t={},r=m(e,["data"]);r!=null&&p(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function eU(n,e){const t={},r=m(e,["fileUri"]);r!=null&&p(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function tU(n,e){const t={},r=m(e,["videoMetadata"]);r!=null&&p(t,["videoMetadata"],Q6(n,r));const s=m(e,["thought"]);s!=null&&p(t,["thought"],s);const o=m(e,["inlineData"]);o!=null&&p(t,["inlineData"],X6(n,o));const l=m(e,["fileData"]);l!=null&&p(t,["fileData"],eU(n,l));const u=m(e,["thoughtSignature"]);u!=null&&p(t,["thoughtSignature"],u);const d=m(e,["codeExecutionResult"]);d!=null&&p(t,["codeExecutionResult"],d);const f=m(e,["executableCode"]);f!=null&&p(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=m(e,["functionResponse"]);y!=null&&p(t,["functionResponse"],y);const x=m(e,["text"]);return x!=null&&p(t,["text"],x),t}function nU(n,e){const t={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>tU(n,l))),p(t,["parts"],o)}const s=m(e,["role"]);return s!=null&&p(t,["role"],s),t}function rU(n,e){const t={},r=m(e,["citationSources"]);return r!=null&&p(t,["citations"],r),t}function sU(n,e){const t={},r=m(e,["retrievedUrl"]);r!=null&&p(t,["retrievedUrl"],r);const s=m(e,["urlRetrievalStatus"]);return s!=null&&p(t,["urlRetrievalStatus"],s),t}function oU(n,e){const t={},r=m(e,["urlMetadata"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>sU(n,o))),p(t,["urlMetadata"],s)}return t}function iU(n,e){const t={},r=m(e,["content"]);r!=null&&p(t,["content"],nU(n,r));const s=m(e,["citationMetadata"]);s!=null&&p(t,["citationMetadata"],rU(n,s));const o=m(e,["tokenCount"]);o!=null&&p(t,["tokenCount"],o);const l=m(e,["finishReason"]);l!=null&&p(t,["finishReason"],l);const u=m(e,["urlContextMetadata"]);u!=null&&p(t,["urlContextMetadata"],oU(n,u));const d=m(e,["avgLogprobs"]);d!=null&&p(t,["avgLogprobs"],d);const f=m(e,["groundingMetadata"]);f!=null&&p(t,["groundingMetadata"],f);const g=m(e,["index"]);g!=null&&p(t,["index"],g);const y=m(e,["logprobsResult"]);y!=null&&p(t,["logprobsResult"],y);const x=m(e,["safetyRatings"]);return x!=null&&p(t,["safetyRatings"],x),t}function M1(n,e){const t={},r=m(e,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(d=>iU(n,d))),p(t,["candidates"],u)}const s=m(e,["modelVersion"]);s!=null&&p(t,["modelVersion"],s);const o=m(e,["promptFeedback"]);o!=null&&p(t,["promptFeedback"],o);const l=m(e,["usageMetadata"]);return l!=null&&p(t,["usageMetadata"],l),t}function aU(n,e){const t={},r=m(e,["values"]);return r!=null&&p(t,["values"],r),t}function lU(){return{}}function cU(n,e){const t={},r=m(e,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>aU(n,l))),p(t,["embeddings"],o)}return m(e,["metadata"])!=null&&p(t,["metadata"],lU()),t}function uU(n,e){const t={},r=m(e,["bytesBase64Encoded"]);r!=null&&p(t,["imageBytes"],jo(n,r));const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function JS(n,e){const t={},r=m(e,["safetyAttributes","categories"]);r!=null&&p(t,["categories"],r);const s=m(e,["safetyAttributes","scores"]);s!=null&&p(t,["scores"],s);const o=m(e,["contentType"]);return o!=null&&p(t,["contentType"],o),t}function dU(n,e){const t={},r=m(e,["_self"]);r!=null&&p(t,["image"],uU(n,r));const s=m(e,["raiFilteredReason"]);s!=null&&p(t,["raiFilteredReason"],s);const o=m(e,["_self"]);return o!=null&&p(t,["safetyAttributes"],JS(n,o)),t}function fU(n,e){const t={},r=m(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>dU(n,l))),p(t,["generatedImages"],o)}const s=m(e,["positivePromptSafetyAttributes"]);return s!=null&&p(t,["positivePromptSafetyAttributes"],JS(n,s)),t}function hU(n,e){const t={},r=m(e,["baseModel"]);r!=null&&p(t,["baseModel"],r);const s=m(e,["createTime"]);s!=null&&p(t,["createTime"],s);const o=m(e,["updateTime"]);return o!=null&&p(t,["updateTime"],o),t}function Hg(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["name"],r);const s=m(e,["displayName"]);s!=null&&p(t,["displayName"],s);const o=m(e,["description"]);o!=null&&p(t,["description"],o);const l=m(e,["version"]);l!=null&&p(t,["version"],l);const u=m(e,["_self"]);u!=null&&p(t,["tunedModelInfo"],hU(n,u));const d=m(e,["inputTokenLimit"]);d!=null&&p(t,["inputTokenLimit"],d);const f=m(e,["outputTokenLimit"]);f!=null&&p(t,["outputTokenLimit"],f);const g=m(e,["supportedGenerationMethods"]);return g!=null&&p(t,["supportedActions"],g),t}function mU(n,e){const t={},r=m(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const s=m(e,["_self"]);if(s!=null){let o=VS(n,s);Array.isArray(o)&&(o=o.map(l=>Hg(n,l))),p(t,["models"],o)}return t}function pU(){return{}}function gU(n,e){const t={},r=m(e,["totalTokens"]);r!=null&&p(t,["totalTokens"],r);const s=m(e,["cachedContentTokenCount"]);return s!=null&&p(t,["cachedContentTokenCount"],s),t}function yU(n,e){const t={},r=m(e,["video","uri"]);r!=null&&p(t,["uri"],r);const s=m(e,["video","encodedVideo"]);s!=null&&p(t,["videoBytes"],jo(n,s));const o=m(e,["encoding"]);return o!=null&&p(t,["mimeType"],o),t}function vU(n,e){const t={},r=m(e,["_self"]);return r!=null&&p(t,["video"],yU(n,r)),t}function xU(n,e){const t={},r=m(e,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>vU(n,u))),p(t,["generatedVideos"],l)}const s=m(e,["raiMediaFilteredCount"]);s!=null&&p(t,["raiMediaFilteredCount"],s);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&p(t,["raiMediaFilteredReasons"],o),t}function wU(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["name"],r);const s=m(e,["metadata"]);s!=null&&p(t,["metadata"],s);const o=m(e,["done"]);o!=null&&p(t,["done"],o);const l=m(e,["error"]);l!=null&&p(t,["error"],l);const u=m(e,["response","generateVideoResponse"]);return u!=null&&p(t,["response"],xU(n,u)),t}function _U(n,e){const t={},r=m(e,["fps"]);r!=null&&p(t,["fps"],r);const s=m(e,["endOffset"]);s!=null&&p(t,["endOffset"],s);const o=m(e,["startOffset"]);return o!=null&&p(t,["startOffset"],o),t}function kU(n,e){const t={},r=m(e,["displayName"]);r!=null&&p(t,["displayName"],r);const s=m(e,["data"]);s!=null&&p(t,["data"],s);const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function CU(n,e){const t={},r=m(e,["displayName"]);r!=null&&p(t,["displayName"],r);const s=m(e,["fileUri"]);s!=null&&p(t,["fileUri"],s);const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function SU(n,e){const t={},r=m(e,["videoMetadata"]);r!=null&&p(t,["videoMetadata"],_U(n,r));const s=m(e,["thought"]);s!=null&&p(t,["thought"],s);const o=m(e,["inlineData"]);o!=null&&p(t,["inlineData"],kU(n,o));const l=m(e,["fileData"]);l!=null&&p(t,["fileData"],CU(n,l));const u=m(e,["thoughtSignature"]);u!=null&&p(t,["thoughtSignature"],u);const d=m(e,["codeExecutionResult"]);d!=null&&p(t,["codeExecutionResult"],d);const f=m(e,["executableCode"]);f!=null&&p(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=m(e,["functionResponse"]);y!=null&&p(t,["functionResponse"],y);const x=m(e,["text"]);return x!=null&&p(t,["text"],x),t}function bU(n,e){const t={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>SU(n,l))),p(t,["parts"],o)}const s=m(e,["role"]);return s!=null&&p(t,["role"],s),t}function TU(n,e){const t={},r=m(e,["citations"]);return r!=null&&p(t,["citations"],r),t}function NU(n,e){const t={},r=m(e,["retrievedUrl"]);r!=null&&p(t,["retrievedUrl"],r);const s=m(e,["urlRetrievalStatus"]);return s!=null&&p(t,["urlRetrievalStatus"],s),t}function EU(n,e){const t={},r=m(e,["urlMetadata"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>NU(n,o))),p(t,["urlMetadata"],s)}return t}function MU(n,e){const t={},r=m(e,["content"]);r!=null&&p(t,["content"],bU(n,r));const s=m(e,["citationMetadata"]);s!=null&&p(t,["citationMetadata"],TU(n,s));const o=m(e,["finishMessage"]);o!=null&&p(t,["finishMessage"],o);const l=m(e,["finishReason"]);l!=null&&p(t,["finishReason"],l);const u=m(e,["urlContextMetadata"]);u!=null&&p(t,["urlContextMetadata"],EU(n,u));const d=m(e,["avgLogprobs"]);d!=null&&p(t,["avgLogprobs"],d);const f=m(e,["groundingMetadata"]);f!=null&&p(t,["groundingMetadata"],f);const g=m(e,["index"]);g!=null&&p(t,["index"],g);const y=m(e,["logprobsResult"]);y!=null&&p(t,["logprobsResult"],y);const x=m(e,["safetyRatings"]);return x!=null&&p(t,["safetyRatings"],x),t}function D1(n,e){const t={},r=m(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(g=>MU(n,g))),p(t,["candidates"],f)}const s=m(e,["createTime"]);s!=null&&p(t,["createTime"],s);const o=m(e,["responseId"]);o!=null&&p(t,["responseId"],o);const l=m(e,["modelVersion"]);l!=null&&p(t,["modelVersion"],l);const u=m(e,["promptFeedback"]);u!=null&&p(t,["promptFeedback"],u);const d=m(e,["usageMetadata"]);return d!=null&&p(t,["usageMetadata"],d),t}function DU(n,e){const t={},r=m(e,["truncated"]);r!=null&&p(t,["truncated"],r);const s=m(e,["token_count"]);return s!=null&&p(t,["tokenCount"],s),t}function IU(n,e){const t={},r=m(e,["values"]);r!=null&&p(t,["values"],r);const s=m(e,["statistics"]);return s!=null&&p(t,["statistics"],DU(n,s)),t}function jU(n,e){const t={},r=m(e,["billableCharacterCount"]);return r!=null&&p(t,["billableCharacterCount"],r),t}function AU(n,e){const t={},r=m(e,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>IU(n,l))),p(t,["embeddings"],o)}const s=m(e,["metadata"]);return s!=null&&p(t,["metadata"],jU(n,s)),t}function PU(n,e){const t={},r=m(e,["gcsUri"]);r!=null&&p(t,["gcsUri"],r);const s=m(e,["bytesBase64Encoded"]);s!=null&&p(t,["imageBytes"],jo(n,s));const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function ZS(n,e){const t={},r=m(e,["safetyAttributes","categories"]);r!=null&&p(t,["categories"],r);const s=m(e,["safetyAttributes","scores"]);s!=null&&p(t,["scores"],s);const o=m(e,["contentType"]);return o!=null&&p(t,["contentType"],o),t}function Zy(n,e){const t={},r=m(e,["_self"]);r!=null&&p(t,["image"],PU(n,r));const s=m(e,["raiFilteredReason"]);s!=null&&p(t,["raiFilteredReason"],s);const o=m(e,["_self"]);o!=null&&p(t,["safetyAttributes"],ZS(n,o));const l=m(e,["prompt"]);return l!=null&&p(t,["enhancedPrompt"],l),t}function RU(n,e){const t={},r=m(e,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>Zy(n,l))),p(t,["generatedImages"],o)}const s=m(e,["positivePromptSafetyAttributes"]);return s!=null&&p(t,["positivePromptSafetyAttributes"],ZS(n,s)),t}function OU(n,e){const t={},r=m(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Zy(n,o))),p(t,["generatedImages"],s)}return t}function LU(n,e){const t={},r=m(e,["predictions"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>Zy(n,o))),p(t,["generatedImages"],s)}return t}function FU(n,e){const t={},r=m(e,["endpoint"]);r!=null&&p(t,["name"],r);const s=m(e,["deployedModelId"]);return s!=null&&p(t,["deployedModelId"],s),t}function $U(n,e){const t={},r=m(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&p(t,["baseModel"],r);const s=m(e,["createTime"]);s!=null&&p(t,["createTime"],s);const o=m(e,["updateTime"]);return o!=null&&p(t,["updateTime"],o),t}function UU(n,e){const t={},r=m(e,["checkpointId"]);r!=null&&p(t,["checkpointId"],r);const s=m(e,["epoch"]);s!=null&&p(t,["epoch"],s);const o=m(e,["step"]);return o!=null&&p(t,["step"],o),t}function Gg(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["name"],r);const s=m(e,["displayName"]);s!=null&&p(t,["displayName"],s);const o=m(e,["description"]);o!=null&&p(t,["description"],o);const l=m(e,["versionId"]);l!=null&&p(t,["version"],l);const u=m(e,["deployedModels"]);if(u!=null){let x=u;Array.isArray(x)&&(x=x.map(w=>FU(n,w))),p(t,["endpoints"],x)}const d=m(e,["labels"]);d!=null&&p(t,["labels"],d);const f=m(e,["_self"]);f!=null&&p(t,["tunedModelInfo"],$U(n,f));const g=m(e,["defaultCheckpointId"]);g!=null&&p(t,["defaultCheckpointId"],g);const y=m(e,["checkpoints"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(w=>UU(n,w))),p(t,["checkpoints"],x)}return t}function VU(n,e){const t={},r=m(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const s=m(e,["_self"]);if(s!=null){let o=VS(n,s);Array.isArray(o)&&(o=o.map(l=>Gg(n,l))),p(t,["models"],o)}return t}function BU(){return{}}function zU(n,e){const t={},r=m(e,["totalTokens"]);return r!=null&&p(t,["totalTokens"],r),t}function WU(n,e){const t={},r=m(e,["tokensInfo"]);return r!=null&&p(t,["tokensInfo"],r),t}function HU(n,e){const t={},r=m(e,["gcsUri"]);r!=null&&p(t,["uri"],r);const s=m(e,["bytesBase64Encoded"]);s!=null&&p(t,["videoBytes"],jo(n,s));const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function GU(n,e){const t={},r=m(e,["_self"]);return r!=null&&p(t,["video"],HU(n,r)),t}function YU(n,e){const t={},r=m(e,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>GU(n,u))),p(t,["generatedVideos"],l)}const s=m(e,["raiMediaFilteredCount"]);s!=null&&p(t,["raiMediaFilteredCount"],s);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&p(t,["raiMediaFilteredReasons"],o),t}function qU(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["name"],r);const s=m(e,["metadata"]);s!=null&&p(t,["metadata"],s);const o=m(e,["done"]);o!=null&&p(t,["done"],o);const l=m(e,["error"]);l!=null&&p(t,["error"],l);const u=m(e,["response"]);return u!=null&&p(t,["response"],YU(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KU="Content-Type",JU="X-Server-Timeout",ZU="User-Agent",Yg="x-goog-api-client",QU="1.5.1",XU=`google-genai-sdk/${QU}`,e8="v1beta1",t8="v1beta",I1=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class QS extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class qg extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class n8{constructor(e){var t,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const s={};this.clientOptions.vertexai?(s.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:e8,s.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(s.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:t8,s.baseUrl="https://generativelanguage.googleapis.com/"),s.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=s,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(s,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,r){const s=[this.getRequestUrlInternal(t)];return r&&s.push(this.getBaseResourcePath()),e!==""&&s.push(e),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}request(e){return M(this,null,function*(){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,t,r);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))s.searchParams.append(l,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=yield this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(s,o,e.httpMethod)})}patchHttpOptions(e,t){const r=JSON.parse(JSON.stringify(e));for(const[s,o]of Object.entries(t))typeof o=="object"?r[s]=Object.assign(Object.assign({},r[s]),o):o!==void 0&&(r[s]=o);return r}requestStream(e){return M(this,null,function*(){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),s=this.constructUrl(e.path,t,r);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let o={};return o.body=e.body,o=yield this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(s,o,e.httpMethod)})}includeExtraHttpOptionsToRequestInit(e,t,r){return M(this,null,function*(){if(t&&t.timeout||r){const s=new AbortController,o=s.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>s.abort(),t.timeout),r&&r.addEventListener("abort",()=>{s.abort()}),e.signal=o}return e.headers=yield this.getHeadersInternal(t),e})}unaryApiCall(e,t,r){return M(this,null,function*(){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(s=>M(this,null,function*(){return yield j1(s),new Vg(s)})).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})})}streamApiCall(e,t,r){return M(this,null,function*(){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:r})).then(s=>M(this,null,function*(){return yield j1(s),this.processStreamResponse(s)})).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})})}processStreamResponse(e){var t;return yl(this,arguments,function*(){const s=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),o=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:d}=yield en(s.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(d);try{const y=JSON.parse(f);if("error"in y){const x=JSON.parse(JSON.stringify(y.error)),w=x.status,C=x.code,S=`got status: ${w}. ${JSON.stringify(y)}`;if(C>=400&&C<500)throw new QS(S);if(C>=500&&C<600)throw new qg(S)}}catch(y){const x=y;if(x.name==="ClientError"||x.name==="ServerError")throw y}l+=f;let g=l.match(I1);for(;g;){const y=g[1];try{const x=new Response(y,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield en(new Vg(x)),l=l.slice(g[0].length),g=l.match(I1)}catch(x){throw new Error(`exception parsing stream chunk ${y}. ${x}`)}}}}finally{s.releaseLock()}})}apiCall(e,t){return M(this,null,function*(){return fetch(e,t).catch(r=>{throw new Error(`exception ${r} sending request`)})})}getDefaultHeaders(){const e={},t=XU+" "+this.clientOptions.userAgentExtra;return e[ZU]=t,e[Yg]=t,e[KU]="application/json",e}getHeadersInternal(e){return M(this,null,function*(){const t=new Headers;if(e&&e.headers){for(const[r,s]of Object.entries(e.headers))t.append(r,s);e.timeout&&e.timeout>0&&t.append(JU,String(Math.ceil(e.timeout/1e3)))}return yield this.clientOptions.auth.addAuthHeaders(t),t})}uploadFile(e,t){return M(this,null,function*(){var r;const s={};t!=null&&(s.mimeType=t.mimeType,s.name=t.name,s.displayName=t.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const o=this.clientOptions.uploader,l=yield o.stat(e);s.sizeBytes=String(l.size);const u=(r=t==null?void 0:t.mimeType)!==null&&r!==void 0?r:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=u;const d=yield this.fetchUploadUrl(s,t);return o.upload(e,d,this)})}downloadFile(e){return M(this,null,function*(){yield this.clientOptions.downloader.download(e,this)})}fetchUploadUrl(e,t){return M(this,null,function*(){var r;let s={};t!=null&&t.httpOptions?s=t.httpOptions:s={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},l=yield this.request({path:nt("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:s});if(!l||!(l!=null&&l.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(r=l==null?void 0:l.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u})}}function j1(n){return M(this,null,function*(){var e;if(n===void 0)throw new qg("response is undefined");if(!n.ok){const t=n.status,r=n.statusText;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=yield n.json():s={error:{message:yield n.text(),code:n.status,status:n.statusText}};const o=`got status: ${t} ${r}. ${JSON.stringify(s)}`;throw t>=400&&t<500?new QS(o):t>=500&&t<600?new qg(o):new Error(o)}})}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const r8="mcp_used/unknown";function XS(n){for(const e of n)if(Qy(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function eb(n){var e;const t=(e=n[Yg])!==null&&e!==void 0?e:"";n[Yg]=(t+` ${r8}`).trimStart()}function s8(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(s=>Qy(s)))!==null&&r!==void 0?r:!1}function o8(n){var e,t,r;return(r=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(s=>!Qy(s)))!==null&&r!==void 0?r:!1}function Qy(n){return n!==null&&typeof n=="object"&&n instanceof Xy}function i8(n,e=100){return yl(this,arguments,function*(){let r,s=0;for(;s<e;){const o=yield en(n.listTools({cursor:r}));for(const l of o.tools)yield yield en(l),s++;if(!o.nextCursor)break;r=o.nextCursor}})}class Xy{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Xy(e,t)}initialize(){return M(this,null,function*(){var e,t,r,s;if(this.mcpTools.length>0)return;const o={},l=[];for(const g of this.mcpClients)try{for(var u=!0,d=(t=void 0,Hc(i8(g))),f;f=yield d.next(),e=f.done,!e;u=!0){s=f.value,u=!1;const y=s;l.push(y);const x=y.name;if(o[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);o[x]=g}}catch(y){t={error:y}}finally{try{!u&&!e&&(r=d.return)&&(yield r.call(d))}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=o})}tool(){return M(this,null,function*(){return yield this.initialize(),a5(this.mcpTools,this.config)})}callTool(e){return M(this,null,function*(){yield this.initialize();const t=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const l=yield s.callTool({name:r.name,arguments:r.args},void 0,o);t.push({functionResponse:{name:r.name,response:l.isError?{error:l}:l}})}return t})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function a8(n,e,t){return M(this,null,function*(){const r=new q3;let s;t.data instanceof Blob?s=JSON.parse(yield t.data.text()):s=JSON.parse(t.data);const o=g$(n,s);Object.assign(r,o),e(r)})}class l8{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r}connect(e){return M(this,null,function*(){var t,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),l=d8(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${s}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const g=new Promise(I=>{f=I}),y=e.callbacks,x=function(){f({})},w=this.apiClient,C={onopen:x,onmessage:I=>{a8(w,y.onmessage,I)},onerror:(t=y==null?void 0:y.onerror)!==null&&t!==void 0?t:function(I){},onclose:(r=y==null?void 0:y.onclose)!==null&&r!==void 0?r:function(I){}},S=this.webSocketFactory.create(d,u8(l),C);S.connect(),yield g;const T=Zt(this.apiClient,e.model),E=GS(this.apiClient,{model:T}),P=Wg(this.apiClient,{setup:E});return S.send(JSON.stringify(P)),new c8(S,this.apiClient)})}}class c8{constructor(e,t){this.conn=e,this.apiClient=t}setWeightedPrompts(e){return M(this,null,function*(){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=DF(this.apiClient,e),r=YS(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:r}))})}setMusicGenerationConfig(e){return M(this,null,function*(){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=IF(this.apiClient,e),r=Wg(this.apiClient,t);this.conn.send(JSON.stringify(r))})}sendPlaybackControl(e){const t=Wg(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(ul.PLAY)}pause(){this.sendPlaybackControl(ul.PAUSE)}stop(){this.sendPlaybackControl(ul.STOP)}resetContext(){this.sendPlaybackControl(ul.RESET_CONTEXT)}close(){this.conn.close()}}function u8(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function d8(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const f8="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";function h8(n,e,t){return M(this,null,function*(){const r=new Y3;let s;if(t.data instanceof Blob?s=JSON.parse(yield t.data.text()):s=JSON.parse(t.data),n.isVertexAI()){const o=a$(n,s);Object.assign(r,o)}else{const o=i$(n,s);Object.assign(r,o)}e(r)})}class m8{constructor(e,t,r){this.apiClient=e,this.auth=t,this.webSocketFactory=r,this.music=new l8(this.apiClient,this.auth,this.webSocketFactory)}connect(e){return M(this,null,function*(){var t,r,s,o,l,u;const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let g;const y=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&XS(e.config.tools)&&eb(y);const x=v8(y);if(this.apiClient.isVertexAI())g=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,yield this.auth.addAuthHeaders(x);else{const B=this.apiClient.getApiKey();let ee="BidiGenerateContent",X="key";B!=null&&B.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),ee="BidiGenerateContentConstrained",X="access_token"),g=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${ee}?${X}=${B}`}let w=()=>{};const C=new Promise(B=>{w=B}),S=e.callbacks,T=function(){var B;(B=S==null?void 0:S.onopen)===null||B===void 0||B.call(S),w({})},E=this.apiClient,P={onopen:T,onmessage:B=>{h8(E,S.onmessage,B)},onerror:(t=S==null?void 0:S.onerror)!==null&&t!==void 0?t:function(B){},onclose:(r=S==null?void 0:S.onclose)!==null&&r!==void 0?r:function(B){}},I=this.webSocketFactory.create(g,y8(x),P);I.connect(),yield C;let A=Zt(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&A.startsWith("publishers/")){const B=this.apiClient.getProject(),ee=this.apiClient.getLocation();A=`projects/${B}/locations/${ee}/`+A}let D={};this.apiClient.isVertexAI()&&((s=e.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[zf.AUDIO]}:e.config.responseModalities=[zf.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const O=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],L=[];for(const B of O)if(this.isCallableTool(B)){const ee=B;L.push(yield ee.tool())}else L.push(B);L.length>0&&(e.config.tools=L);const V={model:A,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?D=CF(this.apiClient,V):D=kF(this.apiClient,V),delete D.config,I.send(JSON.stringify(D)),new g8(I,this.apiClient)})}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const p8={turnComplete:!0};class g8{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let r=[];try{r=ps(e,t.turns),e.isVertexAI()?r=r.map(s=>Fl(e,s)):r=r.map(s=>wh(e,s))}catch(s){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:r,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let r=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?r=t.functionResponses:r=[t.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(f8)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},p8),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:MF(this.apiClient,e)}:t={realtimeInput:EF(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function y8(n){const e={};return n.forEach((t,r)=>{e[r]=t}),e}function v8(n){const e=new Headers;for(const[t,r]of Object.entries(n))e.append(t,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A1=10;function P1(n){var e,t,r;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let s=!1;for(const l of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(bf(l)){s=!0;break}if(!s)return!0;const o=(r=n==null?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function bf(n){return"callTool"in n&&typeof n.callTool=="function"}function R1(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x8 extends Ll{constructor(e){super(),this.apiClient=e,this.generateContent=t=>M(this,null,function*(){var r,s,o,l,u;const d=yield this.processParamsForMcpUsage(t);if(!s8(t)||P1(t.config))return yield this.generateContentInternal(d);if(o8(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,g;const y=ps(this.apiClient,d.contents),x=(o=(s=(r=d.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:A1;let w=0;for(;w<x&&(f=yield this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const C=f.candidates[0].content,S=[];for(const T of(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(bf(T)){const P=yield T.callTool(f.functionCalls);S.push(...P)}w++,g={role:"user",parts:S},d.contents=ps(this.apiClient,d.contents),d.contents.push(C),d.contents.push(g),R1(d.config)&&(y.push(C),y.push(g))}return R1(d.config)&&(f.automaticFunctionCallingHistory=y),f}),this.generateContentStream=t=>M(this,null,function*(){if(P1(t.config)){const r=yield this.processParamsForMcpUsage(t);return yield this.generateContentStreamInternal(r)}else return yield this.processAfcStream(t)}),this.generateImages=t=>M(this,null,function*(){return yield this.generateImagesInternal(t).then(r=>{var s;let o;const l=[];if(r!=null&&r.generatedImages)for(const d of r.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((s=d==null?void 0:d.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?o=d==null?void 0:d.safetyAttributes:l.push(d);let u;return o?u={generatedImages:l,positivePromptSafetyAttributes:o}:u={generatedImages:l},u})}),this.list=t=>M(this,null,function*(){var r;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((r=l.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new xh(Ml.PAGED_ITEM_MODELS,u=>this.listInternal(u),yield this.listInternal(l),l)}),this.editImage=t=>M(this,null,function*(){const r={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(r.referenceImages=t.referenceImages.map(s=>s.toReferenceImageAPI())),yield this.editImageInternal(r)}),this.upscaleImage=t=>M(this,null,function*(){let r={numberOfImages:1,mode:"upscale"};t.config&&(r=Object.assign(Object.assign({},r),t.config));const s={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:r};return yield this.upscaleImageInternal(s)})}processParamsForMcpUsage(e){return M(this,null,function*(){var t,r,s;const o=(t=e.config)===null||t===void 0?void 0:t.tools;if(!o)return e;const l=yield Promise.all(o.map(d=>M(null,null,function*(){return bf(d)?yield d.tool():d}))),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&XS(e.config.tools)){const d=(s=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&s!==void 0?s:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),eb(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u})}initAfcToolsMap(e){return M(this,null,function*(){var t,r,s;const o=new Map;for(const l of(r=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&r!==void 0?r:[])if(bf(l)){const u=l,d=yield u.tool();for(const f of(s=d.functionDeclarations)!==null&&s!==void 0?s:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o})}processAfcStream(e){return M(this,null,function*(){var t,r,s;const o=(s=(r=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&s!==void 0?s:A1;let l=!1,u=0;const d=yield this.initAfcToolsMap(e);return function(f,g,y){var x,w;return yl(this,arguments,function*(){for(var C,S,T,E;u<o;){l&&(u++,l=!1);const D=yield en(f.processParamsForMcpUsage(y)),O=yield en(f.generateContentStreamInternal(D)),L=[],V=[];try{for(var P=!0,I=(S=void 0,Hc(O)),A;A=yield en(I.next()),C=A.done,!C;P=!0){E=A.value,P=!1;const B=E;if(yield yield en(B),B.candidates&&(!((x=B.candidates[0])===null||x===void 0)&&x.content)){V.push(B.candidates[0].content);for(const ee of(w=B.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(u<o&&ee.functionCall){if(!ee.functionCall.name)throw new Error("Function call name was not returned by the model.");if(g.has(ee.functionCall.name)){const X=yield en(g.get(ee.functionCall.name).callTool([ee.functionCall]));L.push(...X)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${g.keys()}, mising tool: ${ee.functionCall.name}`)}}}}catch(B){S={error:B}}finally{try{!P&&!C&&(T=I.return)&&(yield en(T.call(I)))}finally{if(S)throw S.error}}if(L.length>0){l=!0;const B=new Nc;B.candidates=[{content:{role:"user",parts:L}}],yield yield en(B);const ee=[];ee.push(...V),ee.push({role:"user",parts:L});const X=ps(f.apiClient,y.contents).concat(ee);y.contents=X}else break}})}(this,d,e)})}generateContentInternal(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=E1(this.apiClient,e);return u=nt("{model}:generateContent",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>{const y=D1(this.apiClient,g),x=new Nc;return Object.assign(x,y),x})}else{const f=N1(this.apiClient,e);return u=nt("{model}:generateContent",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const y=M1(this.apiClient,g),x=new Nc;return Object.assign(x,y),x})}})}generateContentStreamInternal(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=E1(this.apiClient,e);u=nt("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f.config,delete f._url,delete f._query;const g=this.apiClient;return l=g.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(y){return yl(this,arguments,function*(){var x,w,C,S;try{for(var T=!0,E=Hc(y),P;P=yield en(E.next()),x=P.done,!x;T=!0){S=P.value,T=!1;const A=D1(g,yield en(S.json())),D=new Nc;Object.assign(D,A),yield yield en(D)}}catch(I){w={error:I}}finally{try{!T&&!x&&(C=E.return)&&(yield en(C.call(E)))}finally{if(w)throw w.error}}})})}else{const f=N1(this.apiClient,e);u=nt("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f.config,delete f._url,delete f._query;const g=this.apiClient;return l=g.requestStream({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(y){return yl(this,arguments,function*(){var x,w,C,S;try{for(var T=!0,E=Hc(y),P;P=yield en(E.next()),x=P.done,!x;T=!0){S=P.value,T=!1;const A=M1(g,yield en(S.json())),D=new Nc;Object.assign(D,A),yield yield en(D)}}catch(I){w={error:I}}finally{try{!T&&!x&&(C=E.return)&&(yield en(C.call(E)))}finally{if(w)throw w.error}}})})}})}embedContent(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=E6(this.apiClient,e);return u=nt("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>{const y=AU(this.apiClient,g),x=new a1;return Object.assign(x,y),x})}else{const f=V$(this.apiClient,e);return u=nt("{model}:batchEmbedContents",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const y=cU(this.apiClient,g),x=new a1;return Object.assign(x,y),x})}})}generateImagesInternal(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=D6(this.apiClient,e);return u=nt("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>{const y=RU(this.apiClient,g),x=new l1;return Object.assign(x,y),x})}else{const f=z$(this.apiClient,e);return u=nt("{model}:predict",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const y=fU(this.apiClient,g),x=new l1;return Object.assign(x,y),x})}})}editImageInternal(e){return M(this,null,function*(){var t,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=L6(this.apiClient,e);return o=nt("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const f=OU(this.apiClient,d),g=new V3;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")})}upscaleImageInternal(e){return M(this,null,function*(){var t,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=$6(this.apiClient,e);return o=nt("{model}:predict",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const f=LU(this.apiClient,d),g=new B3;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")})}get(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=U6(this.apiClient,e);return u=nt("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>Gg(this.apiClient,g))}else{const f=W$(this.apiClient,e);return u=nt("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>Hg(this.apiClient,g))}})}listInternal(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=B6(this.apiClient,e);return u=nt("{models_url}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>{const y=VU(this.apiClient,g),x=new c1;return Object.assign(x,y),x})}else{const f=G$(this.apiClient,e);return u=nt("{models_url}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const y=mU(this.apiClient,g),x=new c1;return Object.assign(x,y),x})}})}update(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=W6(this.apiClient,e);return u=nt("{model}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>Gg(this.apiClient,g))}else{const f=q$(this.apiClient,e);return u=nt("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>Hg(this.apiClient,g))}})}delete(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=H6(this.apiClient,e);return u=nt("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(()=>{const g=BU(),y=new u1;return Object.assign(y,g),y})}else{const f=K$(this.apiClient,e);return u=nt("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(()=>{const g=pU(),y=new u1;return Object.assign(y,g),y})}})}countTokens(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Y6(this.apiClient,e);return u=nt("{model}:countTokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>{const y=zU(this.apiClient,g),x=new d1;return Object.assign(x,y),x})}else{const f=Z$(this.apiClient,e);return u=nt("{model}:countTokens",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const y=gU(this.apiClient,g),x=new d1;return Object.assign(x,y),x})}})}computeTokens(e){return M(this,null,function*(){var t,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=q6(this.apiClient,e);return o=nt("{model}:computeTokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>{const f=WU(this.apiClient,d),g=new z3;return Object.assign(g,f),g})}else throw new Error("This method is only supported by the Vertex AI.")})}generateVideos(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=Z6(this.apiClient,e);return u=nt("{model}:predictLongRunning",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>qU(this.apiClient,g))}else{const f=e6(this.apiClient,e);return u=nt("{model}:predictLongRunning",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>wU(this.apiClient,g))}})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w8(n,e){const t={},r=m(e,["operationName"]);r!=null&&p(t,["_url","operationName"],r);const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function _8(n,e){const t={},r=m(e,["operationName"]);r!=null&&p(t,["_url","operationName"],r);const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function k8(n,e){const t={},r=m(e,["operationName"]);r!=null&&p(t,["operationName"],r);const s=m(e,["resourceName"]);s!=null&&p(t,["_url","resourceName"],s);const o=m(e,["config"]);return o!=null&&p(t,["config"],o),t}function C8(n,e){const t={},r=m(e,["video","uri"]);r!=null&&p(t,["uri"],r);const s=m(e,["video","encodedVideo"]);s!=null&&p(t,["videoBytes"],jo(n,s));const o=m(e,["encoding"]);return o!=null&&p(t,["mimeType"],o),t}function S8(n,e){const t={},r=m(e,["_self"]);return r!=null&&p(t,["video"],C8(n,r)),t}function b8(n,e){const t={},r=m(e,["generatedSamples"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>S8(n,u))),p(t,["generatedVideos"],l)}const s=m(e,["raiMediaFilteredCount"]);s!=null&&p(t,["raiMediaFilteredCount"],s);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&p(t,["raiMediaFilteredReasons"],o),t}function T8(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["name"],r);const s=m(e,["metadata"]);s!=null&&p(t,["metadata"],s);const o=m(e,["done"]);o!=null&&p(t,["done"],o);const l=m(e,["error"]);l!=null&&p(t,["error"],l);const u=m(e,["response","generateVideoResponse"]);return u!=null&&p(t,["response"],b8(n,u)),t}function N8(n,e){const t={},r=m(e,["gcsUri"]);r!=null&&p(t,["uri"],r);const s=m(e,["bytesBase64Encoded"]);s!=null&&p(t,["videoBytes"],jo(n,s));const o=m(e,["mimeType"]);return o!=null&&p(t,["mimeType"],o),t}function E8(n,e){const t={},r=m(e,["_self"]);return r!=null&&p(t,["video"],N8(n,r)),t}function M8(n,e){const t={},r=m(e,["videos"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>E8(n,u))),p(t,["generatedVideos"],l)}const s=m(e,["raiMediaFilteredCount"]);s!=null&&p(t,["raiMediaFilteredCount"],s);const o=m(e,["raiMediaFilteredReasons"]);return o!=null&&p(t,["raiMediaFilteredReasons"],o),t}function O1(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["name"],r);const s=m(e,["metadata"]);s!=null&&p(t,["metadata"],s);const o=m(e,["done"]);o!=null&&p(t,["done"],o);const l=m(e,["error"]);l!=null&&p(t,["error"],l);const u=m(e,["response"]);return u!=null&&p(t,["response"],M8(n,u)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class D8 extends Ll{constructor(e){super(),this.apiClient=e}getVideosOperation(e){return M(this,null,function*(){const t=e.operation,r=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=t.name.split("/operations/")[0];let o;return r&&"httpOptions"in r&&(o=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:s,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:t.name,config:r})})}getVideosOperationInternal(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=_8(this.apiClient,e);return u=nt("{operationName}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>O1(this.apiClient,g))}else{const f=w8(this.apiClient,e);return u=nt("{operationName}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>T8(this.apiClient,g))}})}fetchPredictVideosOperationInternal(e){return M(this,null,function*(){var t,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=k8(this.apiClient,e);return o=nt("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>O1(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I8(n,e){const t={},r=m(e,["voiceName"]);return r!=null&&p(t,["voiceName"],r),t}function tb(n,e){const t={},r=m(e,["prebuiltVoiceConfig"]);return r!=null&&p(t,["prebuiltVoiceConfig"],I8(n,r)),t}function j8(n,e){const t={},r=m(e,["speaker"]);r!=null&&p(t,["speaker"],r);const s=m(e,["voiceConfig"]);return s!=null&&p(t,["voiceConfig"],tb(n,s)),t}function A8(n,e){const t={},r=m(e,["speakerVoiceConfigs"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>j8(n,o))),p(t,["speakerVoiceConfigs"],s)}return t}function P8(n,e){const t={},r=m(e,["voiceConfig"]);r!=null&&p(t,["voiceConfig"],tb(n,r));const s=m(e,["multiSpeakerVoiceConfig"]);s!=null&&p(t,["multiSpeakerVoiceConfig"],A8(n,s));const o=m(e,["languageCode"]);return o!=null&&p(t,["languageCode"],o),t}function R8(n,e){const t={},r=m(e,["fps"]);r!=null&&p(t,["fps"],r);const s=m(e,["endOffset"]);s!=null&&p(t,["endOffset"],s);const o=m(e,["startOffset"]);return o!=null&&p(t,["startOffset"],o),t}function O8(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["data"]);r!=null&&p(t,["data"],r);const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function L8(n,e){const t={};if(m(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=m(e,["fileUri"]);r!=null&&p(t,["fileUri"],r);const s=m(e,["mimeType"]);return s!=null&&p(t,["mimeType"],s),t}function F8(n,e){const t={},r=m(e,["videoMetadata"]);r!=null&&p(t,["videoMetadata"],R8(n,r));const s=m(e,["thought"]);s!=null&&p(t,["thought"],s);const o=m(e,["inlineData"]);o!=null&&p(t,["inlineData"],O8(n,o));const l=m(e,["fileData"]);l!=null&&p(t,["fileData"],L8(n,l));const u=m(e,["thoughtSignature"]);u!=null&&p(t,["thoughtSignature"],u);const d=m(e,["codeExecutionResult"]);d!=null&&p(t,["codeExecutionResult"],d);const f=m(e,["executableCode"]);f!=null&&p(t,["executableCode"],f);const g=m(e,["functionCall"]);g!=null&&p(t,["functionCall"],g);const y=m(e,["functionResponse"]);y!=null&&p(t,["functionResponse"],y);const x=m(e,["text"]);return x!=null&&p(t,["text"],x),t}function $8(n,e){const t={},r=m(e,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(l=>F8(n,l))),p(t,["parts"],o)}const s=m(e,["role"]);return s!=null&&p(t,["role"],s),t}function U8(n,e){const t={},r=m(e,["behavior"]);r!=null&&p(t,["behavior"],r);const s=m(e,["description"]);s!=null&&p(t,["description"],s);const o=m(e,["name"]);o!=null&&p(t,["name"],o);const l=m(e,["parameters"]);l!=null&&p(t,["parameters"],l);const u=m(e,["response"]);return u!=null&&p(t,["response"],u),t}function V8(n,e){const t={},r=m(e,["startTime"]);r!=null&&p(t,["startTime"],r);const s=m(e,["endTime"]);return s!=null&&p(t,["endTime"],s),t}function B8(n,e){const t={},r=m(e,["timeRangeFilter"]);return r!=null&&p(t,["timeRangeFilter"],V8(n,r)),t}function z8(n,e){const t={},r=m(e,["mode"]);r!=null&&p(t,["mode"],r);const s=m(e,["dynamicThreshold"]);return s!=null&&p(t,["dynamicThreshold"],s),t}function W8(n,e){const t={},r=m(e,["dynamicRetrievalConfig"]);return r!=null&&p(t,["dynamicRetrievalConfig"],z8(n,r)),t}function H8(){return{}}function G8(n,e){const t={},r=m(e,["functionDeclarations"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(f=>U8(n,f))),p(t,["functionDeclarations"],d)}if(m(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=m(e,["googleSearch"]);s!=null&&p(t,["googleSearch"],B8(n,s));const o=m(e,["googleSearchRetrieval"]);if(o!=null&&p(t,["googleSearchRetrieval"],W8(n,o)),m(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(e,["urlContext"])!=null&&p(t,["urlContext"],H8());const u=m(e,["codeExecution"]);return u!=null&&p(t,["codeExecution"],u),t}function Y8(n,e){const t={},r=m(e,["handle"]);if(r!=null&&p(t,["handle"],r),m(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function L1(){return{}}function q8(n,e){const t={},r=m(e,["disabled"]);r!=null&&p(t,["disabled"],r);const s=m(e,["startOfSpeechSensitivity"]);s!=null&&p(t,["startOfSpeechSensitivity"],s);const o=m(e,["endOfSpeechSensitivity"]);o!=null&&p(t,["endOfSpeechSensitivity"],o);const l=m(e,["prefixPaddingMs"]);l!=null&&p(t,["prefixPaddingMs"],l);const u=m(e,["silenceDurationMs"]);return u!=null&&p(t,["silenceDurationMs"],u),t}function K8(n,e){const t={},r=m(e,["automaticActivityDetection"]);r!=null&&p(t,["automaticActivityDetection"],q8(n,r));const s=m(e,["activityHandling"]);s!=null&&p(t,["activityHandling"],s);const o=m(e,["turnCoverage"]);return o!=null&&p(t,["turnCoverage"],o),t}function J8(n,e){const t={},r=m(e,["targetTokens"]);return r!=null&&p(t,["targetTokens"],r),t}function Z8(n,e){const t={},r=m(e,["triggerTokens"]);r!=null&&p(t,["triggerTokens"],r);const s=m(e,["slidingWindow"]);return s!=null&&p(t,["slidingWindow"],J8(n,s)),t}function Q8(n,e){const t={},r=m(e,["proactiveAudio"]);return r!=null&&p(t,["proactiveAudio"],r),t}function X8(n,e,t){const r={},s=m(e,["generationConfig"]);t!==void 0&&s!=null&&p(t,["setup","generationConfig"],s);const o=m(e,["responseModalities"]);t!==void 0&&o!=null&&p(t,["setup","generationConfig","responseModalities"],o);const l=m(e,["temperature"]);t!==void 0&&l!=null&&p(t,["setup","generationConfig","temperature"],l);const u=m(e,["topP"]);t!==void 0&&u!=null&&p(t,["setup","generationConfig","topP"],u);const d=m(e,["topK"]);t!==void 0&&d!=null&&p(t,["setup","generationConfig","topK"],d);const f=m(e,["maxOutputTokens"]);t!==void 0&&f!=null&&p(t,["setup","generationConfig","maxOutputTokens"],f);const g=m(e,["mediaResolution"]);t!==void 0&&g!=null&&p(t,["setup","generationConfig","mediaResolution"],g);const y=m(e,["seed"]);t!==void 0&&y!=null&&p(t,["setup","generationConfig","seed"],y);const x=m(e,["speechConfig"]);t!==void 0&&x!=null&&p(t,["setup","generationConfig","speechConfig"],P8(n,Jy(n,x)));const w=m(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&p(t,["setup","generationConfig","enableAffectiveDialog"],w);const C=m(e,["systemInstruction"]);t!==void 0&&C!=null&&p(t,["setup","systemInstruction"],$8(n,ir(n,C)));const S=m(e,["tools"]);if(t!==void 0&&S!=null){let O=bu(n,S);Array.isArray(O)&&(O=O.map(L=>G8(n,Su(n,L)))),p(t,["setup","tools"],O)}const T=m(e,["sessionResumption"]);t!==void 0&&T!=null&&p(t,["setup","sessionResumption"],Y8(n,T));const E=m(e,["inputAudioTranscription"]);t!==void 0&&E!=null&&p(t,["setup","inputAudioTranscription"],L1());const P=m(e,["outputAudioTranscription"]);t!==void 0&&P!=null&&p(t,["setup","outputAudioTranscription"],L1());const I=m(e,["realtimeInputConfig"]);t!==void 0&&I!=null&&p(t,["setup","realtimeInputConfig"],K8(n,I));const A=m(e,["contextWindowCompression"]);t!==void 0&&A!=null&&p(t,["setup","contextWindowCompression"],Z8(n,A));const D=m(e,["proactivity"]);return t!==void 0&&D!=null&&p(t,["setup","proactivity"],Q8(n,D)),r}function eV(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["setup","model"],Zt(n,r));const s=m(e,["config"]);return s!=null&&p(t,["config"],X8(n,s,t)),t}function tV(n,e,t){const r={},s=m(e,["expireTime"]);t!==void 0&&s!=null&&p(t,["expireTime"],s);const o=m(e,["newSessionExpireTime"]);t!==void 0&&o!=null&&p(t,["newSessionExpireTime"],o);const l=m(e,["uses"]);t!==void 0&&l!=null&&p(t,["uses"],l);const u=m(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&p(t,["bidiGenerateContentSetup"],eV(n,u));const d=m(e,["lockAdditionalFields"]);return t!==void 0&&d!=null&&p(t,["fieldMask"],d),r}function nV(n,e){const t={},r=m(e,["config"]);return r!=null&&p(t,["config"],tV(n,r,t)),t}function rV(n,e){const t={},r=m(e,["name"]);return r!=null&&p(t,["name"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sV(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const r=n[t];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const s=Object.keys(r).map(o=>`${t}.${o}`);e.push(...s)}else e.push(t)}return e.join(",")}function oV(n,e){let t=null;const r=n.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(n.bidiGenerateContentSetup=o,t=o):delete n.bidiGenerateContentSetup}else r!==void 0&&delete n.bidiGenerateContentSetup;const s=n.fieldMask;if(t){const o=sV(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?n.fieldMask=o:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];s.length>0&&(u=s.map(f=>l.includes(f)?`generationConfig.${f}`:f));const d=[];o&&d.push(o),u.length>0&&d.push(...u),d.length>0?n.fieldMask=d.join(","):delete n.fieldMask}else delete n.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?n.fieldMask=s.join(","):delete n.fieldMask;return n}class iV extends Ll{constructor(e){super(),this.apiClient=e}create(e){return M(this,null,function*(){var t,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=nV(this.apiClient,e);o=nt("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=oV(u,e.config);return s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),s.then(f=>rV(this.apiClient,f))}})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aV(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["_url","name"],r);const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function lV(n,e,t){const r={},s=m(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const o=m(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const l=m(e,["filter"]);return t!==void 0&&l!=null&&p(t,["_query","filter"],l),r}function cV(n,e){const t={},r=m(e,["config"]);return r!=null&&p(t,["config"],lV(n,r,t)),t}function uV(n,e){const t={},r=m(e,["textInput"]);r!=null&&p(t,["textInput"],r);const s=m(e,["output"]);return s!=null&&p(t,["output"],s),t}function dV(n,e){const t={};if(m(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=m(e,["examples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(o=>uV(n,o))),p(t,["examples","examples"],s)}return t}function fV(n,e,t){const r={};if(m(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=m(e,["tunedModelDisplayName"]);if(t!==void 0&&s!=null&&p(t,["displayName"],s),m(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=m(e,["epochCount"]);t!==void 0&&o!=null&&p(t,["tuningTask","hyperparameters","epochCount"],o);const l=m(e,["learningRateMultiplier"]);if(l!=null&&p(r,["tuningTask","hyperparameters","learningRateMultiplier"],l),m(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=m(e,["batchSize"]);t!==void 0&&u!=null&&p(t,["tuningTask","hyperparameters","batchSize"],u);const d=m(e,["learningRate"]);return t!==void 0&&d!=null&&p(t,["tuningTask","hyperparameters","learningRate"],d),r}function hV(n,e){const t={},r=m(e,["baseModel"]);r!=null&&p(t,["baseModel"],r);const s=m(e,["trainingDataset"]);s!=null&&p(t,["tuningTask","trainingData"],dV(n,s));const o=m(e,["config"]);return o!=null&&p(t,["config"],fV(n,o,t)),t}function mV(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["_url","name"],r);const s=m(e,["config"]);return s!=null&&p(t,["config"],s),t}function pV(n,e,t){const r={},s=m(e,["pageSize"]);t!==void 0&&s!=null&&p(t,["_query","pageSize"],s);const o=m(e,["pageToken"]);t!==void 0&&o!=null&&p(t,["_query","pageToken"],o);const l=m(e,["filter"]);return t!==void 0&&l!=null&&p(t,["_query","filter"],l),r}function gV(n,e){const t={},r=m(e,["config"]);return r!=null&&p(t,["config"],pV(n,r,t)),t}function yV(n,e,t){const r={},s=m(e,["gcsUri"]);if(t!==void 0&&s!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],s),m(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function vV(n,e){const t={},r=m(e,["gcsUri"]);return r!=null&&p(t,["validationDatasetUri"],r),t}function xV(n,e,t){const r={},s=m(e,["validationDataset"]);t!==void 0&&s!=null&&p(t,["supervisedTuningSpec"],vV(n,s));const o=m(e,["tunedModelDisplayName"]);t!==void 0&&o!=null&&p(t,["tunedModelDisplayName"],o);const l=m(e,["description"]);t!==void 0&&l!=null&&p(t,["description"],l);const u=m(e,["epochCount"]);t!==void 0&&u!=null&&p(t,["supervisedTuningSpec","hyperParameters","epochCount"],u);const d=m(e,["learningRateMultiplier"]);t!==void 0&&d!=null&&p(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],d);const f=m(e,["exportLastCheckpointOnly"]);t!==void 0&&f!=null&&p(t,["supervisedTuningSpec","exportLastCheckpointOnly"],f);const g=m(e,["adapterSize"]);if(t!==void 0&&g!=null&&p(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g),m(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return r}function wV(n,e){const t={},r=m(e,["baseModel"]);r!=null&&p(t,["baseModel"],r);const s=m(e,["trainingDataset"]);s!=null&&p(t,["supervisedTuningSpec","trainingDatasetUri"],yV(n,s,t));const o=m(e,["config"]);return o!=null&&p(t,["config"],xV(n,o,t)),t}function _V(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["model"],r);const s=m(e,["name"]);return s!=null&&p(t,["endpoint"],s),t}function nb(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["name"],r);const s=m(e,["state"]);s!=null&&p(t,["state"],FS(n,s));const o=m(e,["createTime"]);o!=null&&p(t,["createTime"],o);const l=m(e,["tuningTask","startTime"]);l!=null&&p(t,["startTime"],l);const u=m(e,["tuningTask","completeTime"]);u!=null&&p(t,["endTime"],u);const d=m(e,["updateTime"]);d!=null&&p(t,["updateTime"],d);const f=m(e,["description"]);f!=null&&p(t,["description"],f);const g=m(e,["baseModel"]);g!=null&&p(t,["baseModel"],g);const y=m(e,["_self"]);y!=null&&p(t,["tunedModel"],_V(n,y));const x=m(e,["distillationSpec"]);x!=null&&p(t,["distillationSpec"],x);const w=m(e,["experiment"]);w!=null&&p(t,["experiment"],w);const C=m(e,["labels"]);C!=null&&p(t,["labels"],C);const S=m(e,["pipelineJob"]);S!=null&&p(t,["pipelineJob"],S);const T=m(e,["serviceAccount"]);T!=null&&p(t,["serviceAccount"],T);const E=m(e,["tunedModelDisplayName"]);return E!=null&&p(t,["tunedModelDisplayName"],E),t}function kV(n,e){const t={},r=m(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const s=m(e,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>nb(n,l))),p(t,["tuningJobs"],o)}return t}function CV(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["name"],r);const s=m(e,["metadata"]);s!=null&&p(t,["metadata"],s);const o=m(e,["done"]);o!=null&&p(t,["done"],o);const l=m(e,["error"]);return l!=null&&p(t,["error"],l),t}function SV(n,e){const t={},r=m(e,["checkpointId"]);r!=null&&p(t,["checkpointId"],r);const s=m(e,["epoch"]);s!=null&&p(t,["epoch"],s);const o=m(e,["step"]);o!=null&&p(t,["step"],o);const l=m(e,["endpoint"]);return l!=null&&p(t,["endpoint"],l),t}function bV(n,e){const t={},r=m(e,["model"]);r!=null&&p(t,["model"],r);const s=m(e,["endpoint"]);s!=null&&p(t,["endpoint"],s);const o=m(e,["checkpoints"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>SV(n,u))),p(t,["checkpoints"],l)}return t}function Kg(n,e){const t={},r=m(e,["name"]);r!=null&&p(t,["name"],r);const s=m(e,["state"]);s!=null&&p(t,["state"],FS(n,s));const o=m(e,["createTime"]);o!=null&&p(t,["createTime"],o);const l=m(e,["startTime"]);l!=null&&p(t,["startTime"],l);const u=m(e,["endTime"]);u!=null&&p(t,["endTime"],u);const d=m(e,["updateTime"]);d!=null&&p(t,["updateTime"],d);const f=m(e,["error"]);f!=null&&p(t,["error"],f);const g=m(e,["description"]);g!=null&&p(t,["description"],g);const y=m(e,["baseModel"]);y!=null&&p(t,["baseModel"],y);const x=m(e,["tunedModel"]);x!=null&&p(t,["tunedModel"],bV(n,x));const w=m(e,["supervisedTuningSpec"]);w!=null&&p(t,["supervisedTuningSpec"],w);const C=m(e,["tuningDataStats"]);C!=null&&p(t,["tuningDataStats"],C);const S=m(e,["encryptionSpec"]);S!=null&&p(t,["encryptionSpec"],S);const T=m(e,["partnerModelTuningSpec"]);T!=null&&p(t,["partnerModelTuningSpec"],T);const E=m(e,["distillationSpec"]);E!=null&&p(t,["distillationSpec"],E);const P=m(e,["experiment"]);P!=null&&p(t,["experiment"],P);const I=m(e,["labels"]);I!=null&&p(t,["labels"],I);const A=m(e,["pipelineJob"]);A!=null&&p(t,["pipelineJob"],A);const D=m(e,["serviceAccount"]);D!=null&&p(t,["serviceAccount"],D);const O=m(e,["tunedModelDisplayName"]);return O!=null&&p(t,["tunedModelDisplayName"],O),t}function TV(n,e){const t={},r=m(e,["nextPageToken"]);r!=null&&p(t,["nextPageToken"],r);const s=m(e,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(l=>Kg(n,l))),p(t,["tuningJobs"],o)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NV extends Ll{constructor(e){super(),this.apiClient=e,this.get=t=>M(this,null,function*(){return yield this.getInternal(t)}),this.list=(...r)=>M(this,[...r],function*(t={}){return new xh(Ml.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),yield this.listInternal(t),t)}),this.tune=t=>M(this,null,function*(){if(this.apiClient.isVertexAI())return yield this.tuneInternal(t);{const r=yield this.tuneMldevInternal(t);let s="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?s=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(s=r.name.split("/operations/")[0]),{name:s,state:Ug.JOB_STATE_QUEUED}}})}getInternal(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=mV(this.apiClient,e);return u=nt("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>Kg(this.apiClient,g))}else{const f=aV(this.apiClient,e);return u=nt("{name}",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>nb(this.apiClient,g))}})}listInternal(e){return M(this,null,function*(){var t,r,s,o;let l,u="",d={};if(this.apiClient.isVertexAI()){const f=gV(this.apiClient,e);return u=nt("tuningJobs",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>{const y=TV(this.apiClient,g),x=new f1;return Object.assign(x,y),x})}else{const f=cV(this.apiClient,e);return u=nt("tunedModels",f._url),d=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(s=e.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const y=kV(this.apiClient,g),x=new f1;return Object.assign(x,y),x})}})}tuneInternal(e){return M(this,null,function*(){var t,r;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=wV(this.apiClient,e);return o=nt("tuningJobs",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>Kg(this.apiClient,d))}else throw new Error("This method is only supported by the Vertex AI.")})}tuneMldevInternal(e){return M(this,null,function*(){var t,r;let s,o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hV(this.apiClient,e);return o=nt("tunedModels",u._url),l=u._query,delete u.config,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),s.then(d=>CV(this.apiClient,d))}})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EV{download(e,t){return M(this,null,function*(){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")})}}const MV=1024*1024*8,DV=3,IV=1e3,jV=2,qp="x-goog-upload-status";function AV(n,e,t){return M(this,null,function*(){var r,s,o;let l=0,u=0,d=new Vg(new Response),f="upload";for(l=n.size;u<l;){const y=Math.min(MV,l-u),x=n.slice(u,u+y);u+y>=l&&(f+=", finalize");let w=0,C=IV;for(;w<DV&&(d=yield t.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(y)}}}),!(!((r=d==null?void 0:d.headers)===null||r===void 0)&&r[qp]));)w++,yield RV(C),C=C*jV;if(u+=y,((s=d==null?void 0:d.headers)===null||s===void 0?void 0:s[qp])!=="active")break;if(l<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const g=yield d==null?void 0:d.json();if(((o=d==null?void 0:d.headers)===null||o===void 0?void 0:o[qp])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return g.file})}function PV(n){return M(this,null,function*(){return{size:n.size,type:n.type}})}function RV(n){return new Promise(e=>setTimeout(e,n))}class OV{upload(e,t,r){return M(this,null,function*(){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return yield AV(e,t,r)})}stat(e){return M(this,null,function*(){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return yield PV(e)})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LV{create(e,t,r){return new FV(e,t,r)}}class FV{constructor(e,t,r){this.url=e,this.headers=t,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F1="x-goog-api-key";class $V{constructor(e){this.apiKey=e}addAuthHeaders(e){return M(this,null,function*(){if(e.get(F1)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(F1,this.apiKey)}})}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const UV="gl-node/";class VV{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const r=U3(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const s=new $V(this.apiKey);this.apiClient=new n8({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:UV+"web",uploader:new OV,downloader:new EV}),this.models=new x8(this.apiClient),this.live=new m8(this.apiClient,s,new LV),this.chats=new hL(this.models,this.apiClient),this.caches=new uL(this.apiClient),this.files=new TL(this.apiClient),this.operations=new D8(this.apiClient),this.authTokens=new iV(this.apiClient),this.tunings=new NV(this.apiClient)}}const rb=6048e5,BV=864e5,zV=6e4,$1=Symbol.for("constructDateFrom");function bn(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&$1 in n?n[$1](e):n instanceof Date?new n.constructor(e):new Date(e)}function $t(n,e){return bn(e||n,n)}function xr(n,e,t){const r=$t(n,t==null?void 0:t.in);return isNaN(e)?bn(n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Gf(n,e,t){const r=$t(n,t==null?void 0:t.in);if(isNaN(e))return bn(n,NaN);if(!e)return r;const s=r.getDate(),o=bn(n,r.getTime());o.setMonth(r.getMonth()+e+1,0);const l=o.getDate();return s>=l?o:(r.setFullYear(o.getFullYear(),o.getMonth(),s),r)}let WV={};function Tu(){return WV}function ds(n,e){var u,d,f,g,y,x,w,C;const t=Tu(),r=(C=(w=(g=(f=e==null?void 0:e.weekStartsOn)!=null?f:(d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)!=null?g:t.weekStartsOn)!=null?w:(x=(y=t.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)!=null?C:0,s=$t(n,e==null?void 0:e.in),o=s.getDay(),l=(o<r?7:0)+o-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function iu(n,e){return ds(n,U(b({},e),{weekStartsOn:1}))}function sb(n,e){const t=$t(n,e==null?void 0:e.in),r=t.getFullYear(),s=bn(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=iu(s),l=bn(t,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const u=iu(l);return t.getTime()>=o.getTime()?r+1:t.getTime()>=u.getTime()?r:r-1}function U1(n){const e=$t(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function $l(n,...e){const t=bn.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function yi(n,e){const t=$t(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function ob(n,e,t){const[r,s]=$l(t==null?void 0:t.in,n,e),o=yi(r),l=yi(s),u=+o-U1(o),d=+l-U1(l);return Math.round((u-d)/BV)}function HV(n,e){const t=sb(n,e),r=bn(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),iu(r)}function V1(n,e,t){const r=$t(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*zV),r}function Oc(n,e,t){return xr(n,e*7,t)}function Jg(n,e,t){return Gf(n,e*12,t)}function GV(n,e){let t,r=e==null?void 0:e.in;return n.forEach(s=>{!r&&typeof s=="object"&&(r=bn.bind(null,s));const o=$t(s,r);(!t||t<o||isNaN(+o))&&(t=o)}),bn(r,t||NaN)}function YV(n,e){let t,r=e==null?void 0:e.in;return n.forEach(s=>{!r&&typeof s=="object"&&(r=bn.bind(null,s));const o=$t(s,r);(!t||t>o||isNaN(+o))&&(t=o)}),bn(r,t||NaN)}function qV(n){return bn(n,Date.now())}function Gc(n,e,t){const[r,s]=$l(t==null?void 0:t.in,n,e);return+yi(r)==+yi(s)}function ib(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function KV(n){return!(!ib(n)&&typeof n!="number"||isNaN(+$t(n)))}function JV(n,e,t){const[r,s]=$l(t==null?void 0:t.in,n,e),o=r.getFullYear()-s.getFullYear(),l=r.getMonth()-s.getMonth();return o*12+l}function B1(n,e){const t=$t(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function ZV(n,e){const t=$t(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function QV(n,e){const[t,r]=$l(n,e.start,e.end);return{start:t,end:r}}function XV(n,e){const{start:t,end:r}=QV(e==null?void 0:e.in,n);let s=+t>+r;const o=s?+t:+r,l=s?r:t;l.setHours(0,0,0,0),l.setDate(1);let u=1;const d=[];for(;+l<=o;)d.push(bn(t,l)),l.setMonth(l.getMonth()+u);return s?d.reverse():d}function eB(n,e){const t=$t(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function tB(n,e){const t=$t(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function ab(n,e){const t=$t(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function dl(n,e){var u,d,f,g,y,x,w,C;const t=Tu(),r=(C=(w=(g=(f=e==null?void 0:e.weekStartsOn)!=null?f:(d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)!=null?g:t.weekStartsOn)!=null?w:(x=(y=t.locale)==null?void 0:y.options)==null?void 0:x.weekStartsOn)!=null?C:0,s=$t(n,e==null?void 0:e.in),o=s.getDay(),l=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+l),s.setHours(23,59,59,999),s}function nB(n,e){return dl(n,U(b({},e),{weekStartsOn:1}))}const rB={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},sB=(n,e,t)=>{let r;const s=rB[n];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Kp(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const oB={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},iB={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aB={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lB={date:Kp({formats:oB,defaultWidth:"full"}),time:Kp({formats:iB,defaultWidth:"full"}),dateTime:Kp({formats:aB,defaultWidth:"full"})},cB={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uB=(n,e,t,r)=>cB[n];function Ec(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=t!=null&&t.width?String(t.width):l;s=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=t!=null&&t.width?String(t.width):n.defaultWidth;s=n.values[u]||n.values[l]}const o=n.argumentCallback?n.argumentCallback(e):e;return s[o]}}const dB={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},fB={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},hB={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},mB={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},pB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gB={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},yB=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},vB={ordinalNumber:yB,era:Ec({values:dB,defaultWidth:"wide"}),quarter:Ec({values:fB,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ec({values:hB,defaultWidth:"wide"}),day:Ec({values:mB,defaultWidth:"wide"}),dayPeriod:Ec({values:pB,defaultWidth:"wide",formattingValues:gB,defaultFormattingWidth:"wide"})};function Mc(n){return(e,t={})=>{const r=t.width,s=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],o=e.match(s);if(!o)return null;const l=o[0],u=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(u)?wB(u,y=>y.test(l)):xB(u,y=>y.test(l));let f;f=n.valueCallback?n.valueCallback(d):d,f=t.valueCallback?t.valueCallback(f):f;const g=e.slice(l.length);return{value:f,rest:g}}}function xB(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function wB(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function _B(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const s=r[0],o=e.match(n.parsePattern);if(!o)return null;let l=n.valueCallback?n.valueCallback(o[0]):o[0];l=t.valueCallback?t.valueCallback(l):l;const u=e.slice(s.length);return{value:l,rest:u}}}const kB=/^(\d+)(th|st|nd|rd)?/i,CB=/\d+/i,SB={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bB={any:[/^b/i,/^(a|c)/i]},TB={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NB={any:[/1/i,/2/i,/3/i,/4/i]},EB={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},MB={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},DB={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},IB={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jB={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AB={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PB={ordinalNumber:_B({matchPattern:kB,parsePattern:CB,valueCallback:n=>parseInt(n,10)}),era:Mc({matchPatterns:SB,defaultMatchWidth:"wide",parsePatterns:bB,defaultParseWidth:"any"}),quarter:Mc({matchPatterns:TB,defaultMatchWidth:"wide",parsePatterns:NB,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Mc({matchPatterns:EB,defaultMatchWidth:"wide",parsePatterns:MB,defaultParseWidth:"any"}),day:Mc({matchPatterns:DB,defaultMatchWidth:"wide",parsePatterns:IB,defaultParseWidth:"any"}),dayPeriod:Mc({matchPatterns:jB,defaultMatchWidth:"any",parsePatterns:AB,defaultParseWidth:"any"})},ev={code:"en-US",formatDistance:sB,formatLong:lB,formatRelative:uB,localize:vB,match:PB,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RB(n,e){const t=$t(n,e==null?void 0:e.in);return ob(t,ab(t))+1}function lb(n,e){const t=$t(n,e==null?void 0:e.in),r=+iu(t)-+HV(t);return Math.round(r/rb)+1}function cb(n,e){var g,y,x,w,C,S,T,E;const t=$t(n,e==null?void 0:e.in),r=t.getFullYear(),s=Tu(),o=(E=(T=(w=(x=e==null?void 0:e.firstWeekContainsDate)!=null?x:(y=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)!=null?w:s.firstWeekContainsDate)!=null?T:(S=(C=s.locale)==null?void 0:C.options)==null?void 0:S.firstWeekContainsDate)!=null?E:1,l=bn((e==null?void 0:e.in)||n,0);l.setFullYear(r+1,0,o),l.setHours(0,0,0,0);const u=ds(l,e),d=bn((e==null?void 0:e.in)||n,0);d.setFullYear(r,0,o),d.setHours(0,0,0,0);const f=ds(d,e);return+t>=+u?r+1:+t>=+f?r:r-1}function OB(n,e){var u,d,f,g,y,x,w,C;const t=Tu(),r=(C=(w=(g=(f=e==null?void 0:e.firstWeekContainsDate)!=null?f:(d=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)!=null?g:t.firstWeekContainsDate)!=null?w:(x=(y=t.locale)==null?void 0:y.options)==null?void 0:x.firstWeekContainsDate)!=null?C:1,s=cb(n,e),o=bn((e==null?void 0:e.in)||n,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),ds(o,e)}function ub(n,e){const t=$t(n,e==null?void 0:e.in),r=+ds(t,e)-+OB(t,e);return Math.round(r/rb)+1}function zt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const si={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return zt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):zt(t+1,2)},d(n,e){return zt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return zt(n.getHours()%12||12,e.length)},H(n,e){return zt(n.getHours(),e.length)},m(n,e){return zt(n.getMinutes(),e.length)},s(n,e){return zt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return zt(s,e.length)}},Ha={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},z1={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return si.y(n,e)},Y:function(n,e,t,r){const s=cb(n,r),o=s>0?s:1-s;if(e==="YY"){const l=o%100;return zt(l,2)}return e==="Yo"?t.ordinalNumber(o,{unit:"year"}):zt(o,e.length)},R:function(n,e){const t=sb(n);return zt(t,e.length)},u:function(n,e){const t=n.getFullYear();return zt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return zt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return zt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return si.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return zt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const s=ub(n,r);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):zt(s,e.length)},I:function(n,e,t){const r=lb(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):zt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):si.d(n,e)},D:function(n,e,t){const r=RB(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):zt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const s=n.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return zt(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const s=n.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return zt(o,e.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return zt(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const s=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let s;switch(r===12?s=Ha.noon:r===0?s=Ha.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let s;switch(r>=17?s=Ha.evening:r>=12?s=Ha.afternoon:r>=4?s=Ha.morning:s=Ha.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return si.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):si.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):zt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):zt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):si.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):si.s(n,e)},S:function(n,e){return si.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return H1(r);case"XXXX":case"XX":return Yi(r);case"XXXXX":case"XXX":default:return Yi(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return H1(r);case"xxxx":case"xx":return Yi(r);case"xxxxx":case"xxx":default:return Yi(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+W1(r,":");case"OOOO":default:return"GMT"+Yi(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+W1(r,":");case"zzzz":default:return"GMT"+Yi(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return zt(r,e.length)},T:function(n,e,t){return zt(+n,e.length)}};function W1(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=Math.trunc(r/60),o=r%60;return o===0?t+String(s):t+String(s)+e+zt(o,2)}function H1(n,e){return n%60===0?(n>0?"-":"+")+zt(Math.abs(n)/60,2):Yi(n,e)}function Yi(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),s=zt(Math.trunc(r/60),2),o=zt(r%60,2);return t+s+e+o}const G1=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},db=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},LB=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return G1(n,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",G1(r,e)).replace("{{time}}",db(s,e))},FB={p:db,P:LB},$B=/^D+$/,UB=/^Y+$/,VB=["D","DD","YY","YYYY"];function BB(n){return $B.test(n)}function zB(n){return UB.test(n)}function WB(n,e,t){const r=HB(n,e,t);if(console.warn(r),VB.includes(n))throw new RangeError(r)}function HB(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const GB=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,YB=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qB=/^'([^]*?)'?$/,KB=/''/g,JB=/[a-zA-Z]/;function Kn(n,e,t){var g,y,x,w,C,S,T,E,P,I,A,D,O,L,V,B,ee,X;const r=Tu(),s=(y=(g=t==null?void 0:t.locale)!=null?g:r.locale)!=null?y:ev,o=(I=(P=(S=(C=t==null?void 0:t.firstWeekContainsDate)!=null?C:(w=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)!=null?S:r.firstWeekContainsDate)!=null?P:(E=(T=r.locale)==null?void 0:T.options)==null?void 0:E.firstWeekContainsDate)!=null?I:1,l=(X=(ee=(L=(O=t==null?void 0:t.weekStartsOn)!=null?O:(D=(A=t==null?void 0:t.locale)==null?void 0:A.options)==null?void 0:D.weekStartsOn)!=null?L:r.weekStartsOn)!=null?ee:(B=(V=r.locale)==null?void 0:V.options)==null?void 0:B.weekStartsOn)!=null?X:0,u=$t(n,t==null?void 0:t.in);if(!KV(u))throw new RangeError("Invalid time value");let d=e.match(YB).map(se=>{const ce=se[0];if(ce==="p"||ce==="P"){const ke=FB[ce];return ke(se,s.formatLong)}return se}).join("").match(GB).map(se=>{if(se==="''")return{isToken:!1,value:"'"};const ce=se[0];if(ce==="'")return{isToken:!1,value:ZB(se)};if(z1[ce])return{isToken:!0,value:se};if(ce.match(JB))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ce+"`");return{isToken:!1,value:se}});s.localize.preprocessor&&(d=s.localize.preprocessor(u,d));const f={firstWeekContainsDate:o,weekStartsOn:l,locale:s};return d.map(se=>{if(!se.isToken)return se.value;const ce=se.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&zB(ce)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&BB(ce))&&WB(ce,e,String(n));const ke=z1[ce[0]];return ke(u,ce,s.localize,f)}).join("")}function ZB(n){const e=n.match(qB);return e?e[1].replace(KB,"'"):n}function QB(n,e){const t=$t(n,e==null?void 0:e.in),r=t.getFullYear(),s=t.getMonth(),o=bn(t,0);return o.setFullYear(r,s+1,0),o.setHours(0,0,0,0),o.getDate()}function XB(n,e){return $t(n,e==null?void 0:e.in).getMonth()}function e9(n,e){return $t(n,e==null?void 0:e.in).getFullYear()}function t9(n,e){return+$t(n)>+$t(e)}function n9(n,e){return+$t(n)<+$t(e)}function r9(n,e,t){const[r,s]=$l(t==null?void 0:t.in,n,e);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function s9(n,e,t){const[r,s]=$l(t==null?void 0:t.in,n,e);return r.getFullYear()===s.getFullYear()}function of(n,e){return Gc(bn(n,n),qV(n))}function o9(n,e,t){const r=$t(n,t==null?void 0:t.in),s=r.getFullYear(),o=r.getDate(),l=bn(n,0);l.setFullYear(s,e,15),l.setHours(0,0,0,0);const u=QB(l);return r.setMonth(e,Math.min(o,u)),r}function i9(n,e,t){const r=$t(n,t==null?void 0:t.in);return isNaN(+r)?bn(n,NaN):(r.setFullYear(e),r)}const fb=()=>{const n="AIzaSyDX3fyRDlS0kcZovIclZEzWalJCfmWswIA";return new VV({apiKey:n})},a9=n=>{const e=[];return n.workingHoursMondayEnabled&&e.push(`Monday: ${n.workingHoursMondayStart} - ${n.workingHoursMondayEnd}`),n.workingHoursTuesdayEnabled&&e.push(`Tuesday: ${n.workingHoursTuesdayStart} - ${n.workingHoursTuesdayEnd}`),n.workingHoursWednesdayEnabled&&e.push(`Wednesday: ${n.workingHoursWednesdayStart} - ${n.workingHoursWednesdayEnd}`),n.workingHoursThursdayEnabled&&e.push(`Thursday: ${n.workingHoursThursdayStart} - ${n.workingHoursThursdayEnd}`),n.workingHoursFridayEnabled&&e.push(`Friday: ${n.workingHoursFridayStart} - ${n.workingHoursFridayEnd}`),n.workingHoursSaturdayEnabled&&e.push(`Saturday: ${n.workingHoursSaturdayStart} - ${n.workingHoursSaturdayEnd}`),n.workingHoursSundayEnabled&&e.push(`Sunday: ${n.workingHoursSundayStart} - ${n.workingHoursSundayEnd}`),e.join(", ")},hb=n=>n.map(e=>{const t=[`ID: ${e.id}`,`Title: "${e.title}"`,`Current Status: ${e.status}`,`Priority: ${e.priority} (1=Low, 2=Medium, 3=High, 4=Critical)`,`Time Estimate: ${e.timeEstimate} minutes`,e.dueDate?`Due Date: ${e.dueDate}`:null,e.scheduledDate?`Currently Scheduled: ${e.scheduledDate}`:null,e.description?`Description: "${e.description}"`:null,e.category?`Category: ${e.category}`:null].filter(Boolean);return`Task ${e.id}: {${t.join(", ")}}`}).join(`
`),l9=n=>M(null,null,function*(){const{tasks:e,userPreferences:t,startDate:r,endDate:s,customInstructions:o}=n;if(!t.autoScheduleEnabled)throw new Error("AI scheduling is not enabled in user preferences");const l=e.filter(C=>C.timeEstimate===0);let u=[...e];if(l.length>0){console.log(`Auto-estimating time for ${l.length} tasks with 0 minutes...`);try{const C=yield mb(l,t);u=e.map(S=>S.timeEstimate===0&&C[S.id]?U(b({},S),{timeEstimate:C[S.id]}):S),console.log("Applied time estimates:",C)}catch(C){console.warn("Failed to auto-estimate times, proceeding with original estimates:",C)}}const d=fb(),f=r||Kn(new Date,"yyyy-MM-dd"),g=s||Kn(xr(new Date,t.schedulingLookaheadDays),"yyyy-MM-dd"),y=u.filter(C=>C.timeEstimate===0),x=y.length>0,w=`You are an intelligent task scheduling assistant for DayFlow, a productivity app. Please schedule the following tasks based on the user's preferences and constraints.

**USER PREFERENCES:**
- Working Hours: ${a9(t)}
- Max Daily Work Hours: ${t.maxDailyWorkHours} hours
- Buffer Time Between Tasks: ${t.bufferTimeBetweenTasks} minutes
- Min Task Chunk Size: ${t.minTaskChunkSize} minutes
- Max Task Chunk Size: ${t.maxTaskChunkSize} minutes
- Focus Time Minimum: ${t.focusTimeMinimumMinutes} minutes
- Context Switch Penalty: ${t.contextSwitchPenaltyMinutes} minutes
- Scheduling Style: ${t.aiSuggestionPreference}
- Allow Overtime: ${t.allowOvertimeScheduling}
- Deadline Buffer: ${t.deadlineBufferDays} days
- Priority Boost for Overdue: ${t.priorityBoostForOverdue}
- Respect Calendar Events: ${t.respectCalendarEvents}
- Auto Reschedule on Conflict: ${t.autoRescheduleOnConflict}

**SCHEDULING PERIOD:** ${f} to ${g}

**TASKS TO SCHEDULE:**
${hb(u)}

${x?`**IMPORTANT:** ${y.length} task(s) still have 0 minutes time estimates. You MUST provide realistic time estimates for these tasks based on their titles, descriptions, and complexity. Use the following guidelines based on the user's preference style:

- **Conservative (${t.aiSuggestionPreference==="conservative"?"ACTIVE":"inactive"})**: Provide higher estimates to ensure adequate time (add 20-30% buffer)
- **Balanced (${t.aiSuggestionPreference==="balanced"?"ACTIVE":"inactive"})**: Provide realistic estimates based on typical completion times
- **Aggressive (${t.aiSuggestionPreference==="aggressive"?"ACTIVE":"inactive"})**: Provide tighter estimates to maximize productivity (reduce by 10-15%)

Tasks requiring estimates: ${y.map(C=>`Task ${C.id} ("${C.title}")`).join(", ")}

`:""}${o?`**CUSTOM USER INSTRUCTIONS:**
${o}

`:""}**INSTRUCTIONS:**
1. **FIRST**: For any task with 0 minutes estimate, provide a realistic time estimate based on its title, description, and complexity
2. Schedule ALL tasks within the user's working hours and preferences
3. Consider task priorities and due dates
4. Break down large tasks if they exceed max chunk size
5. Add buffer time between tasks
6. Group similar tasks to minimize context switching
7. Optimize for the user's scheduling style (${t.aiSuggestionPreference})
8. Provide scheduling suggestions and insights

**RESPONSE FORMAT:**
Return a JSON object with this exact structure:
{
  "scheduledTasks": [
    {
      "id": number,
      "scheduledDate": "YYYY-MM-DDTHH:mm:ss.sssZ",
      "timeEstimate": number (in minutes - REQUIRED for all tasks, especially those with 0 estimate),
      "reasoning": "Brief explanation for scheduling decision and time estimate if updated"
    }
  ],
  "suggestions": [
    "List of helpful scheduling suggestions and insights"
  ],
  "conflictsResolved": number,
  "totalTimeScheduled": number (total minutes scheduled)
}

Only return the JSON object, no additional text or formatting.`;try{console.log("Sending AI scheduling request to Gemini...");const S=(yield d.models.generateContent({model:"gemini-2.5-flash",contents:w,config:{thinkingConfig:{thinkingBudget:0}}})).text;if(!S)throw new Error("Empty response from AI");console.log("Gemini response:",S);let T;try{const P=S.replace(/```json\n?|\n?```/g,"").trim();T=JSON.parse(P)}catch(P){throw console.error("Failed to parse AI response:",P),new Error("Invalid response format from AI")}return{scheduledTasks:u.map(P=>{const I=T.scheduledTasks.find(A=>A.id===P.id);return I?U(b({},P),{scheduledDate:I.scheduledDate,timeEstimate:I.timeEstimate||P.timeEstimate}):P}),suggestions:T.suggestions||[],conflictsResolved:T.conflictsResolved||0,totalTimeScheduled:T.totalTimeScheduled||0}}catch(C){throw console.error("AI scheduling error:",C),new Error(`Failed to schedule tasks with AI: ${C instanceof Error?C.message:"Unknown error"}`)}}),mb=(n,e)=>M(null,null,function*(){const t=fb(),r=n.filter(o=>o.timeEstimate===0||o.timeEstimate<5);if(r.length===0)return{};const s=`You are a time estimation expert. Please provide realistic time estimates for these tasks based on their complexity and description.

**TASKS REQUIRING ESTIMATES:**
${hb(r)}

**USER PREFERENCES:**
- Suggestion Style: ${e.aiSuggestionPreference}
- Minimum task chunk: ${e.minTaskChunkSize} minutes
- Maximum task chunk: ${e.maxTaskChunkSize} minutes

**ESTIMATION GUIDELINES:**
Based on the user's ${e.aiSuggestionPreference} preference style:

${e.aiSuggestionPreference==="conservative"?`- **CONSERVATIVE STYLE (ACTIVE)**: Provide generous estimates with built-in buffers
- Add 20-30% extra time to account for unexpected complications
- Prefer higher estimates to reduce stress and ensure quality
- Minimum estimates: Simple tasks 15-30 min, moderate tasks 45-90 min, complex tasks 2-4 hours`:e.aiSuggestionPreference==="balanced"?`- **BALANCED STYLE (ACTIVE)**: Provide realistic, well-calibrated estimates
- Use typical completion times for similar tasks
- Include moderate buffer for normal variations
- Minimum estimates: Simple tasks 10-20 min, moderate tasks 30-60 min, complex tasks 1-2 hours`:`- **AGGRESSIVE STYLE (ACTIVE)**: Provide tight, ambitious estimates
- Focus on efficiency and pushing productivity
- Minimal buffers, optimistic but achievable
- Minimum estimates: Simple tasks 5-15 min, moderate tasks 20-45 min, complex tasks 60-90 min`}

**INSTRUCTIONS:**
1. Analyze each task's title, description, and complexity
2. Consider typical time required for similar tasks
3. Apply the ${e.aiSuggestionPreference} estimation style
4. Ensure estimates are at least ${e.minTaskChunkSize} minutes
5. Break large estimates into chunks if they exceed ${e.maxTaskChunkSize} minutes

**RESPONSE FORMAT:**
Return a JSON object with task IDs as keys and time estimates (in minutes) as values:
{
  "1": 60,
  "2": 120,
  "3": 30
}

Only return the JSON object, no additional text.`;try{const l=(yield t.models.generateContent({model:"gemini-2.5-flash",contents:s,config:{thinkingConfig:{thinkingBudget:0}}})).text;if(!l)throw new Error("Empty response from AI");const u=l.replace(/```json\n?|\n?```/g,"").trim();return JSON.parse(u)}catch(o){throw console.error("AI time estimation error:",o),new Error(`Failed to get AI time estimates: ${o instanceof Error?o.message:"Unknown error"}`)}}),c9=n=>{let e;return n?e=n:typeof fetch=="undefined"?e=(...t)=>wi(()=>M(null,null,function*(){const{default:r}=yield Promise.resolve().then(()=>Ul);return{default:r}}),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class tv extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class u9 extends tv{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class d9 extends tv{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class f9 extends tv{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zg;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Zg||(Zg={}));var h9=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(g){try{f(r.next(g))}catch(y){l(y)}}function d(g){try{f(r.throw(g))}catch(y){l(y)}}function f(g){g.done?o(g.value):s(g.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};class m9{constructor(e,{headers:t={},customFetch:r,region:s=Zg.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=c9(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return h9(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:l}=t;let u={},{region:d}=t;d||(d=this.region),d&&d!=="any"&&(u["x-region"]=d);let f;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob!="undefined"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",f=l):typeof l=="string"?(u["Content-Type"]="text/plain",f=l):typeof FormData!="undefined"&&l instanceof FormData?f=l:(u["Content-Type"]="application/json",f=JSON.stringify(l)));const g=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:f}).catch(C=>{throw new u9(C)}),y=g.headers.get("x-relay-error");if(y&&y==="true")throw new d9(g);if(!g.ok)throw new f9(g);let x=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return x==="application/json"?w=yield g.json():x==="application/octet-stream"?w=yield g.blob():x==="text/event-stream"?w=g:x==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null}}catch(s){return{data:null,error:s}}})}}var Fn={},Ga={},Ya={},qa={},Ka={},Ja={},p9=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")},Dl=p9();const g9=Dl.fetch,pb=Dl.fetch.bind(Dl),gb=Dl.Headers,y9=Dl.Request,v9=Dl.Response,Ul=Object.freeze(Object.defineProperty({__proto__:null,Headers:gb,Request:y9,Response:v9,default:pb,fetch:g9},Symbol.toStringTag,{value:"Module"})),x9=JM(Ul);var af={},Y1;function yb(){if(Y1)return af;Y1=1,Object.defineProperty(af,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return af.default=n,af}var q1;function vb(){if(q1)return Ja;q1=1;var n=Ja&&Ja.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ja,"__esModule",{value:!0});const e=n(x9),t=n(yb());class r{constructor(o){this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=o.headers,this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=o.shouldThrowOnError,this.signal=o.signal,this.isMaybeSingle=o.isMaybeSingle,o.fetch?this.fetch=o.fetch:typeof fetch=="undefined"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=Object.assign({},this.headers),this.headers[o]=l,this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const u=this.fetch;let d=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(f=>M(this,null,function*(){var g,y,x;let w=null,C=null,S=null,T=f.status,E=f.statusText;if(f.ok){if(this.method!=="HEAD"){const D=yield f.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?C=D:C=JSON.parse(D))}const I=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),A=(y=f.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");I&&A&&A.length>1&&(S=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(w={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,S=null,T=406,E="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const I=yield f.text();try{w=JSON.parse(I),Array.isArray(w)&&f.status===404&&(C=[],w=null,T=200,E="OK")}catch(A){f.status===404&&I===""?(T=204,E="No Content"):w={message:I}}if(w&&this.isMaybeSingle&&(!((x=w==null?void 0:w.details)===null||x===void 0)&&x.includes("0 rows"))&&(w=null,T=200,E="OK"),w&&this.shouldThrowOnError)throw new t.default(w)}return{error:w,data:C,count:S,status:T,statusText:E}}));return this.shouldThrowOnError||(d=d.catch(f=>{var g,y,x;return{error:{message:`${(g=f==null?void 0:f.name)!==null&&g!==void 0?g:"FetchError"}: ${f==null?void 0:f.message}`,details:`${(y=f==null?void 0:f.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(x=f==null?void 0:f.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),d.then(o,l)}returns(){return this}overrideTypes(){return this}}return Ja.default=r,Ja}var K1;function xb(){if(K1)return Ka;K1=1;var n=Ka&&Ka.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ka,"__esModule",{value:!0});const e=n(vb());class t extends e.default{select(s){let o=!1;const l=(s!=null?s:"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(s,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:d=u}={}){const f=d?`${d}.order`:"order",g=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${g?`${g},`:""}${s}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l=="undefined"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,o,{foreignTable:l,referencedTable:u=l}={}){const d=typeof u=="undefined"?"offset":`${u}.offset`,f=typeof u=="undefined"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(f,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:s=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:d=!1,format:f="text"}={}){var g;const y=[s?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,d?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${f}; for="${x}"; options=${y};`,f==="json"?this:this}rollback(){var s;return((s=this.headers.Prefer)!==null&&s!==void 0?s:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ka.default=t,Ka}var J1;function nv(){if(J1)return qa;J1=1;var n=qa&&qa.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(qa,"__esModule",{value:!0});const e=n(xb());class t extends e.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const l=Array.from(new Set(o)).map(u=>typeof u=="string"&&new RegExp("[,()]").test(u)?`"${u}"`:`${u}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:l,type:u}={}){let d="";u==="plain"?d="pl":u==="phrase"?d="ph":u==="websearch"&&(d="w");const f=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${d}fts${f}.${o}`),this}match(s){return Object.entries(s).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(s,o,l){return this.url.searchParams.append(s,`not.${o}.${l}`),this}or(s,{foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.or`:"or";return this.url.searchParams.append(u,`(${s})`),this}filter(s,o,l){return this.url.searchParams.append(s,`${o}.${l}`),this}}return qa.default=t,qa}var Z1;function wb(){if(Z1)return Ya;Z1=1;var n=Ya&&Ya.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ya,"__esModule",{value:!0});const e=n(nv());class t{constructor(s,{headers:o={},schema:l,fetch:u}){this.url=s,this.headers=o,this.schema=l,this.fetch=u}select(s,{head:o=!1,count:l}={}){const u=o?"HEAD":"GET";let d=!1;const f=(s!=null?s:"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join("");return this.url.searchParams.set("select",f),l&&(this.headers.Prefer=`count=${l}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(s,{count:o,defaultToNull:l=!0}={}){const u="POST",d=[];if(this.headers.Prefer&&d.push(this.headers.Prefer),o&&d.push(`count=${o}`),l||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(s)){const f=s.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(f.length>0){const g=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}upsert(s,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:d=!0}={}){const f="POST",g=[`resolution=${l?"ignore":"merge"}-duplicates`];if(o!==void 0&&this.url.searchParams.set("on_conflict",o),this.headers.Prefer&&g.push(this.headers.Prefer),u&&g.push(`count=${u}`),d||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(s)){const y=s.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(y.length>0){const x=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}update(s,{count:o}={}){const l="PATCH",u=[];return this.headers.Prefer&&u.push(this.headers.Prefer),o&&u.push(`count=${o}`),this.headers.Prefer=u.join(","),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:this.fetch,allowEmpty:!1})}delete({count:s}={}){const o="DELETE",l=[];return s&&l.push(`count=${s}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ya.default=t,Ya}var Dc={},Ic={},Q1;function w9(){return Q1||(Q1=1,Object.defineProperty(Ic,"__esModule",{value:!0}),Ic.version=void 0,Ic.version="0.0.0-automated"),Ic}var X1;function _9(){if(X1)return Dc;X1=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.DEFAULT_HEADERS=void 0;const n=w9();return Dc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Dc}var ek;function k9(){if(ek)return Ga;ek=1;var n=Ga&&Ga.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Ga,"__esModule",{value:!0});const e=n(wb()),t=n(nv()),r=_9();class s{constructor(l,{headers:u={},schema:d,fetch:f}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),u),this.schemaName=d,this.fetch=f}from(l){const u=new URL(`${this.url}/${l}`);return new e.default(u,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new s(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,u={},{head:d=!1,get:f=!1,count:g}={}){let y;const x=new URL(`${this.url}/rpc/${l}`);let w;d||f?(y=d?"HEAD":"GET",Object.entries(u).filter(([S,T])=>T!==void 0).map(([S,T])=>[S,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([S,T])=>{x.searchParams.append(S,T)})):(y="POST",w=u);const C=Object.assign({},this.headers);return g&&(C.Prefer=`count=${g}`),new t.default({method:y,url:x,headers:C,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Ga.default=s,Ga}var tk;function C9(){if(tk)return Fn;tk=1;var n=Fn&&Fn.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.PostgrestError=Fn.PostgrestBuilder=Fn.PostgrestTransformBuilder=Fn.PostgrestFilterBuilder=Fn.PostgrestQueryBuilder=Fn.PostgrestClient=void 0;const e=n(k9());Fn.PostgrestClient=e.default;const t=n(wb());Fn.PostgrestQueryBuilder=t.default;const r=n(nv());Fn.PostgrestFilterBuilder=r.default;const s=n(xb());Fn.PostgrestTransformBuilder=s.default;const o=n(vb());Fn.PostgrestBuilder=o.default;const l=n(yb());return Fn.PostgrestError=l.default,Fn.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:l.default},Fn}var S9=C9();const b9=rh(S9),{PostgrestClient:T9,PostgrestQueryBuilder:FQ,PostgrestFilterBuilder:$Q,PostgrestTransformBuilder:UQ,PostgrestBuilder:VQ,PostgrestError:BQ}=b9;let Qg;typeof window=="undefined"?Qg=require("ws"):Qg=window.WebSocket;const N9="2.11.10",E9={"X-Client-Info":`realtime-js/${N9}`},M9="1.0.0",_b=1e4,D9=1e3;var vl;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(vl||(vl={}));var sr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(sr||(sr={}));var is;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(is||(is={}));var Xg;(function(n){n.websocket="websocket"})(Xg||(Xg={}));var Ji;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ji||(Ji={}));class I9{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),o=t.getUint8(2);let l=this.HEADER_LENGTH+2;const u=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+o));l=l+o;const f=JSON.parse(r.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:d,payload:f}}}class kb{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Jt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Jt||(Jt={}));const nk=(n,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,l)=>(o[l]=j9(l,n,e,s),o),{})},j9=(n,e,t,r)=>{const s=e.find(u=>u.name===n),o=s==null?void 0:s.type,l=t[n];return o&&!r.includes(o)?Cb(o,l):ey(l)},Cb=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return O9(e,t)}switch(n){case Jt.bool:return A9(e);case Jt.float4:case Jt.float8:case Jt.int2:case Jt.int4:case Jt.int8:case Jt.numeric:case Jt.oid:return P9(e);case Jt.json:case Jt.jsonb:return R9(e);case Jt.timestamp:return L9(e);case Jt.abstime:case Jt.date:case Jt.daterange:case Jt.int4range:case Jt.int8range:case Jt.money:case Jt.reltime:case Jt.text:case Jt.time:case Jt.timestamptz:case Jt.timetz:case Jt.tsrange:case Jt.tstzrange:return ey(e);default:return ey(e)}},ey=n=>n,A9=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},P9=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},R9=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},O9=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let o;const l=n.slice(1,t);try{o=JSON.parse("["+l+"]")}catch(u){o=l?l.split(","):[]}return o.map(u=>Cb(e,u))}return n},L9=n=>typeof n=="string"?n.replace(" ","T"):n,Sb=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Jp{constructor(e,t,r={},s=_b){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var rk;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(rk||(rk={}));class Yc{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yc.syncState(this.state,s,o,l),this.pendingDiffs.forEach(d=>{this.state=Yc.syncDiff(this.state,d,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Yc.syncDiff(this.state,s,o,l),u())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const o=this.cloneDeep(e),l=this.transformState(t),u={},d={};return this.map(o,(f,g)=>{l[f]||(d[f]=g)}),this.map(l,(f,g)=>{const y=o[f];if(y){const x=g.map(T=>T.presence_ref),w=y.map(T=>T.presence_ref),C=g.filter(T=>w.indexOf(T.presence_ref)<0),S=y.filter(T=>x.indexOf(T.presence_ref)<0);C.length>0&&(u[f]=C),S.length>0&&(d[f]=S)}else u[f]=g}),this.syncDiff(o,{joins:u,leaves:d},r,s)}static syncDiff(e,t,r,s){const{joins:o,leaves:l}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(u,d)=>{var f;const g=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(d),g.length>0){const y=e[u].map(w=>w.presence_ref),x=g.filter(w=>y.indexOf(w.presence_ref)<0);e[u].unshift(...x)}r(u,g,d)}),this.map(l,(u,d)=>{let f=e[u];if(!f)return;const g=d.map(y=>y.presence_ref);f=f.filter(y=>g.indexOf(y.presence_ref)<0),e[u]=f,s(u,f,d),f.length===0&&delete e[u]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sk;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(sk||(sk={}));var ok;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ok||(ok={}));var fo;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(fo||(fo={}));class rv{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Jp(this,is.join,this.params,this.timeout),this.rejoinTimer=new kb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sr.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(is.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Yc(this),this.broadcastEndpointURL=Sb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:l,private:u}}=this.params;this._onError(g=>e==null?void 0:e(fo.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(fo.CLOSED));const d={},f={broadcast:o,presence:l,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&s!==void 0?s:[],private:u};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",y=>M(this,[y],function*({postgres_changes:g}){var x;if(this.socket.setAuth(),g===void 0){e==null||e(fo.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,C=(x=w==null?void 0:w.length)!==null&&x!==void 0?x:0,S=[];for(let T=0;T<C;T++){const E=w[T],{filter:{event:P,schema:I,table:A,filter:D}}=E,O=g&&g[T];if(O&&O.event===P&&O.schema===I&&O.table===A&&O.filter===D)S.push(Object.assign(Object.assign({},E),{id:O.id}));else{this.unsubscribe(),this.state=sr.errored,e==null||e(fo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(fo.SUBSCRIBED);return}})).receive("error",g=>{this.state=sr.errored,e==null||e(fo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(fo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return M(this,arguments,function*(e,t={}){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(){return M(this,arguments,function*(e={}){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(r){return M(this,arguments,function*(e,t={}){var s,o;if(!this._canPush()&&e.type==="broadcast"){const{event:l,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:u,private:this.private}]})};try{const g=yield this._fetchWithTimeout(this.broadcastEndpointURL,f,(s=t.timeout)!==null&&s!==void 0?s:this.timeout);return yield(o=g.body)===null||o===void 0?void 0:o.cancel(),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var u,d,f;const g=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=sr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(is.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new Jp(this,is.leave,{},e);s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(e,t,r){return M(this,null,function*(){const s=new AbortController,o=setTimeout(()=>s.abort(),r),l=yield this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(o),l})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Jp(this,e,t,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,o;const l=e.toLocaleLowerCase(),{close:u,error:d,leave:f,join:g}=is;if(r&&[u,d,f,g].indexOf(l)>=0&&r!==this._joinRef())return;let x=this._onMessage(l,t,r);if(t&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(w=>{var C,S,T;return((C=w.filter)===null||C===void 0?void 0:C.event)==="*"||((T=(S=w.filter)===null||S===void 0?void 0:S.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===l}).map(w=>w.callback(x,r)):(o=this.bindings[l])===null||o===void 0||o.filter(w=>{var C,S,T,E,P,I;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in w){const A=w.id,D=(C=w.filter)===null||C===void 0?void 0:C.event;return A&&((S=t.ids)===null||S===void 0?void 0:S.includes(A))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((T=t.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const A=(P=(E=w==null?void 0:w.filter)===null||E===void 0?void 0:E.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return A==="*"||A===((I=t==null?void 0:t.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===l}).map(w=>{if(typeof x=="object"&&"ids"in x){const C=x.data,{schema:S,table:T,commit_timestamp:E,type:P,errors:I}=C;x=Object.assign(Object.assign({},{schema:S,table:T,commit_timestamp:E,eventType:P,new:{},old:{},errors:I}),this._getPayloadRecords(C))}w.callback(x,r)})}_isClosed(){return this.state===sr.closed}_isJoined(){return this.state===sr.joined}_isJoining(){return this.state===sr.joining}_isLeaving(){return this.state===sr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),o={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&rv.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(is.close,{},e)}_onError(e){this._on(is.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=nk(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=nk(e.columns,e.old_record)),t}}const ik=()=>{},F9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class $9{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=E9,this.params={},this.timeout=_b,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ik,this.ref=0,this.logger=ik,this.conn=null,this.sendBuffer=[],this.serializer=new I9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let l;return o?l=o:typeof fetch=="undefined"?l=(...u)=>wi(()=>M(this,null,function*(){const{default:d}=yield Promise.resolve().then(()=>Ul);return{default:d}}),void 0).then(({default:d})=>d(...u)):l=fetch,(...u)=>l(...u)},this.endPoint=`${e}/${Xg.websocket}`,this.httpEndpoint=Sb(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(o,l)=>l(JSON.stringify(o)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new kb(()=>M(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window!="undefined"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Qg),this.transport){typeof window!="undefined"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new U9(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:M9}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t!=null?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(e){return M(this,null,function*(){const t=yield e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return M(this,null,function*(){const e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case vl.connecting:return Ji.Connecting;case vl.open:return Ji.Open;case vl.closing:return Ji.Closing;default:return Ji.Closed}}isConnected(){return this.connectionState()===Ji.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new rv(`realtime:${e}`,t,this);return this.channels.push(o),o}}push(e){const{topic:t,event:r,payload:s,ref:o}=e,l=()=>{this.encode(e,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${t} ${r} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}setAuth(e=null){return M(this,null,function*(){let t=e||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{t&&r.updateJoinPayload({access_token:t,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(is.access_token,{access_token:t})}))})}sendHeartbeat(){return M(this,null,function*(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(D9,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:s,payload:o,ref:l}=t;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${l&&"("+l+")"||""}`,o),Array.from(this.channels).filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,l)),this.stateChangeCallbacks.message.forEach(u=>u(t))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(is.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([F9],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class U9{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=vl.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class sv extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function $n(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class V9 extends sv{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ty extends sv{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var B9=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(g){try{f(r.next(g))}catch(y){l(y)}}function d(g){try{f(r.throw(g))}catch(y){l(y)}}function f(g){g.done?o(g.value):s(g.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};const bb=n=>{let e;return n?e=n:typeof fetch=="undefined"?e=(...t)=>wi(()=>M(null,null,function*(){const{default:r}=yield Promise.resolve().then(()=>Ul);return{default:r}}),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},z9=()=>B9(void 0,void 0,void 0,function*(){return typeof Response=="undefined"?(yield wi(()=>Promise.resolve().then(()=>Ul),void 0)).Response:Response}),ny=n=>{if(Array.isArray(n))return n.map(t=>ny(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const s=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=ny(r)}),e};var da=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(g){try{f(r.next(g))}catch(y){l(y)}}function d(g){try{f(r.throw(g))}catch(y){l(y)}}function f(g){g.done?o(g.value):s(g.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};const Zp=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),W9=(n,e,t)=>da(void 0,void 0,void 0,function*(){const r=yield z9();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(s=>{e(new V9(Zp(s),n.status||500))}).catch(s=>{e(new ty(Zp(s),s))}):e(new ty(Zp(n),n))}),H9=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),t))};function Nu(n,e,t,r,s,o){return da(this,void 0,void 0,function*(){return new Promise((l,u)=>{n(t,H9(e,r,s,o)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>W9(d,u,r))})})}function Yf(n,e,t,r){return da(this,void 0,void 0,function*(){return Nu(n,"GET",e,t,r)})}function li(n,e,t,r,s){return da(this,void 0,void 0,function*(){return Nu(n,"POST",e,r,s,t)})}function G9(n,e,t,r,s){return da(this,void 0,void 0,function*(){return Nu(n,"PUT",e,r,s,t)})}function Y9(n,e,t,r){return da(this,void 0,void 0,function*(){return Nu(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Tb(n,e,t,r,s){return da(this,void 0,void 0,function*(){return Nu(n,"DELETE",e,r,s,t)})}var yr=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(g){try{f(r.next(g))}catch(y){l(y)}}function d(g){try{f(r.throw(g))}catch(y){l(y)}}function f(g){g.done?o(g.value):s(g.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};const q9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ak={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class K9{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=bb(s)}uploadOrUpdate(e,t,r,s){return yr(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},ak),s);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob!="undefined"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d)),o.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(o=r,o.append("cacheControl",l.cacheControl),d&&o.append("metadata",this.encodeMetadata(d))):(o=r,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const f=this._removeEmptyFolders(t),g=this._getFinalPath(f),y=yield this.fetch(`${this.url}/object/${g}`,Object.assign({method:e,body:o,headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{})),x=yield y.json();return y.ok?{data:{path:f,id:x.Id,fullPath:x.Key},error:null}:{data:null,error:x}}catch(o){if($n(o))return{data:null,error:o};throw o}})}upload(e,t,r){return yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return yr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",t);try{let d;const f=Object.assign({upsert:ak.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob!="undefined"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData!="undefined"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,g["cache-control"]=`max-age=${f.cacheControl}`,g["content-type"]=f.contentType);const y=yield this.fetch(u.toString(),{method:"PUT",body:d,headers:g}),x=yield y.json();return y.ok?{data:{path:o,fullPath:x.Key},error:null}:{data:null,error:x}}catch(d){if($n(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,t){return yr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=yield li(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new sv("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}update(e,t,r){return yr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return yr(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if($n(s))return{data:null,error:s};throw s}})}copy(e,t,r){return yr(this,void 0,void 0,function*(){try{return{data:{path:(yield li(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if($n(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,r){return yr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield li(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if($n(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return yr(this,void 0,void 0,function*(){try{const s=yield li(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if($n(s))return{data:null,error:s};throw s}})}download(e,t){return yr(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)!="undefined"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=o?`?${o}`:"";try{const u=this._getFinalPath(e);return{data:yield(yield Yf(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if($n(u))return{data:null,error:u};throw u}})}info(e){return yr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield Yf(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ny(r),error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}exists(e){return yr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Y9(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if($n(r)&&r instanceof ty){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&s.push(o);const u=typeof(t==null?void 0:t.transform)!="undefined"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&s.push(d);let f=s.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(e){return yr(this,void 0,void 0,function*(){try{return{data:yield Tb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if($n(t))return{data:null,error:t};throw t}})}list(e,t,r){return yr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},q9),t),{prefix:e||""});return{data:yield li(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if($n(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer!="undefined"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const J9="2.7.1",Z9={"X-Client-Info":`storage-js/${J9}`};var Za=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(g){try{f(r.next(g))}catch(y){l(y)}}function d(g){try{f(r.throw(g))}catch(y){l(y)}}function f(g){g.done?o(g.value):s(g.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};class Q9{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},Z9),t),this.fetch=bb(r)}listBuckets(){return Za(this,void 0,void 0,function*(){try{return{data:yield Yf(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if($n(e))return{data:null,error:e};throw e}})}getBucket(e){return Za(this,void 0,void 0,function*(){try{return{data:yield Yf(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if($n(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Za(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Za(this,void 0,void 0,function*(){try{return{data:yield G9(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if($n(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Za(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if($n(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Za(this,void 0,void 0,function*(){try{return{data:yield Tb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if($n(t))return{data:null,error:t};throw t}})}}class X9 extends Q9{constructor(e,t={},r){super(e,t,r)}from(e){return new K9(this.url,this.headers,e,this.fetch)}}const ez="2.50.0";let Lc="";typeof Deno!="undefined"?Lc="deno":typeof document!="undefined"?Lc="web":typeof navigator!="undefined"&&navigator.product==="ReactNative"?Lc="react-native":Lc="node";const tz={"X-Client-Info":`supabase-js-${Lc}/${ez}`},nz={headers:tz},rz={schema:"public"},sz={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oz={};var iz=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(g){try{f(r.next(g))}catch(y){l(y)}}function d(g){try{f(r.throw(g))}catch(y){l(y)}}function f(g){g.done?o(g.value):s(g.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};const az=n=>{let e;return n?e=n:typeof fetch=="undefined"?e=pb:e=fetch,(...t)=>e(...t)},lz=()=>typeof Headers=="undefined"?gb:Headers,cz=(n,e,t)=>{const r=az(t),s=lz();return(o,l)=>iz(void 0,void 0,void 0,function*(){var u;const d=(u=yield e())!==null&&u!==void 0?u:n;let f=new s(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",n),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(o,Object.assign(Object.assign({},l),{headers:f}))})};var uz=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(g){try{f(r.next(g))}catch(y){l(y)}}function d(g){try{f(r.throw(g))}catch(y){l(y)}}function f(g){g.done?o(g.value):s(g.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};function dz(n){return n.endsWith("/")?n:n+"/"}function fz(n,e){var t,r;const{db:s,auth:o,realtime:l,global:u}=n,{db:d,auth:f,realtime:g,global:y}=e,x={db:Object.assign(Object.assign({},d),s),auth:Object.assign(Object.assign({},f),o),realtime:Object.assign(Object.assign({},g),l),global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>uz(this,void 0,void 0,function*(){return""})};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}const Nb="2.70.0",ol=30*1e3,ry=3,Qp=ry*ol,hz="http://localhost:9999",mz="supabase.auth.token",pz={"X-Client-Info":`gotrue-js/${Nb}`},sy="X-Supabase-Api-Version",Eb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gz=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yz=6e5;class ov extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ct(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class vz extends ov{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function xz(n){return ct(n)&&n.name==="AuthApiError"}class Mb extends ov{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ti extends ov{constructor(e,t,r,s){super(e,r,s),this.name=t,this.status=r}}class ii extends Ti{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wz(n){return ct(n)&&n.name==="AuthSessionMissingError"}class lf extends Ti{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cf extends Ti{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class uf extends Ti{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _z(n){return ct(n)&&n.name==="AuthImplicitGrantRedirectError"}class lk extends Ti{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oy extends Ti{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Xp(n){return ct(n)&&n.name==="AuthRetryableFetchError"}class ck extends Ti{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class qc extends Ti{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const qf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uk=` 	
\r=`.split(""),kz=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<uk.length;e+=1)n[uk[e].charCodeAt(0)]=-2;for(let e=0;e<qf.length;e+=1)n[qf[e].charCodeAt(0)]=e;return n})();function dk(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(qf[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(qf[r]),e.queuedBits-=6}}function Db(n,e,t){const r=kz[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function fk(n){const e=[],t=l=>{e.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{bz(l,r,t)};for(let l=0;l<n.length;l+=1)Db(n.charCodeAt(l),s,o);return e.join("")}function Cz(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Sz(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}Cz(r,e)}}function bz(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function Tz(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<n.length;s+=1)Db(n.charCodeAt(s),t,r);return new Uint8Array(e)}function Nz(n){const e=[];return Sz(n,t=>e.push(t)),new Uint8Array(e)}function Ez(n){const e=[],t={queue:0,queuedBits:0},r=s=>{e.push(s)};return n.forEach(s=>dk(s,t,r)),dk(null,t,r),e.join("")}function Mz(n){return Math.round(Date.now()/1e3)+n}function Dz(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const ss=()=>typeof window!="undefined"&&typeof document!="undefined",Hi={tested:!1,writable:!1},Kc=()=>{if(!ss())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch(e){return!1}if(Hi.tested)return Hi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Hi.tested=!0,Hi.writable=!0}catch(e){Hi.tested=!0,Hi.writable=!1}return Hi.writable};function Iz(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch(r){}return t.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ib=n=>{let e;return n?e=n:typeof fetch=="undefined"?e=(...t)=>wi(()=>M(null,null,function*(){const{default:r}=yield Promise.resolve().then(()=>Ul);return{default:r}}),void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},jz=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",jb=(n,e,t)=>M(null,null,function*(){yield n.setItem(e,JSON.stringify(t))}),df=(n,e)=>M(null,null,function*(){const t=yield n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch(r){return t}}),ff=(n,e)=>M(null,null,function*(){yield n.removeItem(e)});class kh{constructor(){this.promise=new kh.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}kh.promiseConstructor=Promise;function eg(n){const e=n.split(".");if(e.length!==3)throw new qc("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!gz.test(e[r]))throw new qc("JWT not in base64url format");return{header:JSON.parse(fk(e[0])),payload:JSON.parse(fk(e[1])),signature:Tz(e[2]),raw:{header:e[0],payload:e[1]}}}function Az(n){return M(this,null,function*(){return yield new Promise(e=>{setTimeout(()=>e(null),n)})})}function Pz(n,e){return new Promise((r,s)=>{M(null,null,function*(){for(let o=0;o<1/0;o++)try{const l=yield n(o);if(!e(o,null,l)){r(l);return}}catch(l){if(!e(o,l)){s(l);return}}})})}function Rz(n){return("0"+n.toString(16)).substr(-2)}function Oz(){const e=new Uint32Array(56);if(typeof crypto=="undefined"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let o=0;o<56;o++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Rz).join("")}function Lz(n){return M(this,null,function*(){const t=new TextEncoder().encode(n),r=yield crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")})}function Fz(n){return M(this,null,function*(){if(!(typeof crypto!="undefined"&&typeof crypto.subtle!="undefined"&&typeof TextEncoder!="undefined"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=yield Lz(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Qa(n,e,t=!1){return M(this,null,function*(){const r=Oz();let s=r;t&&(s+="/PASSWORD_RECOVERY"),yield jb(n,`${e}-code-verifier`,s);const o=yield Fz(r);return[o,r===o?"plain":"s256"]})}const $z=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Uz(n){const e=n.headers.get(sy);if(!e||!e.match($z))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch(t){return null}}function Vz(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Bz(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const zz=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Xa(n){if(!zz.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Wz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};const qi=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Hz=[502,503,504];function hk(n){return M(this,null,function*(){var e;if(!jz(n))throw new oy(qi(n),0);if(Hz.includes(n.status))throw new oy(qi(n),n.status);let t;try{t=yield n.json()}catch(o){throw new Mb(qi(o),o)}let r;const s=Uz(n);if(s&&s.getTime()>=Eb["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new ck(qi(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ii}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new ck(qi(t),n.status,t.weak_password.reasons);throw new vz(qi(t),n.status||500,r)})}const Gz=(n,e,t,r)=>{const s={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};function yt(n,e,t,r){return M(this,null,function*(){var s;const o=Object.assign({},r==null?void 0:r.headers);o[sy]||(o[sy]=Eb["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const l=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=yield Yz(n,e,t+u,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}})}function Yz(n,e,t,r,s,o){return M(this,null,function*(){const l=Gz(e,r,s,o);let u;try{u=yield n(t,Object.assign({},l))}catch(d){throw console.error(d),new oy(qi(d),0)}if(u.ok||(yield hk(u)),r!=null&&r.noResolveJson)return u;try{return yield u.json()}catch(d){yield hk(d)}})}function uo(n){var e;let t=null;Zz(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=Mz(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function mk(n){const e=uo(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function di(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function qz(n){return{data:n,error:null}}function Kz(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:o}=n,l=Wz(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:o},d=Object.assign({},l);return{data:{properties:u,user:d},error:null}}function Jz(n){return n}function Zz(n){return n.access_token&&n.refresh_token&&n.expires_in}const tg=["global","local","others"];var Qz=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t};class Xz{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Ib(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return M(this,arguments,function*(e,t=tg[0]){if(tg.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${tg.join(", ")}`);try{return yield yt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ct(s))return{data:null,error:s};throw s}})}inviteUserByEmail(r){return M(this,arguments,function*(e,t={}){try{return yield yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:di})}catch(s){if(ct(s))return{data:{user:null},error:s};throw s}})}generateLink(e){return M(this,null,function*(){try{const{options:t}=e,r=Qz(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),yield yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Kz,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(ct(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return M(this,null,function*(){try{return yield yt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:di})}catch(t){if(ct(t))return{data:{user:null},error:t};throw t}})}listUsers(e){return M(this,null,function*(){var t,r,s,o,l,u,d;try{const f={nextPage:null,lastPage:0,total:0},g=yield yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Jz});if(g.error)throw g.error;const y=yield g.json(),x=(l=g.headers.get("x-total-count"))!==null&&l!==void 0?l:0,w=(d=(u=g.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return w.length>0&&(w.forEach(C=>{const S=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(C.split(";")[1].split("=")[1]);f[`${T}Page`]=S}),f.total=parseInt(x)),{data:Object.assign(Object.assign({},y),f),error:null}}catch(f){if(ct(f))return{data:{users:[]},error:f};throw f}})}getUserById(e){return M(this,null,function*(){Xa(e);try{return yield yt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:di})}catch(t){if(ct(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return M(this,null,function*(){Xa(e);try{return yield yt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:di})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return M(this,null,function*(){Xa(e);try{return yield yt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:di})}catch(r){if(ct(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return M(this,null,function*(){Xa(e.userId);try{const{data:t,error:r}=yield yt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(ct(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return M(this,null,function*(){Xa(e.userId),Xa(e.id);try{return{data:yield yt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ct(t))return{data:null,error:t};throw t}})}}const eW={getItem:n=>Kc()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Kc()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Kc()&&globalThis.localStorage.removeItem(n)}};function pk(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function tW(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(n){typeof self!="undefined"&&(self.globalThis=self)}}const el={debug:!!(globalThis&&Kc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Ab extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class nW extends Ab{}function rW(n,e,t){return M(this,null,function*(){el.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),el.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},s=>M(null,null,function*(){if(s){el.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return yield t()}finally{el.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(e===0)throw el.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new nW(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(el.debug)try{const o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}tW();const sW={url:hz,storageKey:mz,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:pz,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function gk(n,e,t){return M(this,null,function*(){return yield t()})}class au{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=au.nextInstanceID,au.nextInstanceID+=1,this.instanceID>0&&ss()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},sW),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Xz({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ib(s.fetch),this.lock=s.lock||gk,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ss()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=rW:this.lock=gk,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Kc()?this.storage=eW:(this.memoryStorage={},this.storage=pk(this.memoryStorage)):(this.memoryStorage={},this.storage=pk(this.memoryStorage)),ss()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",o=>M(this,null,function*(){this._debug("received broadcast notification from other tab or client",o),yield this._notifyAllSubscribers(o.data.event,o.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nb}) ${new Date().toISOString()}`,...e),this}initialize(){return M(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=M(this,null,function*(){return yield this._acquireLock(-1,()=>M(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return M(this,null,function*(){var e;try{const t=Iz(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":(yield this._isPKCECallback(t))&&(r="pkce"),ss()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=yield this._getSessionFromURL(t,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),_z(o)){const d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return yield this._removeSession(),{error:o}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),yield this._saveSession(l),setTimeout(()=>M(this,null,function*(){u==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",l):yield this._notifyAllSubscribers("SIGNED_IN",l)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return ct(t)?{error:t}:{error:new Mb("Unexpected error during initialization",t)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return M(this,null,function*(){var t,r,s;try{const o=yield yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:uo}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(ct(o))return{data:{user:null,session:null},error:o};throw o}})}signUp(e){return M(this,null,function*(){var t,r,s;try{let o;if("email"in e){const{email:g,password:y,options:x}=e;let w=null,C=null;this.flowType==="pkce"&&([w,C]=yield Qa(this.storage,this.storageKey)),o=yield yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:g,password:y,data:(t=x==null?void 0:x.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:w,code_challenge_method:C},xform:uo})}else if("phone"in e){const{phone:g,password:y,options:x}=e;o=yield yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(s=x==null?void 0:x.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:uo})}else throw new cf("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const d=l.session,f=l.user;return l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(o){if(ct(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithPassword(e){return M(this,null,function*(){try{let t;if("email"in e){const{email:o,password:l,options:u}=e;t=yield yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:mk})}else if("phone"in e){const{phone:o,password:l,options:u}=e;t=yield yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:mk})}else throw new cf("You must provide either an email or phone number and a password");const{data:r,error:s}=t;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new lf}:(r.session&&(yield this._saveSession(r.session),yield this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(t){if(ct(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){return M(this,null,function*(){var t,r,s,o;return yield this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})})}exchangeCodeForSession(e){return M(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>M(this,null,function*(){return this._exchangeCodeForSession(e)}))})}signInWithWeb3(e){return M(this,null,function*(){const{chain:t}=e;if(t==="solana")return yield this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)})}signInWithSolana(e){return M(this,null,function*(){var t,r,s,o,l,u,d,f,g,y,x,w;let C,S;if("message"in e)C=e.message,S=e.signature;else{const{chain:T,wallet:E,statement:P,options:I}=e;let A;if(ss())if(typeof E=="object")A=E;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))A=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=E}const D=new URL((t=I==null?void 0:I.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in A&&A.signIn){const O=yield A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),P?{statement:P}:null));let L;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")L=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)L=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)C=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),S=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${D.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(s=(r=I==null?void 0:I.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=I==null?void 0:I.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((l=I==null?void 0:I.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((u=I==null?void 0:I.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((d=I==null?void 0:I.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((f=I==null?void 0:I.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((y=(g=I==null?void 0:I.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...I.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const O=yield A.signMessage(new TextEncoder().encode(C),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=O}}try{const{data:T,error:E}=yield yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Ez(S)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:uo});if(E)throw E;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new lf}:(T.session&&(yield this._saveSession(T.session),yield this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:E})}catch(T){if(ct(T))return{data:{user:null,session:null},error:T};throw T}})}_exchangeCodeForSession(e){return M(this,null,function*(){const t=yield df(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(t!=null?t:"").split("/");try{const{data:o,error:l}=yield yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:uo});if(yield ff(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new lf}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s!=null?s:null}),error:l})}catch(o){if(ct(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}})}signInWithIdToken(e){return M(this,null,function*(){try{const{options:t,provider:r,token:s,access_token:o,nonce:l}=e,u=yield yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:uo}),{data:d,error:f}=u;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new lf}:(d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(t){if(ct(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){return M(this,null,function*(){var t,r,s,o,l;try{if("email"in e){const{email:u,options:d}=e;let f=null,g=null;this.flowType==="pkce"&&([f,g]=yield Qa(this.storage,this.storageKey));const{error:y}=yield yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(t=d==null?void 0:d.data)!==null&&t!==void 0?t:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:g},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:u,options:d}=e,{data:f,error:g}=yield yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=d==null?void 0:d.data)!==null&&s!==void 0?s:{},create_user:(o=d==null?void 0:d.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:g}}throw new cf("You must provide either an email or phone number.")}catch(u){if(ct(u))return{data:{user:null,session:null},error:u};throw u}})}verifyOtp(e){return M(this,null,function*(){var t,r;try{let s,o;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:u}=yield yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:uo});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,f=l.user;return d!=null&&d.access_token&&(yield this._saveSession(d),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(s){if(ct(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(e){return M(this,null,function*(){var t,r,s;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=yield Qa(this.storage,this.storageKey)),yield yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:qz})}catch(o){if(ct(o))return{data:null,error:o};throw o}})}reauthenticate(){return M(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>M(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return M(this,null,function*(){try{return yield this._useSession(e=>M(this,null,function*(){const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ii;const{error:s}=yield yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}}))}catch(e){if(ct(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return M(this,null,function*(){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:o}=e,{error:l}=yield yt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:r,type:s,options:o}=e,{data:l,error:u}=yield yt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new cf("You must provide either an email or phone number and a type")}catch(t){if(ct(t))return{data:{user:null,session:null},error:t};throw t}})}getSession(){return M(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>M(this,null,function*(){return this._useSession(t=>M(this,null,function*(){return t}))}))})}_acquireLock(e,t){return M(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=M(this,null,function*(){return yield r,yield t()});return this.pendingInLock.push(M(this,null,function*(){try{yield s}catch(o){}})),s}return yield this.lock(`lock:${this.storageKey}`,e,()=>M(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push(M(this,null,function*(){try{yield r}catch(s){}})),yield r;this.pendingInLock.length;){const s=[...this.pendingInLock];yield Promise.all(s),this.pendingInLock.splice(0,s.length)}return yield r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return M(this,null,function*(){this._debug("#_useSession","begin");try{const t=yield this.__loadSession();return yield e(t)}finally{this._debug("#_useSession","end")}})}__loadSession(){return M(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=yield df(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Qp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let l=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,f,g)=>(!l&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,g))})}return{data:{session:e},error:null}}const{session:s,error:o}=yield this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return M(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>M(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return M(this,null,function*(){try{return e?yield yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:di}):yield this._useSession(t=>M(this,null,function*(){var r,s,o;const{data:l,error:u}=t;if(u)throw u;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ii}:yield yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:di})}))}catch(t){if(ct(t))return wz(t)&&(yield this._removeSession(),yield ff(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}})}updateUser(r){return M(this,arguments,function*(e,t={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>M(this,null,function*(){return yield this._updateUser(e,t)}))})}_updateUser(r){return M(this,arguments,function*(e,t={}){try{return yield this._useSession(s=>M(this,null,function*(){const{data:o,error:l}=s;if(l)throw l;if(!o.session)throw new ii;const u=o.session;let d=null,f=null;this.flowType==="pkce"&&e.email!=null&&([d,f]=yield Qa(this.storage,this.storageKey));const{data:g,error:y}=yield yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:d,code_challenge_method:f}),jwt:u.access_token,xform:di});if(y)throw y;return u.user=g.user,yield this._saveSession(u),yield this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}}))}catch(s){if(ct(s))return{data:{user:null},error:s};throw s}})}setSession(e){return M(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>M(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return M(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new ii;const t=Date.now()/1e3;let r=t,s=!0,o=null;const{payload:l}=eg(e.access_token);if(l.exp&&(r=l.exp,s=r<=t),s){const{session:u,error:d}=yield this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:d}=yield this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:r-t,expires_at:r},yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(t){if(ct(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){return M(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>M(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return M(this,null,function*(){try{return yield this._useSession(t=>M(this,null,function*(){var r;if(!e){const{data:l,error:u}=t;if(u)throw u;e=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ii;const{session:s,error:o}=yield this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(ct(t))return{data:{user:null,session:null},error:t};throw t}})}_getSessionFromURL(e,t){return M(this,null,function*(){try{if(!ss())throw new uf("No browser detected.");if(e.error||e.error_description||e.error_code)throw new uf(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new lk("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uf("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new lk("No code detected.");const{data:P,error:I}=yield this._exchangeCodeForSession(e.code);if(I)throw I;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:u,expires_at:d,token_type:f}=e;if(!o||!u||!l||!f)throw new uf("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(u);let x=g+y;d&&(x=parseInt(d));const w=x-g;w*1e3<=ol&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const C=x-y;g-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,x,g):g-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,x,g);const{data:S,error:T}=yield this._getUser(o);if(T)throw T;const E={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:y,expires_at:x,refresh_token:l,token_type:f,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:e.type},error:null}}catch(r){if(ct(r))return{data:{session:null,redirectType:null},error:r};throw r}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return M(this,null,function*(){const t=yield df(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)})}signOut(){return M(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>M(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return M(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(t=>M(this,null,function*(){var r;const{data:s,error:o}=t;if(o)return{error:o};const l=(r=s.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:u}=yield this.admin.signOut(l,e);if(u&&!(xz(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(yield this._removeSession(),yield ff(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){const t=Dz(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),M(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>M(this,null,function*(){this._emitInitialSession(t)}))}),{data:{subscription:r}}}_emitInitialSession(e){return M(this,null,function*(){return yield this._useSession(t=>M(this,null,function*(){var r,s;try{const{data:{session:o},error:l}=t;if(l)throw l;yield(r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){yield(s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}}))})}resetPasswordForEmail(r){return M(this,arguments,function*(e,t={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=yield Qa(this.storage,this.storageKey,!0));try{return yield yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(l){if(ct(l))return{data:null,error:l};throw l}})}getUserIdentities(){return M(this,null,function*(){var e;try{const{data:t,error:r}=yield this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(ct(t))return{data:null,error:t};throw t}})}linkIdentity(e){return M(this,null,function*(){var t;try{const{data:r,error:s}=yield this._useSession(o=>M(this,null,function*(){var l,u,d,f,g;const{data:y,error:x}=o;if(x)throw x;const w=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return yield yt(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(f=y.session)===null||f===void 0?void 0:f.access_token)!==null&&g!==void 0?g:void 0})}));if(s)throw s;return ss()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(ct(r))return{data:{provider:e.provider,url:null},error:r};throw r}})}unlinkIdentity(e){return M(this,null,function*(){try{return yield this._useSession(t=>M(this,null,function*(){var r,s;const{data:o,error:l}=t;if(l)throw l;return yield yt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})}))}catch(t){if(ct(t))return{data:null,error:t};throw t}})}_refreshAccessToken(e){return M(this,null,function*(){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return yield Pz(s=>M(this,null,function*(){return s>0&&(yield Az(200*Math.pow(2,s-1))),this._debug(t,"refreshing attempt",s),yield yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:uo})}),(s,o)=>{const l=200*Math.pow(2,s);return o&&Xp(o)&&Date.now()+l-r<ol})}catch(r){if(this._debug(t,"error",r),ct(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return M(this,null,function*(){const r=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ss()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}})}_recoverAndRefresh(){return M(this,null,function*(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=yield df(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r)){this._debug(t,"session is not valid"),r!==null&&(yield this._removeSession());return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Qp;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${Qp}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=yield this._callRefreshToken(r.refresh_token);o&&(console.error(o),Xp(o)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",o),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(t,"error",r),console.error(r);return}finally{this._debug(t,"end")}})}_callRefreshToken(e){return M(this,null,function*(){var t,r;if(!e)throw new ii;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new kh;const{data:o,error:l}=yield this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new ii;yield this._saveSession(o.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),ct(o)){const l={session:null,error:o};return Xp(o)||(yield this._removeSession()),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(e,t,r=!0){return M(this,null,function*(){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(u=>M(this,null,function*(){try{yield u.callback(e,t)}catch(d){o.push(d)}}));if(yield Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}})}_saveSession(e){return M(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield jb(this.storage,this.storageKey,e)})}_removeSession(){return M(this,null,function*(){this._debug("#_removeSession()"),yield ff(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ss()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return M(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ol);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno!="undefined"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>M(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return M(this,null,function*(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return M(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return M(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return M(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>M(this,null,function*(){try{const e=Date.now();try{return yield this._useSession(t=>M(this,null,function*(){const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/ol);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ol}ms, refresh threshold is ${ry} ticks`),s<=ry&&(yield this._callRefreshToken(r.refresh_token))}))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Ab)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return M(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ss()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>M(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return M(this,null,function*(){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>M(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t,r){return M(this,null,function*(){const s=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,l]=yield Qa(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`})}_unenroll(e){return M(this,null,function*(){try{return yield this._useSession(t=>M(this,null,function*(){var r;const{data:s,error:o}=t;return o?{data:null,error:o}:yield yt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})}))}catch(t){if(ct(t))return{data:null,error:t};throw t}})}_enroll(e){return M(this,null,function*(){try{return yield this._useSession(t=>M(this,null,function*(){var r,s;const{data:o,error:l}=t;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:f}=yield yt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(e.factorType==="totp"&&(!((s=d==null?void 0:d.totp)===null||s===void 0)&&s.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})}))}catch(t){if(ct(t))return{data:null,error:t};throw t}})}_verify(e){return M(this,null,function*(){return this._acquireLock(-1,()=>M(this,null,function*(){try{return yield this._useSession(t=>M(this,null,function*(){var r;const{data:s,error:o}=t;if(o)return{data:null,error:o};const{data:l,error:u}=yield yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:u})}))}catch(t){if(ct(t))return{data:null,error:t};throw t}}))})}_challenge(e){return M(this,null,function*(){return this._acquireLock(-1,()=>M(this,null,function*(){try{return yield this._useSession(t=>M(this,null,function*(){var r;const{data:s,error:o}=t;return o?{data:null,error:o}:yield yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})}))}catch(t){if(ct(t))return{data:null,error:t};throw t}}))})}_challengeAndVerify(e){return M(this,null,function*(){const{data:t,error:r}=yield this._challenge({factorId:e.factorId});return r?{data:null,error:r}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return M(this,null,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],s=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),o=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}})}_getAuthenticatorAssuranceLevel(){return M(this,null,function*(){return this._acquireLock(-1,()=>M(this,null,function*(){return yield this._useSession(e=>M(this,null,function*(){var t,r;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=eg(s.access_token);let u=null;l.aal&&(u=l.aal);let d=u;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const g=l.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:g},error:null}}))}))})}fetchJwk(r){return M(this,arguments,function*(e,t={keys:[]}){let s=t.keys.find(u=>u.kid===e);if(s||(s=this.jwks.keys.find(u=>u.kid===e),s&&this.jwks_cached_at+yz>Date.now()))return s;const{data:o,error:l}=yield yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;if(!o.keys||o.keys.length===0)throw new qc("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),s=o.keys.find(u=>u.kid===e),!s)throw new qc("No matching signing key found in JWKS");return s})}getClaims(r){return M(this,arguments,function*(e,t={keys:[]}){try{let s=e;if(!s){const{data:C,error:S}=yield this.getSession();if(S||!C.session)return{data:null,error:S};s=C.session.access_token}const{header:o,payload:l,signature:u,raw:{header:d,payload:f}}=eg(s);if(Vz(l.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:C}=yield this.getUser(s);if(C)throw C;return{data:{claims:l,header:o,signature:u},error:null}}const g=Bz(o.alg),y=yield this.fetchJwk(o.kid,t),x=yield crypto.subtle.importKey("jwk",y,g,!0,["verify"]);if(!(yield crypto.subtle.verify(g,x,u,Nz(`${d}.${f}`))))throw new qc("Invalid JWT signature");return{data:{claims:l,header:o,signature:u},error:null}}catch(s){if(ct(s))return{data:null,error:s};throw s}})}}au.nextInstanceID=0;const oW=au;class iW extends oW{constructor(e){super(e)}}var aW=function(n,e,t,r){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(g){try{f(r.next(g))}catch(y){l(y)}}function d(g){try{f(r.throw(g))}catch(y){l(y)}}function f(g){g.done?o(g.value):s(g.value).then(u,d)}f((r=r.apply(n,e||[])).next())})};class lW{constructor(e,t,r){var s,o,l;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const u=dz(e),d=new URL(u);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,g={db:rz,realtime:oz,auth:Object.assign(Object.assign({},sz),{storageKey:f}),global:nz},y=fz(r!=null?r:{},g);this.storageKey=(s=y.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=y.global.headers)!==null&&o!==void 0?o:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(x,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=y.auth)!==null&&l!==void 0?l:{},this.headers,y.global.fetch),this.fetch=cz(t,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new T9(new URL("rest/v1",d).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new m9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new X9(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return aW(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,storageKey:o,flowType:l,lock:u,debug:d},f,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new iW({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),f),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,flowType:l,lock:u,debug:d,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new $9(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const cW=(n,e,t)=>new lW(n,e,t),uW="https://anpfjtcydxtqsqtaxddt.supabase.co",dW="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFucGZqdGN5ZHh0cXNxdGF4ZGR0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5ODg2NjcsImV4cCI6MjA2NDU2NDY2N30.KyYY2XlZZfACzMt-Doyx-Vv96bSQCwx-ibPX0Cdi67g",Ke=cW(uW,dW),yk={required:{title:"title",timeEstimate:"time_estimate",status:"status",position:"position",priority:"priority",progressPercentage:"progress_percentage",timeSpent:"time_spent",googleCalendarSynced:"google_calendar_synced"},optional:{description:"description",scheduledDate:"scheduled_date",tags:"tags",completedAt:"completed_at",boardId:"board_id",dueDate:"due_date",startDate:"start_date",category:"category",assigneeId:"assignee_id",parentTaskId:"parent_task_id",googleCalendarEventId:"google_calendar_event_id"}},fW=n=>{const e={};if(Object.entries(yk.required).forEach(([t,r])=>{n[t]!==void 0&&(e[r]=n[t])}),Object.entries(yk.optional).forEach(([t,r])=>{if(t in n){const s=n[t];t==="tags"?e[r]=s||[]:e[r]=s||null}}),"recurring"in n)if(n.recurring){if(!["daily","weekly","monthly","yearly"].includes(n.recurring.pattern))throw new Error(`Invalid recurring pattern: ${n.recurring.pattern}`);e.recurring_pattern=n.recurring.pattern,e.recurring_interval=n.recurring.interval,e.recurring_days_of_week=n.recurring.daysOfWeek||[],e.recurring_days_of_month=n.recurring.daysOfMonth||[],e.recurring_months_of_year=n.recurring.monthsOfYear||[],e.recurring_end_date=n.recurring.endDate||null}else e.recurring_pattern=null,e.recurring_interval=null,e.recurring_days_of_week=null,e.recurring_days_of_month=null,e.recurring_months_of_year=null,e.recurring_end_date=null;return e},ng=n=>{let e;return n.recurring_pattern&&n.recurring_pattern!=="none"&&n.recurring_pattern!==null&&(["daily","weekly","monthly","yearly"].includes(n.recurring_pattern)?e={pattern:n.recurring_pattern,interval:n.recurring_interval||1,daysOfWeek:n.recurring_days_of_week||[],daysOfMonth:n.recurring_days_of_month||[],monthsOfYear:n.recurring_months_of_year||[],endDate:n.recurring_end_date||void 0}:console.warn("Invalid recurring pattern found in database:",n.recurring_pattern)),{id:n.id,title:n.title||"",description:n.description||"",timeEstimate:n.time_estimate||0,status:n.status||"backlog",position:n.position||0,scheduledDate:n.scheduled_date||void 0,startDate:n.start_date||void 0,dueDate:n.due_date||void 0,tags:n.tags||[],createdAt:n.created_at||new Date().toISOString(),completedAt:n.completed_at||void 0,userId:n.user_id||"",boardId:n.board_id||void 0,priority:n.priority||2,category:n.category||"",progressPercentage:n.progress_percentage||0,timeSpent:n.time_spent||0,labels:[],attachments:[],assigneeId:n.assignee_id||void 0,parentTaskId:n.parent_task_id||void 0,googleCalendarEventId:n.google_calendar_event_id||void 0,googleCalendarSynced:n.google_calendar_synced||!1,recurring:e}},hW=(n,e)=>{var t,r,s,o,l,u;return{title:n.title,description:n.description||null,time_estimate:n.timeEstimate,status:n.status,position:n.position,scheduled_date:n.scheduledDate||null,tags:n.tags||[],completed_at:n.completedAt||null,user_id:e,board_id:n.boardId||null,priority:n.priority||2,due_date:n.dueDate||null,start_date:n.startDate||null,category:n.category||null,progress_percentage:n.progressPercentage||0,time_spent:n.timeSpent||0,assignee_id:n.assigneeId||null,parent_task_id:n.parentTaskId||null,google_calendar_event_id:n.googleCalendarEventId||null,google_calendar_synced:n.googleCalendarSynced||!1,recurring_pattern:((t=n.recurring)==null?void 0:t.pattern)||null,recurring_interval:((r=n.recurring)==null?void 0:r.interval)||null,recurring_days_of_week:((s=n.recurring)==null?void 0:s.daysOfWeek)||null,recurring_days_of_month:((o=n.recurring)==null?void 0:o.daysOfMonth)||null,recurring_months_of_year:((l=n.recurring)==null?void 0:l.monthsOfYear)||null,recurring_end_date:((u=n.recurring)==null?void 0:u.endDate)||null}},rg=n=>({id:n.id,name:n.name,description:n.description||void 0,color:n.color||void 0,icon:n.icon||void 0,createdAt:n.created_at,userId:n.user_id,isDefault:n.is_default}),mW=(n,e)=>({name:n.name,description:n.description||null,color:n.color||null,icon:n.icon||null,user_id:e,is_default:n.isDefault||!1}),vk=n=>({id:n.id,parentTaskId:n.parent_task_id,title:n.title,description:n.description||void 0,isCompleted:n.is_completed,position:n.position,timeEstimate:n.time_estimate,createdAt:n.created_at,completedAt:n.completed_at||void 0,userId:n.user_id}),iv=()=>{const[n,e]=k.useState([]),[t,r]=k.useState([]),[s,o]=k.useState(!0),[l,u]=k.useState(null),[d,f]=k.useState(!1);k.useEffect(()=>{Ke.auth.getSession().then(({data:{session:H}})=>{var $;u(($=H==null?void 0:H.user)!=null?$:null),f(!0)});const{data:{subscription:j}}=Ke.auth.onAuthStateChange((H,$)=>{var F;u((F=$==null?void 0:$.user)!=null?F:null),H==="SIGNED_IN"?(g(),y()):H==="SIGNED_OUT"&&(e([]),r([]))});return()=>j.unsubscribe()},[]),k.useEffect(()=>{l&&d?(g(),y()):!l&&d&&(e([]),r([]),o(!1))},[l==null?void 0:l.id,d]);const g=k.useCallback(j=>M(null,null,function*(){if(!l){o(!1);return}try{o(!0);let H=Ke.from("tasks").select("*").eq("user_id",l.id);j!==void 0&&(H=H.eq("board_id",j));const{data:$,error:F}=yield H.order("status").order("position",{ascending:!0}).order("created_at",{ascending:!1});if(F){console.error("Failed to load tasks:",F);return}const q=$.map(ng);e(q)}catch(H){console.error("Failed to load tasks:",H)}finally{o(!1)}}),[l==null?void 0:l.id]),y=k.useCallback(()=>M(null,null,function*(){if(l)try{const{data:j,error:H}=yield Ke.from("boards").select("*").eq("user_id",l.id).order("created_at",{ascending:!0});if(H){console.error("Failed to load boards:",H);return}let $=j.map(rg);if(!$.find(q=>q.isDefault)){const{data:q,error:W}=yield Ke.from("boards").insert([{name:"All Tasks",description:"View all tasks across all boards",user_id:l.id,is_default:!0}]).select().single();!W&&q&&$.unshift(rg(q))}r($)}catch(j){console.error("Failed to load boards:",j)}}),[l==null?void 0:l.id]),x=j=>M(null,null,function*(){var H;if(!l)return null;try{const{data:$}=yield Ke.from("tasks").select("position").eq("user_id",l.id).eq("status",j.status).order("position",{ascending:!1}).limit(1),q=(((H=$==null?void 0:$[0])==null?void 0:H.position)||0)+1,W=hW(U(b({},j),{position:q}),l.id),{data:ne,error:G}=yield Ke.from("tasks").insert([W]).select().single();if(G)return console.error("Failed to add task:",G),null;const oe=ng(ne);return e(le=>[...le,oe]),ne.id}catch($){return console.error("Failed to add task:",$),null}}),w=()=>M(null,null,function*(){if(!l)return[];try{const{data:j,error:H}=yield Ke.from("tasks").select("*").eq("user_id",l.id).order("status").order("position",{ascending:!0}).order("created_at",{ascending:!1});return H?(console.error("Failed to get tasks:",H),[]):j.map(ng)}catch(j){return console.error("Failed to get tasks:",j),[]}}),C=(j,H)=>M(null,null,function*(){if(!l)return!1;if(j===0)return console.log("Creating new task instead of updating:",H),(yield x(H))!==null;try{e(W=>W.map(ne=>ne.id===j?b(b({},ne),H):ne));const $=fW(H);console.log("Updating task with:",$),console.log("Task ID:",j,"User ID:",l.id);const{data:F,error:q}=yield Ke.from("tasks").update($).eq("id",j).eq("user_id",l.id).select();return console.log("Update result:",{data:F,error:q}),q?(console.error("Failed to update task:",q),yield g(),!1):!0}catch($){return console.error("Failed to update task:",$),yield g(),!1}}),S=j=>M(null,null,function*(){if(!l)return!1;try{e($=>$.filter(F=>F.id!==j));const{error:H}=yield Ke.from("tasks").delete().eq("id",j).eq("user_id",l.id);return H?(console.error("Failed to delete task:",H),yield g(),!1):!0}catch(H){return console.error("Failed to delete task:",H),yield g(),!1}}),T=j=>M(null,null,function*(){if(!l)return null;try{const H={title:`${j.title} (Copy)`,description:j.description,timeEstimate:j.timeEstimate,status:j.status,position:0,scheduledDate:j.scheduledDate,tags:j.tags,boardId:j.boardId,priority:j.priority,progressPercentage:0,timeSpent:0,labels:[...j.labels||[]],attachments:[]};return yield x(H)}catch(H){return console.error("Failed to duplicate task:",H),null}}),E=(j,H,$)=>M(null,null,function*(){var F;if(!l)return!1;try{const q={status:H};if(H==="done"?q.completedAt=new Date().toISOString():q.completedAt=void 0,$!==void 0){const{data:W}=yield Ke.from("tasks").select("id, position").eq("user_id",l.id).eq("status",H).order("position",{ascending:!0});if(W)for(let ne=0;ne<W.length;ne++){const G=W[ne];if(G.id!==j){const oe=ne>=$?ne+1:ne;oe!==G.position&&(yield Ke.from("tasks").update({position:oe}).eq("id",G.id).eq("user_id",l.id))}}return q.position=$,yield C(j,q)}else{const{data:W}=yield Ke.from("tasks").select("position").eq("user_id",l.id).eq("status",H).order("position",{ascending:!1}).limit(1),ne=((F=W==null?void 0:W[0])==null?void 0:F.position)||0;return q.position=ne+1,yield C(j,q)}}catch(q){return console.error("Failed to move task:",q),!1}}),P=(j,H,$)=>M(null,null,function*(){return yield E(j,$,H)}),I=(j,H)=>M(null,null,function*(){if(!l)return!1;try{e($=>{const F=[...$];return j.forEach((q,W)=>{const ne=F.findIndex(G=>G.id===q);ne!==-1&&(F[ne]=U(b({},F[ne]),{position:W+1}))}),F});for(let $=0;$<j.length;$++){const F=j[$],q=$+1,{error:W}=yield Ke.from("tasks").update({position:q}).eq("id",F).eq("user_id",l.id).eq("status",H);if(W)return console.error("Failed to update task position:",W),yield g(),!1}return!0}catch($){return console.error("Failed to reorder tasks in column:",$),yield g(),!1}}),A=k.useCallback((j,H)=>M(null,null,function*(){if(!l)throw new Error("User not authenticated");const{data:$}=yield Ke.from("subtasks").select("position").eq("parent_task_id",j).eq("user_id",l.id).order("position",{ascending:!1}).limit(1),F=$&&$.length>0?$[0].position+1:0,q={parent_task_id:j,title:H,description:null,is_completed:!1,position:F,time_estimate:15,completed_at:null,user_id:l.id},{data:W,error:ne}=yield Ke.from("subtasks").insert(q).select().single();if(ne)throw ne;return vk(W)}),[l]),D=k.useCallback((j,H)=>M(null,null,function*(){if(!l)throw new Error("User not authenticated");const $={};H.title!==void 0&&($.title=H.title),H.description!==void 0&&($.description=H.description||null),H.isCompleted!==void 0&&($.is_completed=H.isCompleted,$.completed_at=H.isCompleted?new Date().toISOString():null),H.position!==void 0&&($.position=H.position),H.timeEstimate!==void 0&&($.time_estimate=H.timeEstimate);const{error:F}=yield Ke.from("subtasks").update($).eq("id",j).eq("user_id",l.id);if(F)throw F}),[l]),O=k.useCallback(j=>M(null,null,function*(){if(!l)throw new Error("User not authenticated");const{error:H}=yield Ke.from("subtasks").delete().eq("id",j).eq("user_id",l.id);if(H)throw H}),[l]),L=k.useCallback(j=>M(null,null,function*(){if(!l)return[];const{data:H,error:$}=yield Ke.from("subtasks").select("*").eq("parent_task_id",j).eq("user_id",l.id).order("position",{ascending:!0});if($)throw console.error("getSubtasks: Database error:",$),$;return H.map(vk)}),[l]),V=k.useCallback(j=>M(null,null,function*(){if(!l)throw new Error("User not authenticated");const H=j.map(($,F)=>({id:$,position:F}));for(const $ of H)yield Ke.from("subtasks").update({position:$.position}).eq("id",$.id).eq("user_id",l.id)}),[l]);return{isInitialized:d,tasks:n,boards:t,isLoading:s,user:l,addTask:x,getTasks:w,updateTask:C,deleteTask:S,duplicateTask:T,moveTask:E,reorderTask:P,reorderTasksInColumn:I,addBoard:j=>M(null,null,function*(){if(!l)return null;try{const H=mW(j,l.id),{data:$,error:F}=yield Ke.from("boards").insert([H]).select().single();if(F)return console.error("Failed to add board:",F),null;const q=rg($);return r(W=>[...W,q]),$.id}catch(H){return console.error("Failed to add board:",H),null}}),updateBoard:(j,H)=>M(null,null,function*(){if(!l)return!1;try{r(q=>q.map(W=>W.id===j?b(b({},W),H):W));const $={};H.name!==void 0&&($.name=H.name),H.description!==void 0&&($.description=H.description||null),H.color!==void 0&&($.color=H.color||null),H.icon!==void 0&&($.icon=H.icon||null);const{error:F}=yield Ke.from("boards").update($).eq("id",j).eq("user_id",l.id);return F?(console.error("Failed to update board:",F),yield y(),!1):!0}catch($){return console.error("Failed to update board:",$),yield y(),!1}}),deleteBoard:j=>M(null,null,function*(){if(!l)return!1;try{const H=t.find(q=>q.id===j);if(H!=null&&H.isDefault)return console.error('Cannot delete the default "All Tasks" board'),!1;const $=t.find(q=>q.isDefault);if($){const{error:q}=yield Ke.from("tasks").update({board_id:$.id}).eq("board_id",j).eq("user_id",l.id);if(q)return console.error("Failed to move tasks to default board:",q),!1}r(q=>q.filter(W=>W.id!==j));const{error:F}=yield Ke.from("boards").delete().eq("id",j).eq("user_id",l.id);return F?(console.error("Failed to delete board:",F),yield y(),!1):(yield g(),!0)}catch(H){return console.error("Failed to delete board:",H),yield y(),!1}}),loadBoards:y,addSubtask:A,updateSubtask:D,deleteSubtask:O,getSubtasks:L,reorderSubtasks:V,signUp:(j,H)=>M(null,null,function*(){const{data:$,error:F}=yield Ke.auth.signUp({email:j,password:H});return{data:$,error:F}}),signIn:(j,H)=>M(null,null,function*(){const{data:$,error:F}=yield Ke.auth.signInWithPassword({email:j,password:H});return{data:$,error:F}}),signInWithGoogle:()=>M(null,null,function*(){try{const{data:j,error:H}=yield Ke.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}`,queryParams:{access_type:"offline",prompt:"consent"}}});return H?(console.error("Google OAuth error:",H),{data:null,error:H}):{data:j,error:null}}catch(j){return console.error("Google OAuth error:",j),{data:null,error:j}}}),signOut:()=>M(null,null,function*(){const{error:j}=yield Ke.auth.signOut();return{error:j}}),resetPasswordForEmail:j=>M(null,null,function*(){const{data:H,error:$}=yield Ke.auth.resetPasswordForEmail(j,{redirectTo:`${window.location.origin}/auth/reset-password`});return{data:H,error:$}}),updatePassword:j=>M(null,null,function*(){const{data:H,error:$}=yield Ke.auth.updateUser({password:j});return{data:H,error:$}}),loadTasks:g}};function Pb(){const[n,e]=k.useState(!1),[t,r]=k.useState(!1),[s,o]=k.useState(null),{updateTask:l}=iv();return{isScheduling:n,isEstimating:t,scheduleTasksWithAI:(f,g,y)=>M(null,null,function*(){if(n)return Rt.warning("AI scheduling is already in progress"),null;if(!g.autoScheduleEnabled)return Rt.error("AI scheduling is not enabled. Please enable it in settings."),null;if(f.length===0)return Rt.warning("No tasks to schedule"),null;e(!0);try{Rt.loading("AI is analyzing and scheduling your tasks...",{id:"ai-scheduling"});const x=yield l9({tasks:f,userPreferences:g,customInstructions:y}),w=x.scheduledTasks.map(T=>{const E=f.find(P=>P.id===T.id);return E&&(E.scheduledDate!==T.scheduledDate||E.timeEstimate!==T.timeEstimate)?l(T.id,{scheduledDate:T.scheduledDate,timeEstimate:T.timeEstimate}):Promise.resolve()});yield Promise.allSettled(w),o(x);const C=x.scheduledTasks.filter(T=>T.scheduledDate).length,S=Math.round(x.totalTimeScheduled/60*10)/10;return Rt.success(`AI scheduling complete! Scheduled ${C} tasks (${S} hours total)`,{id:"ai-scheduling",description:x.suggestions.length>0?`Suggestion: ${x.suggestions[0]}`:void 0,duration:5e3}),x.suggestions.length>1&&x.suggestions.slice(1,3).forEach((T,E)=>{setTimeout(()=>{Rt.info(`AI Insight: ${T}`,{duration:4e3})},(E+1)*1e3)}),x}catch(x){return console.error("AI scheduling failed:",x),Rt.error("Failed to schedule tasks with AI",{id:"ai-scheduling",description:x instanceof Error?x.message:"Unknown error occurred",duration:5e3}),null}finally{e(!1)}}),updateTimeEstimatesWithAI:(f,g)=>M(null,null,function*(){if(t)return Rt.warning("AI time estimation is already in progress"),!1;if(f.length===0)return Rt.warning("No tasks to estimate"),!1;r(!0);try{Rt.loading("AI is analyzing task complexity and updating time estimates...",{id:"ai-estimation"});const y=yield mb(f,g),x=Object.entries(y).map(([C,S])=>{const T=parseInt(C,10),E=f.find(P=>P.id===T);return E&&E.timeEstimate!==S?l(T,{timeEstimate:S}):Promise.resolve()});yield Promise.allSettled(x);const w=Object.keys(y).length;return Rt.success(`AI updated time estimates for ${w} tasks`,{id:"ai-estimation",duration:3e3}),!0}catch(y){return console.error("AI time estimation failed:",y),Rt.error("Failed to update time estimates with AI",{id:"ai-estimation",description:y instanceof Error?y.message:"Unknown error occurred",duration:5e3}),!1}finally{r(!1)}}),lastScheduleResult:s}}function av(n){const e=n+"CollectionProvider",[t,r]=ws(e),[s,o]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=S=>{const{scope:T,children:E}=S,P=be.useRef(null),I=be.useRef(new Map).current;return a.jsx(s,{scope:T,itemMap:I,collectionRef:P,children:E})};l.displayName=e;const u=n+"CollectionSlot",d=ra(u),f=be.forwardRef((S,T)=>{const{scope:E,children:P}=S,I=o(u,E),A=Dt(T,I.collectionRef);return a.jsx(d,{ref:A,children:P})});f.displayName=u;const g=n+"CollectionItemSlot",y="data-radix-collection-item",x=ra(g),w=be.forwardRef((S,T)=>{const L=S,{scope:E,children:P}=L,I=Q(L,["scope","children"]),A=be.useRef(null),D=Dt(T,A),O=o(g,E);return be.useEffect(()=>(O.itemMap.set(A,b({ref:A},I)),()=>void O.itemMap.delete(A))),a.jsx(x,{[y]:"",ref:D,children:P})});w.displayName=g;function C(S){const T=o(n+"CollectionConsumer",S);return be.useCallback(()=>{const P=T.collectionRef.current;if(!P)return[];const I=Array.from(P.querySelectorAll(`[${y}]`));return Array.from(T.itemMap.values()).sort((O,L)=>I.indexOf(O.ref.current)-I.indexOf(L.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:l,Slot:f,ItemSlot:w},C,r]}var pW=k.createContext(void 0);function lv(n){const e=k.useContext(pW);return n||e||"ltr"}var sg="rovingFocusGroup.onEntryFocus",gW={bubbles:!1,cancelable:!0},Eu="RovingFocusGroup",[iy,Rb,yW]=av(Eu),[vW,Ob]=ws(Eu,[yW]),[xW,wW]=vW(Eu),Lb=k.forwardRef((n,e)=>a.jsx(iy.Provider,{scope:n.__scopeRovingFocusGroup,children:a.jsx(iy.Slot,{scope:n.__scopeRovingFocusGroup,children:a.jsx(_W,U(b({},n),{ref:e}))})}));Lb.displayName=Eu;var _W=k.forwardRef((n,e)=>{const V=n,{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:g=!1}=V,y=Q(V,["__scopeRovingFocusGroup","orientation","loop","dir","currentTabStopId","defaultCurrentTabStopId","onCurrentTabStopIdChange","onEntryFocus","preventScrollOnEntryFocus"]),x=k.useRef(null),w=Dt(e,x),C=lv(o),[S,T]=No({prop:l,defaultProp:u!=null?u:null,onChange:d,caller:Eu}),[E,P]=k.useState(!1),I=Hr(f),A=Rb(t),D=k.useRef(!1),[O,L]=k.useState(0);return k.useEffect(()=>{const B=x.current;if(B)return B.addEventListener(sg,I),()=>B.removeEventListener(sg,I)},[I]),a.jsx(xW,{scope:t,orientation:r,dir:C,loop:s,currentTabStopId:S,onItemFocus:k.useCallback(B=>T(B),[T]),onItemShiftTab:k.useCallback(()=>P(!0),[]),onFocusableItemAdd:k.useCallback(()=>L(B=>B+1),[]),onFocusableItemRemove:k.useCallback(()=>L(B=>B-1),[]),children:a.jsx(lt.div,U(b({tabIndex:E||O===0?-1:0,"data-orientation":r},y),{ref:w,style:b({outline:"none"},n.style),onMouseDown:Ie(n.onMouseDown,()=>{D.current=!0}),onFocus:Ie(n.onFocus,B=>{const ee=!D.current;if(B.target===B.currentTarget&&ee&&!E){const X=new CustomEvent(sg,gW);if(B.currentTarget.dispatchEvent(X),!X.defaultPrevented){const se=A().filter(pe=>pe.focusable),ce=se.find(pe=>pe.active),ke=se.find(pe=>pe.id===S),me=[ce,ke,...se].filter(Boolean).map(pe=>pe.ref.current);Ub(me,g)}}D.current=!1}),onBlur:Ie(n.onBlur,()=>P(!1))}))})}),Fb="RovingFocusGroupItem",$b=k.forwardRef((n,e)=>{const T=n,{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:o,children:l}=T,u=Q(T,["__scopeRovingFocusGroup","focusable","active","tabStopId","children"]),d=zr(),f=o||d,g=wW(Fb,t),y=g.currentTabStopId===f,x=Rb(t),{onFocusableItemAdd:w,onFocusableItemRemove:C,currentTabStopId:S}=g;return k.useEffect(()=>{if(r)return w(),()=>C()},[r,w,C]),a.jsx(iy.ItemSlot,{scope:t,id:f,focusable:r,active:s,children:a.jsx(lt.span,U(b({tabIndex:y?0:-1,"data-orientation":g.orientation},u),{ref:e,onMouseDown:Ie(n.onMouseDown,E=>{r?g.onItemFocus(f):E.preventDefault()}),onFocus:Ie(n.onFocus,()=>g.onItemFocus(f)),onKeyDown:Ie(n.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){g.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const P=SW(E,g.orientation,g.dir);if(P!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let A=x().filter(D=>D.focusable).map(D=>D.ref.current);if(P==="last")A.reverse();else if(P==="prev"||P==="next"){P==="prev"&&A.reverse();const D=A.indexOf(E.currentTarget);A=g.loop?bW(A,D+1):A.slice(D+1)}setTimeout(()=>Ub(A))}}),children:typeof l=="function"?l({isCurrentTabStop:y,hasTabStop:S!=null}):l}))})});$b.displayName=Fb;var kW={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function CW(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function SW(n,e,t){const r=CW(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return kW[r]}function Ub(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function bW(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var TW=Lb,NW=$b,ay=["Enter"," "],EW=["ArrowDown","PageUp","Home"],Vb=["ArrowUp","PageDown","End"],MW=[...EW,...Vb],DW={ltr:[...ay,"ArrowRight"],rtl:[...ay,"ArrowLeft"]},IW={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mu="Menu",[lu,jW,AW]=av(Mu),[fa,Ch]=ws(Mu,[AW,Ol,Ob]),Du=Ol(),Bb=Ob(),[zb,Ni]=fa(Mu),[PW,Iu]=fa(Mu),Wb=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:s,onOpenChange:o,modal:l=!0}=n,u=Du(e),[d,f]=k.useState(null),g=k.useRef(!1),y=Hr(o),x=lv(s);return k.useEffect(()=>{const w=()=>{g.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>g.current=!1;return document.addEventListener("keydown",w,{capture:!0}),()=>{document.removeEventListener("keydown",w,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),a.jsx(mh,U(b({},u),{children:a.jsx(zb,{scope:e,open:t,onOpenChange:y,content:d,onContentChange:f,children:a.jsx(PW,{scope:e,onClose:k.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:g,dir:x,modal:l,children:r})})}))};Wb.displayName=Mu;var RW="MenuAnchor",cv=k.forwardRef((n,e)=>{const o=n,{__scopeMenu:t}=o,r=Q(o,["__scopeMenu"]),s=Du(t);return a.jsx(Wy,U(b(b({},s),r),{ref:e}))});cv.displayName=RW;var uv="MenuPortal",[OW,Hb]=fa(uv,{forceMount:void 0}),Gb=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:s}=n,o=Ni(uv,e);return a.jsx(OW,{scope:e,forceMount:t,children:a.jsx(_s,{present:t||o.open,children:a.jsx(xu,{asChild:!0,container:s,children:r})})})};Gb.displayName=uv;var Wr="MenuContent",[LW,dv]=fa(Wr),Yb=k.forwardRef((n,e)=>{const t=Hb(Wr,n.__scopeMenu),u=n,{forceMount:r=t.forceMount}=u,s=Q(u,["forceMount"]),o=Ni(Wr,n.__scopeMenu),l=Iu(Wr,n.__scopeMenu);return a.jsx(lu.Provider,{scope:n.__scopeMenu,children:a.jsx(_s,{present:r||o.open,children:a.jsx(lu.Slot,{scope:n.__scopeMenu,children:l.modal?a.jsx(FW,U(b({},s),{ref:e})):a.jsx($W,U(b({},s),{ref:e}))})})})}),FW=k.forwardRef((n,e)=>{const t=Ni(Wr,n.__scopeMenu),r=k.useRef(null),s=Dt(e,r);return k.useEffect(()=>{const o=r.current;if(o)return My(o)},[]),a.jsx(fv,U(b({},n),{ref:s,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ie(n.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)}))}),$W=k.forwardRef((n,e)=>{const t=Ni(Wr,n.__scopeMenu);return a.jsx(fv,U(b({},n),{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)}))}),UW=ra("MenuContent.ScrollLock"),fv=k.forwardRef((n,e)=>{const H=n,{__scopeMenu:t,loop:r=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:x,onDismiss:w,disableOutsideScroll:C}=H,S=Q(H,["__scopeMenu","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll"]),T=Ni(Wr,t),E=Iu(Wr,t),P=Du(t),I=Bb(t),A=jW(t),[D,O]=k.useState(null),L=k.useRef(null),V=Dt(e,L,T.onContentChange),B=k.useRef(0),ee=k.useRef(""),X=k.useRef(0),se=k.useRef(null),ce=k.useRef("right"),ke=k.useRef(0),xe=C?lh:k.Fragment,me=C?{as:UW,allowPinchZoom:!0}:void 0,pe=$=>{var Y,he;const F=ee.current+$,q=A().filter(Me=>!Me.disabled),W=document.activeElement,ne=(Y=q.find(Me=>Me.ref.current===W))==null?void 0:Y.textValue,G=q.map(Me=>Me.textValue),oe=QW(G,F,ne),le=(he=q.find(Me=>Me.textValue===oe))==null?void 0:he.ref.current;(function Me(Be){ee.current=Be,window.clearTimeout(B.current),Be!==""&&(B.current=window.setTimeout(()=>Me(""),1e3))})(F),le&&setTimeout(()=>le.focus())};k.useEffect(()=>()=>window.clearTimeout(B.current),[]),Ey();const j=k.useCallback($=>{var q,W;return ce.current===((q=se.current)==null?void 0:q.side)&&e7($,(W=se.current)==null?void 0:W.area)},[]);return a.jsx(LW,{scope:t,searchRef:ee,onItemEnter:k.useCallback($=>{j($)&&$.preventDefault()},[j]),onItemLeave:k.useCallback($=>{var F;j($)||((F=L.current)==null||F.focus(),O(null))},[j]),onTriggerLeave:k.useCallback($=>{j($)&&$.preventDefault()},[j]),pointerGraceTimerRef:X,onPointerGraceIntentChange:k.useCallback($=>{se.current=$},[]),children:a.jsx(xe,U(b({},me),{children:a.jsx(ih,{asChild:!0,trapped:s,onMountAutoFocus:Ie(o,$=>{var F;$.preventDefault(),(F=L.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:a.jsx(vu,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:g,onFocusOutside:y,onInteractOutside:x,onDismiss:w,children:a.jsx(TW,U(b({asChild:!0},I),{dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:O,onEntryFocus:Ie(d,$=>{E.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Hy,U(b(b({role:"menu","aria-orientation":"vertical","data-state":uT(T.open),"data-radix-menu-content":"",dir:E.dir},P),S),{ref:V,style:b({outline:"none"},S.style),onKeyDown:Ie(S.onKeyDown,$=>{const q=$.target.closest("[data-radix-menu-content]")===$.currentTarget,W=$.ctrlKey||$.altKey||$.metaKey,ne=$.key.length===1;q&&($.key==="Tab"&&$.preventDefault(),!W&&ne&&pe($.key));const G=L.current;if($.target!==G||!MW.includes($.key))return;$.preventDefault();const le=A().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);Vb.includes($.key)&&le.reverse(),JW(le)}),onBlur:Ie(n.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(B.current),ee.current="")}),onPointerMove:Ie(n.onPointerMove,cu($=>{const F=$.target,q=ke.current!==$.clientX;if($.currentTarget.contains(F)&&q){const W=$.clientX>ke.current?"right":"left";ce.current=W,ke.current=$.clientX}}))}))}))})})}))})});Yb.displayName=Wr;var VW="MenuGroup",hv=k.forwardRef((n,e)=>{const s=n,{__scopeMenu:t}=s,r=Q(s,["__scopeMenu"]);return a.jsx(lt.div,U(b({role:"group"},r),{ref:e}))});hv.displayName=VW;var BW="MenuLabel",qb=k.forwardRef((n,e)=>{const s=n,{__scopeMenu:t}=s,r=Q(s,["__scopeMenu"]);return a.jsx(lt.div,U(b({},r),{ref:e}))});qb.displayName=BW;var Kf="MenuItem",xk="menu.itemSelect",Sh=k.forwardRef((n,e)=>{const y=n,{disabled:t=!1,onSelect:r}=y,s=Q(y,["disabled","onSelect"]),o=k.useRef(null),l=Iu(Kf,n.__scopeMenu),u=dv(Kf,n.__scopeMenu),d=Dt(e,o),f=k.useRef(!1),g=()=>{const x=o.current;if(!t&&x){const w=new CustomEvent(xk,{bubbles:!0,cancelable:!0});x.addEventListener(xk,C=>r==null?void 0:r(C),{once:!0}),dC(x,w),w.defaultPrevented?f.current=!1:l.onClose()}};return a.jsx(Kb,U(b({},s),{ref:d,disabled:t,onClick:Ie(n.onClick,g),onPointerDown:x=>{var w;(w=n.onPointerDown)==null||w.call(n,x),f.current=!0},onPointerUp:Ie(n.onPointerUp,x=>{var w;f.current||(w=x.currentTarget)==null||w.click()}),onKeyDown:Ie(n.onKeyDown,x=>{const w=u.searchRef.current!=="";t||w&&x.key===" "||ay.includes(x.key)&&(x.currentTarget.click(),x.preventDefault())})}))});Sh.displayName=Kf;var Kb=k.forwardRef((n,e)=>{const C=n,{__scopeMenu:t,disabled:r=!1,textValue:s}=C,o=Q(C,["__scopeMenu","disabled","textValue"]),l=dv(Kf,t),u=Bb(t),d=k.useRef(null),f=Dt(e,d),[g,y]=k.useState(!1),[x,w]=k.useState("");return k.useEffect(()=>{var T;const S=d.current;S&&w(((T=S.textContent)!=null?T:"").trim())},[o.children]),a.jsx(lu.ItemSlot,{scope:t,disabled:r,textValue:s!=null?s:x,children:a.jsx(NW,U(b({asChild:!0},u),{focusable:!r,children:a.jsx(lt.div,U(b({role:"menuitem","data-highlighted":g?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0},o),{ref:f,onPointerMove:Ie(n.onPointerMove,cu(S=>{r?l.onItemLeave(S):(l.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(n.onPointerLeave,cu(S=>l.onItemLeave(S))),onFocus:Ie(n.onFocus,()=>y(!0)),onBlur:Ie(n.onBlur,()=>y(!1))}))}))})}),zW="MenuCheckboxItem",Jb=k.forwardRef((n,e)=>{const o=n,{checked:t=!1,onCheckedChange:r}=o,s=Q(o,["checked","onCheckedChange"]);return a.jsx(tT,{scope:n.__scopeMenu,checked:t,children:a.jsx(Sh,U(b({role:"menuitemcheckbox","aria-checked":Jf(t)?"mixed":t},s),{ref:e,"data-state":gv(t),onSelect:Ie(s.onSelect,()=>r==null?void 0:r(Jf(t)?!0:!t),{checkForDefaultPrevented:!1})}))})});Jb.displayName=zW;var Zb="MenuRadioGroup",[WW,HW]=fa(Zb,{value:void 0,onValueChange:()=>{}}),Qb=k.forwardRef((n,e)=>{const l=n,{value:t,onValueChange:r}=l,s=Q(l,["value","onValueChange"]),o=Hr(r);return a.jsx(WW,{scope:n.__scopeMenu,value:t,onValueChange:o,children:a.jsx(hv,U(b({},s),{ref:e}))})});Qb.displayName=Zb;var Xb="MenuRadioItem",eT=k.forwardRef((n,e)=>{const l=n,{value:t}=l,r=Q(l,["value"]),s=HW(Xb,n.__scopeMenu),o=t===s.value;return a.jsx(tT,{scope:n.__scopeMenu,checked:o,children:a.jsx(Sh,U(b({role:"menuitemradio","aria-checked":o},r),{ref:e,"data-state":gv(o),onSelect:Ie(r.onSelect,()=>{var u;return(u=s.onValueChange)==null?void 0:u.call(s,t)},{checkForDefaultPrevented:!1})}))})});eT.displayName=Xb;var mv="MenuItemIndicator",[tT,GW]=fa(mv,{checked:!1}),nT=k.forwardRef((n,e)=>{const l=n,{__scopeMenu:t,forceMount:r}=l,s=Q(l,["__scopeMenu","forceMount"]),o=GW(mv,t);return a.jsx(_s,{present:r||Jf(o.checked)||o.checked===!0,children:a.jsx(lt.span,U(b({},s),{ref:e,"data-state":gv(o.checked)}))})});nT.displayName=mv;var YW="MenuSeparator",rT=k.forwardRef((n,e)=>{const s=n,{__scopeMenu:t}=s,r=Q(s,["__scopeMenu"]);return a.jsx(lt.div,U(b({role:"separator","aria-orientation":"horizontal"},r),{ref:e}))});rT.displayName=YW;var qW="MenuArrow",sT=k.forwardRef((n,e)=>{const o=n,{__scopeMenu:t}=o,r=Q(o,["__scopeMenu"]),s=Du(t);return a.jsx(Gy,U(b(b({},s),r),{ref:e}))});sT.displayName=qW;var pv="MenuSub",[KW,oT]=fa(pv),iT=n=>{const{__scopeMenu:e,children:t,open:r=!1,onOpenChange:s}=n,o=Ni(pv,e),l=Du(e),[u,d]=k.useState(null),[f,g]=k.useState(null),y=Hr(s);return k.useEffect(()=>(o.open===!1&&y(!1),()=>y(!1)),[o.open,y]),a.jsx(mh,U(b({},l),{children:a.jsx(zb,{scope:e,open:r,onOpenChange:y,content:f,onContentChange:g,children:a.jsx(KW,{scope:e,contentId:zr(),triggerId:zr(),trigger:u,onTriggerChange:d,children:t})})}))};iT.displayName=pv;var Fc="MenuSubTrigger",aT=k.forwardRef((n,e)=>{const t=Ni(Fc,n.__scopeMenu),r=Iu(Fc,n.__scopeMenu),s=oT(Fc,n.__scopeMenu),o=dv(Fc,n.__scopeMenu),l=k.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=o,f={__scopeMenu:n.__scopeMenu},g=k.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return k.useEffect(()=>g,[g]),k.useEffect(()=>{const y=u.current;return()=>{window.clearTimeout(y),d(null)}},[u,d]),a.jsx(cv,U(b({asChild:!0},f),{children:a.jsx(Kb,U(b({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":s.contentId,"data-state":uT(t.open)},n),{ref:oh(e,s.onTriggerChange),onClick:y=>{var x;(x=n.onClick)==null||x.call(n,y),!(n.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ie(n.onPointerMove,cu(y=>{o.onItemEnter(y),!y.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),g()},100))})),onPointerLeave:Ie(n.onPointerLeave,cu(y=>{var w,C;g();const x=(w=t.content)==null?void 0:w.getBoundingClientRect();if(x){const S=(C=t.content)==null?void 0:C.dataset.side,T=S==="right",E=T?-5:5,P=x[T?"left":"right"],I=x[T?"right":"left"];o.onPointerGraceIntentChange({area:[{x:y.clientX+E,y:y.clientY},{x:P,y:x.top},{x:I,y:x.top},{x:I,y:x.bottom},{x:P,y:x.bottom}],side:S}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(y),y.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(n.onKeyDown,y=>{var w;const x=o.searchRef.current!=="";n.disabled||x&&y.key===" "||DW[r.dir].includes(y.key)&&(t.onOpenChange(!0),(w=t.content)==null||w.focus(),y.preventDefault())})}))}))});aT.displayName=Fc;var lT="MenuSubContent",cT=k.forwardRef((n,e)=>{const t=Hb(Wr,n.__scopeMenu),g=n,{forceMount:r=t.forceMount}=g,s=Q(g,["forceMount"]),o=Ni(Wr,n.__scopeMenu),l=Iu(Wr,n.__scopeMenu),u=oT(lT,n.__scopeMenu),d=k.useRef(null),f=Dt(e,d);return a.jsx(lu.Provider,{scope:n.__scopeMenu,children:a.jsx(_s,{present:r||o.open,children:a.jsx(lu.Slot,{scope:n.__scopeMenu,children:a.jsx(fv,U(b({id:u.contentId,"aria-labelledby":u.triggerId},s),{ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:y=>{var x;l.isUsingKeyboardRef.current&&((x=d.current)==null||x.focus()),y.preventDefault()},onCloseAutoFocus:y=>y.preventDefault(),onFocusOutside:Ie(n.onFocusOutside,y=>{y.target!==u.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:Ie(n.onEscapeKeyDown,y=>{l.onClose(),y.preventDefault()}),onKeyDown:Ie(n.onKeyDown,y=>{var C;const x=y.currentTarget.contains(y.target),w=IW[l.dir].includes(y.key);x&&w&&(o.onOpenChange(!1),(C=u.trigger)==null||C.focus(),y.preventDefault())})}))})})})});cT.displayName=lT;function uT(n){return n?"open":"closed"}function Jf(n){return n==="indeterminate"}function gv(n){return Jf(n)?"indeterminate":n?"checked":"unchecked"}function JW(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function ZW(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function QW(n,e,t){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let l=ZW(n,Math.max(o,0));s.length===1&&(l=l.filter(f=>f!==t));const d=l.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return d!==t?d:void 0}function XW(n,e){const{x:t,y:r}=n;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const u=e[o],d=e[l],f=u.x,g=u.y,y=d.x,x=d.y;g>r!=x>r&&t<(y-f)*(r-g)/(x-g)+f&&(s=!s)}return s}function e7(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return XW(t,e)}function cu(n){return e=>e.pointerType==="mouse"?n(e):void 0}var dT=Wb,fT=cv,hT=Gb,mT=Yb,pT=hv,gT=qb,yT=Sh,vT=Jb,xT=Qb,wT=eT,_T=nT,kT=rT,CT=sT,t7=iT,ST=aT,bT=cT,bh="DropdownMenu",[n7,zQ]=ws(bh,[Ch]),lr=Ch(),[r7,TT]=n7(bh),NT=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:s,defaultOpen:o,onOpenChange:l,modal:u=!0}=n,d=lr(e),f=k.useRef(null),[g,y]=No({prop:s,defaultProp:o!=null?o:!1,onChange:l,caller:bh});return a.jsx(r7,{scope:e,triggerId:zr(),triggerRef:f,contentId:zr(),open:g,onOpenChange:y,onOpenToggle:k.useCallback(()=>y(x=>!x),[y]),modal:u,children:a.jsx(dT,U(b({},d),{open:g,onOpenChange:y,dir:r,modal:u,children:t}))})};NT.displayName=bh;var ET="DropdownMenuTrigger",MT=k.forwardRef((n,e)=>{const u=n,{__scopeDropdownMenu:t,disabled:r=!1}=u,s=Q(u,["__scopeDropdownMenu","disabled"]),o=TT(ET,t),l=lr(t);return a.jsx(fT,U(b({asChild:!0},l),{children:a.jsx(lt.button,U(b({type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r},s),{ref:oh(e,o.triggerRef),onPointerDown:Ie(n.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(o.onOpenToggle(),o.open||d.preventDefault())}),onKeyDown:Ie(n.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&o.onOpenToggle(),d.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})}))}))});MT.displayName=ET;var s7="DropdownMenuPortal",DT=n=>{const s=n,{__scopeDropdownMenu:e}=s,t=Q(s,["__scopeDropdownMenu"]),r=lr(e);return a.jsx(hT,b(b({},r),t))};DT.displayName=s7;var IT="DropdownMenuContent",jT=k.forwardRef((n,e)=>{const u=n,{__scopeDropdownMenu:t}=u,r=Q(u,["__scopeDropdownMenu"]),s=TT(IT,t),o=lr(t),l=k.useRef(!1);return a.jsx(mT,U(b(b({id:s.contentId,"aria-labelledby":s.triggerId},o),r),{ref:e,onCloseAutoFocus:Ie(n.onCloseAutoFocus,d=>{var f;l.current||(f=s.triggerRef.current)==null||f.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:Ie(n.onInteractOutside,d=>{const f=d.detail.originalEvent,g=f.button===0&&f.ctrlKey===!0,y=f.button===2||g;(!s.modal||y)&&(l.current=!0)}),style:U(b({},n.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});jT.displayName=IT;var o7="DropdownMenuGroup",i7=k.forwardRef((n,e)=>{const o=n,{__scopeDropdownMenu:t}=o,r=Q(o,["__scopeDropdownMenu"]),s=lr(t);return a.jsx(pT,U(b(b({},s),r),{ref:e}))});i7.displayName=o7;var a7="DropdownMenuLabel",l7=k.forwardRef((n,e)=>{const o=n,{__scopeDropdownMenu:t}=o,r=Q(o,["__scopeDropdownMenu"]),s=lr(t);return a.jsx(gT,U(b(b({},s),r),{ref:e}))});l7.displayName=a7;var c7="DropdownMenuItem",AT=k.forwardRef((n,e)=>{const o=n,{__scopeDropdownMenu:t}=o,r=Q(o,["__scopeDropdownMenu"]),s=lr(t);return a.jsx(yT,U(b(b({},s),r),{ref:e}))});AT.displayName=c7;var u7="DropdownMenuCheckboxItem",d7=k.forwardRef((n,e)=>{const o=n,{__scopeDropdownMenu:t}=o,r=Q(o,["__scopeDropdownMenu"]),s=lr(t);return a.jsx(vT,U(b(b({},s),r),{ref:e}))});d7.displayName=u7;var f7="DropdownMenuRadioGroup",h7=k.forwardRef((n,e)=>{const o=n,{__scopeDropdownMenu:t}=o,r=Q(o,["__scopeDropdownMenu"]),s=lr(t);return a.jsx(xT,U(b(b({},s),r),{ref:e}))});h7.displayName=f7;var m7="DropdownMenuRadioItem",p7=k.forwardRef((n,e)=>{const o=n,{__scopeDropdownMenu:t}=o,r=Q(o,["__scopeDropdownMenu"]),s=lr(t);return a.jsx(wT,U(b(b({},s),r),{ref:e}))});p7.displayName=m7;var g7="DropdownMenuItemIndicator",y7=k.forwardRef((n,e)=>{const o=n,{__scopeDropdownMenu:t}=o,r=Q(o,["__scopeDropdownMenu"]),s=lr(t);return a.jsx(_T,U(b(b({},s),r),{ref:e}))});y7.displayName=g7;var v7="DropdownMenuSeparator",PT=k.forwardRef((n,e)=>{const o=n,{__scopeDropdownMenu:t}=o,r=Q(o,["__scopeDropdownMenu"]),s=lr(t);return a.jsx(kT,U(b(b({},s),r),{ref:e}))});PT.displayName=v7;var x7="DropdownMenuArrow",w7=k.forwardRef((n,e)=>{const o=n,{__scopeDropdownMenu:t}=o,r=Q(o,["__scopeDropdownMenu"]),s=lr(t);return a.jsx(CT,U(b(b({},s),r),{ref:e}))});w7.displayName=x7;var _7="DropdownMenuSubTrigger",k7=k.forwardRef((n,e)=>{const o=n,{__scopeDropdownMenu:t}=o,r=Q(o,["__scopeDropdownMenu"]),s=lr(t);return a.jsx(ST,U(b(b({},s),r),{ref:e}))});k7.displayName=_7;var C7="DropdownMenuSubContent",S7=k.forwardRef((n,e)=>{const o=n,{__scopeDropdownMenu:t}=o,r=Q(o,["__scopeDropdownMenu"]),s=lr(t);return a.jsx(bT,U(b(b({},s),r),{ref:e,style:U(b({},n.style),{"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});S7.displayName=C7;var b7=NT,T7=MT,N7=DT,E7=jT,M7=AT,D7=PT;function I7(e){var n=Q(e,[]);return a.jsx(b7,b({"data-slot":"dropdown-menu"},n))}function j7(e){var n=Q(e,[]);return a.jsx(T7,b({"data-slot":"dropdown-menu-trigger"},n))}function A7(r){var s=r,{className:n,sideOffset:e=4}=s,t=Q(s,["className","sideOffset"]);return a.jsx(N7,{children:a.jsx(E7,b({"data-slot":"dropdown-menu-content",sideOffset:e,className:ae("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n)},t))})}function wk(s){var o=s,{className:n,inset:e,variant:t="default"}=o,r=Q(o,["className","inset","variant"]);return a.jsx(M7,b({"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":t,className:ae("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n)},r))}function P7(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx(D7,b({"data-slot":"dropdown-menu-separator",className:ae("bg-border -mx-1 my-1 h-px",n)},e))}function yv(n){const e=k.useRef({value:n,previous:n});return k.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var Th="Checkbox",[R7,WQ]=ws(Th),[O7,vv]=R7(Th);function L7(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:s,disabled:o,form:l,name:u,onCheckedChange:d,required:f,value:g="on",internal_do_not_use_render:y}=n,[x,w]=No({prop:t,defaultProp:s!=null?s:!1,onChange:d,caller:Th}),[C,S]=k.useState(null),[T,E]=k.useState(null),P=k.useRef(!1),I=C?!!l||!!C.closest("form"):!0,A={checked:x,disabled:o,setChecked:w,control:C,setControl:S,name:u,form:l,value:g,hasConsumerStoppedPropagationRef:P,required:f,defaultChecked:vi(s)?!1:s,isFormControl:I,bubbleInput:T,setBubbleInput:E};return a.jsx(O7,U(b({scope:e},A),{children:F7(y)?y(A):r}))}var RT="CheckboxTrigger",OT=k.forwardRef((o,s)=>{var l=o,{__scopeCheckbox:n,onKeyDown:e,onClick:t}=l,r=Q(l,["__scopeCheckbox","onKeyDown","onClick"]);const{control:u,value:d,disabled:f,checked:g,required:y,setControl:x,setChecked:w,hasConsumerStoppedPropagationRef:C,isFormControl:S,bubbleInput:T}=vv(RT,n),E=Dt(s,x),P=k.useRef(g);return k.useEffect(()=>{const I=u==null?void 0:u.form;if(I){const A=()=>w(P.current);return I.addEventListener("reset",A),()=>I.removeEventListener("reset",A)}},[u,w]),a.jsx(lt.button,U(b({type:"button",role:"checkbox","aria-checked":vi(g)?"mixed":g,"aria-required":y,"data-state":VT(g),"data-disabled":f?"":void 0,disabled:f,value:d},r),{ref:E,onKeyDown:Ie(e,I=>{I.key==="Enter"&&I.preventDefault()}),onClick:Ie(t,I=>{w(A=>vi(A)?!0:!A),T&&S&&(C.current=I.isPropagationStopped(),C.current||I.stopPropagation())})}))});OT.displayName=RT;var xv=k.forwardRef((n,e)=>{const x=n,{__scopeCheckbox:t,name:r,checked:s,defaultChecked:o,required:l,disabled:u,value:d,onCheckedChange:f,form:g}=x,y=Q(x,["__scopeCheckbox","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]);return a.jsx(L7,{__scopeCheckbox:t,checked:s,defaultChecked:o,disabled:u,required:l,onCheckedChange:f,name:r,form:g,value:d,internal_do_not_use_render:({isFormControl:w})=>a.jsxs(a.Fragment,{children:[a.jsx(OT,U(b({},y),{ref:e,__scopeCheckbox:t})),w&&a.jsx(UT,{__scopeCheckbox:t})]})})});xv.displayName=Th;var LT="CheckboxIndicator",FT=k.forwardRef((n,e)=>{const l=n,{__scopeCheckbox:t,forceMount:r}=l,s=Q(l,["__scopeCheckbox","forceMount"]),o=vv(LT,t);return a.jsx(_s,{present:r||vi(o.checked)||o.checked===!0,children:a.jsx(lt.span,U(b({"data-state":VT(o.checked),"data-disabled":o.disabled?"":void 0},s),{ref:e,style:b({pointerEvents:"none"},n.style)}))})});FT.displayName=LT;var $T="CheckboxBubbleInput",UT=k.forwardRef((r,t)=>{var s=r,{__scopeCheckbox:n}=s,e=Q(s,["__scopeCheckbox"]);const{control:o,hasConsumerStoppedPropagationRef:l,checked:u,defaultChecked:d,required:f,disabled:g,name:y,value:x,form:w,bubbleInput:C,setBubbleInput:S}=vv($T,n),T=Dt(t,S),E=yv(u),P=Vy(o);k.useEffect(()=>{const A=C;if(!A)return;const D=window.HTMLInputElement.prototype,L=Object.getOwnPropertyDescriptor(D,"checked").set,V=!l.current;if(E!==u&&L){const B=new Event("click",{bubbles:V});A.indeterminate=vi(u),L.call(A,vi(u)?!1:u),A.dispatchEvent(B)}},[C,E,u,l]);const I=k.useRef(vi(u)?!1:u);return a.jsx(lt.input,U(b({type:"checkbox","aria-hidden":!0,defaultChecked:d!=null?d:I.current,required:f,disabled:g,name:y,value:x,form:w},e),{tabIndex:-1,ref:T,style:U(b(b({},e.style),P),{position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"})}))});UT.displayName=$T;function F7(n){return typeof n=="function"}function vi(n){return n==="indeterminate"}function VT(n){return vi(n)?"indeterminate":n?"checked":"unchecked"}const En=k.forwardRef((r,t)=>{var s=r,{className:n}=s,e=Q(s,["className"]);return a.jsx(xv,U(b({ref:t,className:ae("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n)},e),{children:a.jsx(FT,{className:ae("flex items-center justify-center text-current"),children:a.jsx($s,{className:"h-4 w-4"})})}))});En.displayName=xv.displayName;var $7="Label",BT=k.forwardRef((n,e)=>a.jsx(lt.label,U(b({},n),{ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));BT.displayName=$7;var zT=BT;const U7=yu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mr=k.forwardRef((r,t)=>{var s=r,{className:n}=s,e=Q(s,["className"]);return a.jsx(zT,b({ref:t,className:ae(U7(),n)},e))});Mr.displayName=zT.displayName;function _k(n,[e,t]){return Math.min(t,Math.max(e,n))}var V7=[" ","Enter","ArrowUp","ArrowDown"],B7=[" ","Enter"],ca="Select",[Nh,Eh,z7]=av(ca),[Vl,HQ]=ws(ca,[z7,Ol]),Mh=Ol(),[W7,Ei]=Vl(ca),[H7,G7]=Vl(ca),WT=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:s,onOpenChange:o,value:l,defaultValue:u,onValueChange:d,dir:f,name:g,autoComplete:y,disabled:x,required:w,form:C}=n,S=Mh(e),[T,E]=k.useState(null),[P,I]=k.useState(null),[A,D]=k.useState(!1),O=lv(f),[L,V]=No({prop:r,defaultProp:s!=null?s:!1,onChange:o,caller:ca}),[B,ee]=No({prop:l,defaultProp:u,onChange:d,caller:ca}),X=k.useRef(null),se=T?C||!!T.closest("form"):!0,[ce,ke]=k.useState(new Set),xe=Array.from(ce).map(me=>me.props.value).join(";");return a.jsx(mh,U(b({},S),{children:a.jsxs(W7,{required:w,scope:e,trigger:T,onTriggerChange:E,valueNode:P,onValueNodeChange:I,valueNodeHasChildren:A,onValueNodeHasChildrenChange:D,contentId:zr(),value:B,onValueChange:ee,open:L,onOpenChange:V,dir:O,triggerPointerDownPosRef:X,disabled:x,children:[a.jsx(Nh.Provider,{scope:e,children:a.jsx(H7,{scope:n.__scopeSelect,onNativeOptionAdd:k.useCallback(me=>{ke(pe=>new Set(pe).add(me))},[]),onNativeOptionRemove:k.useCallback(me=>{ke(pe=>{const j=new Set(pe);return j.delete(me),j})},[]),children:t})}),se?a.jsxs(mN,{"aria-hidden":!0,required:w,tabIndex:-1,name:g,autoComplete:y,value:B,onChange:me=>ee(me.target.value),disabled:x,form:C,children:[B===void 0?a.jsx("option",{value:""}):null,Array.from(ce)]},xe):null]})}))};WT.displayName=ca;var HT="SelectTrigger",GT=k.forwardRef((n,e)=>{const S=n,{__scopeSelect:t,disabled:r=!1}=S,s=Q(S,["__scopeSelect","disabled"]),o=Mh(t),l=Ei(HT,t),u=l.disabled||r,d=Dt(e,l.onTriggerChange),f=Eh(t),g=k.useRef("touch"),[y,x,w]=gN(T=>{const E=f().filter(A=>!A.disabled),P=E.find(A=>A.value===l.value),I=yN(E,T,P);I!==void 0&&l.onValueChange(I.value)}),C=T=>{u||(l.onOpenChange(!0),w()),T&&(l.triggerPointerDownPosRef.current={x:Math.round(T.pageX),y:Math.round(T.pageY)})};return a.jsx(Wy,U(b({asChild:!0},o),{children:a.jsx(lt.button,U(b({type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":pN(l.value)?"":void 0},s),{ref:d,onClick:Ie(s.onClick,T=>{T.currentTarget.focus(),g.current!=="mouse"&&C(T)}),onPointerDown:Ie(s.onPointerDown,T=>{g.current=T.pointerType;const E=T.target;E.hasPointerCapture(T.pointerId)&&E.releasePointerCapture(T.pointerId),T.button===0&&T.ctrlKey===!1&&T.pointerType==="mouse"&&(C(T),T.preventDefault())}),onKeyDown:Ie(s.onKeyDown,T=>{const E=y.current!=="";!(T.ctrlKey||T.altKey||T.metaKey)&&T.key.length===1&&x(T.key),!(E&&T.key===" ")&&V7.includes(T.key)&&(C(),T.preventDefault())})}))}))});GT.displayName=HT;var YT="SelectValue",qT=k.forwardRef((n,e)=>{const x=n,{__scopeSelect:t,className:r,style:s,children:o,placeholder:l=""}=x,u=Q(x,["__scopeSelect","className","style","children","placeholder"]),d=Ei(YT,t),{onValueNodeHasChildrenChange:f}=d,g=o!==void 0,y=Dt(e,d.onValueNodeChange);return Xn(()=>{f(g)},[f,g]),a.jsx(lt.span,U(b({},u),{ref:y,style:{pointerEvents:"none"},children:pN(d.value)?a.jsx(a.Fragment,{children:l}):o}))});qT.displayName=YT;var Y7="SelectIcon",KT=k.forwardRef((n,e)=>{const o=n,{__scopeSelect:t,children:r}=o,s=Q(o,["__scopeSelect","children"]);return a.jsx(lt.span,U(b({"aria-hidden":!0},s),{ref:e,children:r||"▼"}))});KT.displayName=Y7;var q7="SelectPortal",JT=n=>a.jsx(xu,b({asChild:!0},n));JT.displayName=q7;var ua="SelectContent",ZT=k.forwardRef((n,e)=>{const t=Ei(ua,n.__scopeSelect),[r,s]=k.useState();if(Xn(()=>{s(new DocumentFragment)},[]),!t.open){const o=r;return o?Al.createPortal(a.jsx(QT,{scope:n.__scopeSelect,children:a.jsx(Nh.Slot,{scope:n.__scopeSelect,children:a.jsx("div",{children:n.children})})}),o):null}return a.jsx(XT,U(b({},n),{ref:e}))});ZT.displayName=ua;var os=10,[QT,Mi]=Vl(ua),K7="SelectContentImpl",J7=ra("SelectContent.RemoveScroll"),XT=k.forwardRef((n,e)=>{const le=n,{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:g,arrowPadding:y,collisionBoundary:x,collisionPadding:w,sticky:C,hideWhenDetached:S,avoidCollisions:T}=le,E=Q(le,["__scopeSelect","position","onCloseAutoFocus","onEscapeKeyDown","onPointerDownOutside","side","sideOffset","align","alignOffset","arrowPadding","collisionBoundary","collisionPadding","sticky","hideWhenDetached","avoidCollisions"]),P=Ei(ua,t),[I,A]=k.useState(null),[D,O]=k.useState(null),L=Dt(e,Y=>A(Y)),[V,B]=k.useState(null),[ee,X]=k.useState(null),se=Eh(t),[ce,ke]=k.useState(!1),xe=k.useRef(!1);k.useEffect(()=>{if(I)return My(I)},[I]),Ey();const me=k.useCallback(Y=>{const[he,...Me]=se().map(et=>et.ref.current),[Be]=Me.slice(-1),$e=document.activeElement;for(const et of Y)if(et===$e||(et==null||et.scrollIntoView({block:"nearest"}),et===he&&D&&(D.scrollTop=0),et===Be&&D&&(D.scrollTop=D.scrollHeight),et==null||et.focus(),document.activeElement!==$e))return},[se,D]),pe=k.useCallback(()=>me([V,I]),[me,V,I]);k.useEffect(()=>{ce&&pe()},[ce,pe]);const{onOpenChange:j,triggerPointerDownPosRef:H}=P;k.useEffect(()=>{if(I){let Y={x:0,y:0};const he=Be=>{var $e,et,Ut,Yt;Y={x:Math.abs(Math.round(Be.pageX)-((et=($e=H.current)==null?void 0:$e.x)!=null?et:0)),y:Math.abs(Math.round(Be.pageY)-((Yt=(Ut=H.current)==null?void 0:Ut.y)!=null?Yt:0))}},Me=Be=>{Y.x<=10&&Y.y<=10?Be.preventDefault():I.contains(Be.target)||j(!1),document.removeEventListener("pointermove",he),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",Me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",Me,{capture:!0})}}},[I,j,H]),k.useEffect(()=>{const Y=()=>j(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[j]);const[$,F]=gN(Y=>{const he=se().filter($e=>!$e.disabled),Me=he.find($e=>$e.ref.current===document.activeElement),Be=yN(he,Y,Me);Be&&setTimeout(()=>Be.ref.current.focus())}),q=k.useCallback((Y,he,Me)=>{const Be=!xe.current&&!Me;(P.value!==void 0&&P.value===he||Be)&&(B(Y),Be&&(xe.current=!0))},[P.value]),W=k.useCallback(()=>I==null?void 0:I.focus(),[I]),ne=k.useCallback((Y,he,Me)=>{const Be=!xe.current&&!Me;(P.value!==void 0&&P.value===he||Be)&&X(Y)},[P.value]),G=r==="popper"?ly:eN,oe=G===ly?{side:u,sideOffset:d,align:f,alignOffset:g,arrowPadding:y,collisionBoundary:x,collisionPadding:w,sticky:C,hideWhenDetached:S,avoidCollisions:T}:{};return a.jsx(QT,{scope:t,content:I,viewport:D,onViewportChange:O,itemRefCallback:q,selectedItem:V,onItemLeave:W,itemTextRefCallback:ne,focusSelectedItem:pe,selectedItemText:ee,position:r,isPositioned:ce,searchRef:$,children:a.jsx(lh,{as:J7,allowPinchZoom:!0,children:a.jsx(ih,{asChild:!0,trapped:P.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:Ie(s,Y=>{var he;(he=P.trigger)==null||he.focus({preventScroll:!0}),Y.preventDefault()}),children:a.jsx(vu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:a.jsx(G,U(b(b({role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:Y=>Y.preventDefault()},E),oe),{onPlaced:()=>ke(!0),ref:L,style:b({display:"flex",flexDirection:"column",outline:"none"},E.style),onKeyDown:Ie(E.onKeyDown,Y=>{const he=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!he&&Y.key.length===1&&F(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let Be=se().filter($e=>!$e.disabled).map($e=>$e.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(Be=Be.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const $e=Y.target,et=Be.indexOf($e);Be=Be.slice(et+1)}setTimeout(()=>me(Be)),Y.preventDefault()}})}))})})})})});XT.displayName=K7;var Z7="SelectItemAlignedPosition",eN=k.forwardRef((n,e)=>{const L=n,{__scopeSelect:t,onPlaced:r}=L,s=Q(L,["__scopeSelect","onPlaced"]),o=Ei(ua,t),l=Mi(ua,t),[u,d]=k.useState(null),[f,g]=k.useState(null),y=Dt(e,V=>g(V)),x=Eh(t),w=k.useRef(!1),C=k.useRef(!0),{viewport:S,selectedItem:T,selectedItemText:E,focusSelectedItem:P}=l,I=k.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&f&&S&&T&&E){const V=o.trigger.getBoundingClientRect(),B=f.getBoundingClientRect(),ee=o.valueNode.getBoundingClientRect(),X=E.getBoundingClientRect();if(o.dir!=="rtl"){const $e=X.left-B.left,et=ee.left-$e,Ut=V.left-et,Yt=V.width+Ut,Vt=Math.max(Yt,B.width),gn=window.innerWidth-os,an=_k(et,[os,Math.max(os,gn-Vt)]);u.style.minWidth=Yt+"px",u.style.left=an+"px"}else{const $e=B.right-X.right,et=window.innerWidth-ee.right-$e,Ut=window.innerWidth-V.right-et,Yt=V.width+Ut,Vt=Math.max(Yt,B.width),gn=window.innerWidth-os,an=_k(et,[os,Math.max(os,gn-Vt)]);u.style.minWidth=Yt+"px",u.style.right=an+"px"}const se=x(),ce=window.innerHeight-os*2,ke=S.scrollHeight,xe=window.getComputedStyle(f),me=parseInt(xe.borderTopWidth,10),pe=parseInt(xe.paddingTop,10),j=parseInt(xe.borderBottomWidth,10),H=parseInt(xe.paddingBottom,10),$=me+pe+ke+H+j,F=Math.min(T.offsetHeight*5,$),q=window.getComputedStyle(S),W=parseInt(q.paddingTop,10),ne=parseInt(q.paddingBottom,10),G=V.top+V.height/2-os,oe=ce-G,le=T.offsetHeight/2,Y=T.offsetTop+le,he=me+pe+Y,Me=$-he;if(he<=G){const $e=se.length>0&&T===se[se.length-1].ref.current;u.style.bottom="0px";const et=f.clientHeight-S.offsetTop-S.offsetHeight,Ut=Math.max(oe,le+($e?ne:0)+et+j),Yt=he+Ut;u.style.height=Yt+"px"}else{const $e=se.length>0&&T===se[0].ref.current;u.style.top="0px";const Ut=Math.max(G,me+S.offsetTop+($e?W:0)+le)+Me;u.style.height=Ut+"px",S.scrollTop=he-G+S.offsetTop}u.style.margin=`${os}px 0`,u.style.minHeight=F+"px",u.style.maxHeight=ce+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[x,o.trigger,o.valueNode,u,f,S,T,E,o.dir,r]);Xn(()=>I(),[I]);const[A,D]=k.useState();Xn(()=>{f&&D(window.getComputedStyle(f).zIndex)},[f]);const O=k.useCallback(V=>{V&&C.current===!0&&(I(),P==null||P(),C.current=!1)},[I,P]);return a.jsx(X7,{scope:t,contentWrapper:u,shouldExpandOnScrollRef:w,onScrollButtonChange:O,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:a.jsx(lt.div,U(b({},s),{ref:y,style:b({boxSizing:"border-box",maxHeight:"100%"},s.style)}))})})});eN.displayName=Z7;var Q7="SelectPopperPosition",ly=k.forwardRef((n,e)=>{const u=n,{__scopeSelect:t,align:r="start",collisionPadding:s=os}=u,o=Q(u,["__scopeSelect","align","collisionPadding"]),l=Mh(t);return a.jsx(Hy,U(b(b({},l),o),{ref:e,align:r,collisionPadding:s,style:U(b({boxSizing:"border-box"},o.style),{"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"})}))});ly.displayName=Q7;var[X7,wv]=Vl(ua,{}),cy="SelectViewport",tN=k.forwardRef((n,e)=>{const f=n,{__scopeSelect:t,nonce:r}=f,s=Q(f,["__scopeSelect","nonce"]),o=Mi(cy,t),l=wv(cy,t),u=Dt(e,o.onViewportChange),d=k.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Nh.Slot,{scope:t,children:a.jsx(lt.div,U(b({"data-radix-select-viewport":"",role:"presentation"},s),{ref:u,style:b({position:"relative",flex:1,overflow:"hidden auto"},s.style),onScroll:Ie(s.onScroll,g=>{const y=g.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:w}=l;if(w!=null&&w.current&&x){const C=Math.abs(d.current-y.scrollTop);if(C>0){const S=window.innerHeight-os*2,T=parseFloat(x.style.minHeight),E=parseFloat(x.style.height),P=Math.max(T,E);if(P<S){const I=P+C,A=Math.min(S,I),D=I-A;x.style.height=A+"px",x.style.bottom==="0px"&&(y.scrollTop=D>0?D:0,x.style.justifyContent="flex-end")}}}d.current=y.scrollTop})}))})]})});tN.displayName=cy;var nN="SelectGroup",[eH,tH]=Vl(nN),nH=k.forwardRef((n,e)=>{const o=n,{__scopeSelect:t}=o,r=Q(o,["__scopeSelect"]),s=zr();return a.jsx(eH,{scope:t,id:s,children:a.jsx(lt.div,U(b({role:"group","aria-labelledby":s},r),{ref:e}))})});nH.displayName=nN;var rN="SelectLabel",sN=k.forwardRef((n,e)=>{const o=n,{__scopeSelect:t}=o,r=Q(o,["__scopeSelect"]),s=tH(rN,t);return a.jsx(lt.div,U(b({id:s.id},r),{ref:e}))});sN.displayName=rN;var Zf="SelectItem",[rH,oN]=Vl(Zf),iN=k.forwardRef((n,e)=>{const P=n,{__scopeSelect:t,value:r,disabled:s=!1,textValue:o}=P,l=Q(P,["__scopeSelect","value","disabled","textValue"]),u=Ei(Zf,t),d=Mi(Zf,t),f=u.value===r,[g,y]=k.useState(o!=null?o:""),[x,w]=k.useState(!1),C=Dt(e,I=>{var A;return(A=d.itemRefCallback)==null?void 0:A.call(d,I,r,s)}),S=zr(),T=k.useRef("touch"),E=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(rH,{scope:t,value:r,disabled:s,textId:S,isSelected:f,onItemTextChange:k.useCallback(I=>{y(A=>{var D;return A||((D=I==null?void 0:I.textContent)!=null?D:"").trim()})},[]),children:a.jsx(Nh.ItemSlot,{scope:t,value:r,disabled:s,textValue:g,children:a.jsx(lt.div,U(b({role:"option","aria-labelledby":S,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},l),{ref:C,onFocus:Ie(l.onFocus,()=>w(!0)),onBlur:Ie(l.onBlur,()=>w(!1)),onClick:Ie(l.onClick,()=>{T.current!=="mouse"&&E()}),onPointerUp:Ie(l.onPointerUp,()=>{T.current==="mouse"&&E()}),onPointerDown:Ie(l.onPointerDown,I=>{T.current=I.pointerType}),onPointerMove:Ie(l.onPointerMove,I=>{var A;T.current=I.pointerType,s?(A=d.onItemLeave)==null||A.call(d):T.current==="mouse"&&I.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(l.onPointerLeave,I=>{var A;I.currentTarget===document.activeElement&&((A=d.onItemLeave)==null||A.call(d))}),onKeyDown:Ie(l.onKeyDown,I=>{var D;((D=d.searchRef)==null?void 0:D.current)!==""&&I.key===" "||(B7.includes(I.key)&&E(),I.key===" "&&I.preventDefault())})}))})})});iN.displayName=Zf;var $c="SelectItemText",aN=k.forwardRef((n,e)=>{const E=n,{__scopeSelect:t,className:r,style:s}=E,o=Q(E,["__scopeSelect","className","style"]),l=Ei($c,t),u=Mi($c,t),d=oN($c,t),f=G7($c,t),[g,y]=k.useState(null),x=Dt(e,P=>y(P),d.onItemTextChange,P=>{var I;return(I=u.itemTextRefCallback)==null?void 0:I.call(u,P,d.value,d.disabled)}),w=g==null?void 0:g.textContent,C=k.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:w},d.value),[d.disabled,d.value,w]),{onNativeOptionAdd:S,onNativeOptionRemove:T}=f;return Xn(()=>(S(C),()=>T(C)),[S,T,C]),a.jsxs(a.Fragment,{children:[a.jsx(lt.span,U(b({id:d.textId},o),{ref:x})),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Al.createPortal(o.children,l.valueNode):null]})});aN.displayName=$c;var lN="SelectItemIndicator",cN=k.forwardRef((n,e)=>{const o=n,{__scopeSelect:t}=o,r=Q(o,["__scopeSelect"]);return oN(lN,t).isSelected?a.jsx(lt.span,U(b({"aria-hidden":!0},r),{ref:e})):null});cN.displayName=lN;var uy="SelectScrollUpButton",uN=k.forwardRef((n,e)=>{const t=Mi(uy,n.__scopeSelect),r=wv(uy,n.__scopeSelect),[s,o]=k.useState(!1),l=Dt(e,r.onScrollButtonChange);return Xn(()=>{if(t.viewport&&t.isPositioned){let u=function(){const f=d.scrollTop>0;o(f)};const d=t.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),s?a.jsx(fN,U(b({},n),{ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=t;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}})):null});uN.displayName=uy;var dy="SelectScrollDownButton",dN=k.forwardRef((n,e)=>{const t=Mi(dy,n.__scopeSelect),r=wv(dy,n.__scopeSelect),[s,o]=k.useState(!1),l=Dt(e,r.onScrollButtonChange);return Xn(()=>{if(t.viewport&&t.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,g=Math.ceil(d.scrollTop)<f;o(g)};const d=t.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[t.viewport,t.isPositioned]),s?a.jsx(fN,U(b({},n),{ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=t;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}})):null});dN.displayName=dy;var fN=k.forwardRef((n,e)=>{const f=n,{__scopeSelect:t,onAutoScroll:r}=f,s=Q(f,["__scopeSelect","onAutoScroll"]),o=Mi("SelectScrollButton",t),l=k.useRef(null),u=Eh(t),d=k.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return k.useEffect(()=>()=>d(),[d]),Xn(()=>{var y;const g=u().find(x=>x.ref.current===document.activeElement);(y=g==null?void 0:g.ref.current)==null||y.scrollIntoView({block:"nearest"})},[u]),a.jsx(lt.div,U(b({"aria-hidden":!0},s),{ref:e,style:b({flexShrink:0},s.style),onPointerDown:Ie(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Ie(s.onPointerMove,()=>{var g;(g=o.onItemLeave)==null||g.call(o),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Ie(s.onPointerLeave,()=>{d()})}))}),sH="SelectSeparator",hN=k.forwardRef((n,e)=>{const s=n,{__scopeSelect:t}=s,r=Q(s,["__scopeSelect"]);return a.jsx(lt.div,U(b({"aria-hidden":!0},r),{ref:e}))});hN.displayName=sH;var fy="SelectArrow",oH=k.forwardRef((n,e)=>{const u=n,{__scopeSelect:t}=u,r=Q(u,["__scopeSelect"]),s=Mh(t),o=Ei(fy,t),l=Mi(fy,t);return o.open&&l.position==="popper"?a.jsx(Gy,U(b(b({},s),r),{ref:e})):null});oH.displayName=fy;var iH="SelectBubbleInput",mN=k.forwardRef((s,r)=>{var o=s,{__scopeSelect:n,value:e}=o,t=Q(o,["__scopeSelect","value"]);const l=k.useRef(null),u=Dt(r,l),d=yv(e);return k.useEffect(()=>{const f=l.current;if(!f)return;const g=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(g,"value").set;if(d!==e&&x){const w=new Event("change",{bubbles:!0});x.call(f,e),f.dispatchEvent(w)}},[d,e]),a.jsx(lt.select,U(b({},t),{style:b(b({},hS),t.style),ref:u,defaultValue:e}))});mN.displayName=iH;function pN(n){return n===""||n===void 0}function gN(n){const e=Hr(n),t=k.useRef(""),r=k.useRef(0),s=k.useCallback(l=>{const u=t.current+l;e(u),function d(f){t.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(u)},[e]),o=k.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,s,o]}function yN(n,e,t){const s=e.length>1&&Array.from(e).every(f=>f===e[0])?e[0]:e,o=t?n.indexOf(t):-1;let l=aH(n,Math.max(o,0));s.length===1&&(l=l.filter(f=>f!==t));const d=l.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==t?d:void 0}function aH(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var lH=WT,vN=GT,cH=qT,uH=KT,dH=JT,xN=ZT,fH=tN,wN=sN,_N=iN,hH=aN,mH=cN,kN=uN,CN=dN,SN=hN;const dn=lH,fn=cH,nn=k.forwardRef((s,r)=>{var o=s,{className:n,children:e}=o,t=Q(o,["className","children"]);return a.jsxs(vN,U(b({ref:r,className:ae("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n)},t),{children:[e,a.jsx(uH,{asChild:!0,children:a.jsx(by,{className:"h-4 w-4 opacity-50"})})]}))});nn.displayName=vN.displayName;const bN=k.forwardRef((r,t)=>{var s=r,{className:n}=s,e=Q(s,["className"]);return a.jsx(kN,U(b({ref:t,className:ae("flex cursor-default items-center justify-center py-1",n)},e),{children:a.jsx(UD,{className:"h-4 w-4"})}))});bN.displayName=kN.displayName;const TN=k.forwardRef((r,t)=>{var s=r,{className:n}=s,e=Q(s,["className"]);return a.jsx(CN,U(b({ref:t,className:ae("flex cursor-default items-center justify-center py-1",n)},e),{children:a.jsx(by,{className:"h-4 w-4"})}))});TN.displayName=CN.displayName;const rn=k.forwardRef((o,s)=>{var l=o,{className:n,children:e,position:t="popper"}=l,r=Q(l,["className","children","position"]);return a.jsx(dH,{children:a.jsxs(xN,U(b({ref:s,className:ae("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t},r),{children:[a.jsx(bN,{}),a.jsx(fH,{className:ae("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(TN,{})]}))})});rn.displayName=xN.displayName;const pH=k.forwardRef((r,t)=>{var s=r,{className:n}=s,e=Q(s,["className"]);return a.jsx(wN,b({ref:t,className:ae("py-1.5 pl-8 pr-2 text-sm font-semibold",n)},e))});pH.displayName=wN.displayName;const Ye=k.forwardRef((s,r)=>{var o=s,{className:n,children:e}=o,t=Q(o,["className","children"]);return a.jsxs(_N,U(b({ref:r,className:ae("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n)},t),{children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(mH,{children:a.jsx($s,{className:"h-4 w-4"})})}),a.jsx(hH,{children:e})]}))});Ye.displayName=_N.displayName;const gH=k.forwardRef((r,t)=>{var s=r,{className:n}=s,e=Q(s,["className"]);return a.jsx(SN,b({ref:t,className:ae("-mx-1 my-1 h-px bg-muted",n)},e))});gH.displayName=SN.displayName;const yH=yu("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ot(s){var o=s,{className:n,variant:e,asChild:t=!1}=o,r=Q(o,["className","variant","asChild"]);const l=t?gu:"span";return a.jsx(l,b({"data-slot":"badge",className:ae(yH({variant:e}),n)},r))}function pt(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("div",b({"data-slot":"card",className:ae("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",n)},e))}function Lt(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("div",b({"data-slot":"card-header",className:ae("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",n)},e))}function Ft(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("div",b({"data-slot":"card-title",className:ae("leading-none font-semibold",n)},e))}function Wt(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("div",b({"data-slot":"card-description",className:ae("text-muted-foreground text-sm",n)},e))}function Mt(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("div",b({"data-slot":"card-content",className:ae("px-6",n)},e))}function kk({isOpen:n,onClose:e,tasks:t,boards:r,userPreferences:s}){const{isScheduling:o,isEstimating:l,scheduleTasksWithAI:u,updateTimeEstimatesWithAI:d}=Pb(),[f,g]=k.useState("unscheduled"),[y,x]=k.useState(null),[w,C]=k.useState("keep"),[S,T]=k.useState(new Set),[E,P]=k.useState(""),[I,A]=k.useState(()=>{const Y=new Date;return Y.setDate(Y.getDate()+1),Y.toISOString().split("T")[0]}),[D,O]=k.useState(14),[L,V]=k.useState(!0),[B,ee]=k.useState(!0),[X,se]=k.useState(!0),[ce,ke]=k.useState(!1),xe=t.filter(Y=>Y.status!=="done"),me=xe.filter(Y=>!Y.scheduledDate),j=(()=>{switch(f){case"unscheduled":return me;case"all":return xe;case"board":return y?xe.filter(Y=>Y.boardId===y):[];case"selected":return xe.filter(Y=>S.has(Y.id));default:return[]}})(),H=Y=>r.find(he=>he.id===Y.boardId);k.useEffect(()=>{f!=="selected"&&T(new Set),f!=="board"&&x(null)},[f]),k.useEffect(()=>{if(f==="selected"&&S.size===0){const Y=new Set(me.map(he=>he.id));T(Y)}},[f,me]),k.useEffect(()=>{if(f==="board"&&!y&&r.length>0){const Y=r.find(he=>!he.isDefault)||r[0];x(Y.id)}},[f,y,r]);const $=Y=>{const he=new Set(S);he.has(Y)?he.delete(Y):he.add(Y),T(he)},F=()=>{T(new Set(xe.map(Y=>Y.id)))},q=()=>{T(new Set)},W=()=>M(null,null,function*(){if(!(!s||j.length===0))try{w==="update"&&(yield d(j,s));const Y=U(b({},s),{schedulingLookaheadDays:D}),Me=E+(ce?" Allow tasks to overlap in time if they are from different boards or can be multitasked.":" Avoid any time overlaps between tasks.");yield u(j,Y,Me),e()}catch(Y){console.error("Failed to schedule tasks:",Y)}}),ne=()=>{g("unscheduled"),x(null),C("keep"),T(new Set),P(""),A(()=>{const Y=new Date;return Y.setDate(Y.getDate()+1),Y.toISOString().split("T")[0]}),O(14),V(!0),ee(!0),se(!0),ke(!1),e()},G=Y=>{switch(Y){case 1:return"bg-red-100 text-red-800 border-red-200";case 2:return"bg-orange-100 text-orange-800 border-orange-200";case 3:return"bg-blue-100 text-blue-800 border-blue-200";case 4:return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},oe=Y=>{switch(Y){case 1:return"High";case 2:return"Medium";case 3:return"Low";case 4:return"Backlog";default:return"Unknown"}},le=o||l;return s?s.autoScheduleEnabled?a.jsx(Us,{open:n,onOpenChange:ne,children:a.jsxs(Vs,{className:"!max-w-4xl max-h-[90vh] flex flex-col p-0",children:[a.jsxs(pi,{className:"px-6 pt-6 pb-4 border-b bg-background",children:[a.jsxs(_o,{className:"flex items-center gap-3 text-xl",children:[a.jsx(ci,{className:"h-6 w-6 text-blue-600"}),"AI Task Scheduler"]}),a.jsx(ko,{className:"text-base",children:"Let AI automatically schedule your tasks based on your preferences and availability."})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs(pt,{children:[a.jsxs(Lt,{className:"pb-4",children:[a.jsx(Ft,{className:"text-lg",children:"Select Tasks to Schedule"}),a.jsx(Wt,{className:"text-base",children:"Choose which tasks you want AI to schedule"})]}),a.jsxs(Mt,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"md:col-span-1",children:[a.jsx(Mr,{className:"text-sm font-medium",children:"Scheduling Mode"}),a.jsxs(dn,{value:f,onValueChange:Y=>g(Y),children:[a.jsx(nn,{className:"h-10 mt-2",children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsxs(Ye,{value:"unscheduled",children:["Unscheduled (",me.length,")"]}),a.jsxs(Ye,{value:"all",children:["All Active (",xe.length,")"]}),a.jsx(Ye,{value:"board",children:"By Board"}),a.jsx(Ye,{value:"selected",children:"Custom Selection"})]})]})]}),f==="board"&&a.jsxs("div",{className:"md:col-span-1",children:[a.jsx(Mr,{className:"text-sm font-medium",children:"Select Board"}),a.jsxs(dn,{value:(y==null?void 0:y.toString())||"",onValueChange:Y=>x(parseInt(Y)),children:[a.jsx(nn,{className:"h-10 mt-2",children:a.jsx(fn,{placeholder:"Choose a board"})}),a.jsx(rn,{children:r.map(Y=>a.jsx(Ye,{value:Y.id.toString(),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded flex items-center justify-center text-white flex-shrink-0",style:{backgroundColor:Y.color||"#3B82F6"},children:mo(Y.icon||"Briefcase","h-2 w-2")}),Y.name,Y.isDefault&&a.jsx("span",{className:"text-xs text-muted-foreground",children:"(Default)"})]})},Y.id))})]})]}),a.jsx("div",{className:ae("flex items-end",f==="board"?"md:col-span-1":"md:col-span-2"),children:a.jsx("div",{className:"bg-muted/50 rounded-lg p-3 border flex-1",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(WD,{className:"h-4 w-4 text-green-600"}),a.jsxs("span",{className:"font-medium",children:[j.length," task",j.length!==1?"s":""," selected"]}),j.length>0&&a.jsxs("span",{className:"text-muted-foreground",children:["(",Math.round(j.reduce((Y,he)=>Y+(he.timeEstimate||0),0))," min total)"]})]})})})]}),f==="selected"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(de,{variant:"outline",size:"sm",onClick:F,className:"flex-1",children:"Select All"}),a.jsx(de,{variant:"outline",size:"sm",onClick:q,className:"flex-1",children:"Select None"})]}),a.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 border rounded-lg p-3 bg-muted/20",children:xe.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-6",children:"No active tasks available"}):xe.map(Y=>{const he=H(Y);return a.jsxs("div",{className:"flex items-start space-x-3 p-2 rounded hover:bg-background/80 border border-transparent hover:border-border/50 transition-colors",children:[a.jsx(En,{id:`task-${Y.id}`,checked:S.has(Y.id),onCheckedChange:()=>$(Y.id),className:"mt-0.5"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{htmlFor:`task-${Y.id}`,className:"text-sm font-medium cursor-pointer block",children:Y.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[he&&a.jsxs(Ot,{variant:"outline",className:"text-xs",children:[a.jsx("div",{className:"w-2 h-2 rounded mr-1",style:{backgroundColor:he.color||"#3B82F6"}}),he.name]}),a.jsx(Ot,{variant:"outline",className:ae("text-xs",G(Y.priority)),children:oe(Y.priority)}),Y.timeEstimate>0&&a.jsxs(Ot,{variant:"secondary",className:"text-xs",children:[a.jsx(wr,{className:"h-3 w-3 mr-1"}),Math.round(Y.timeEstimate)," min"]}),Y.scheduledDate&&a.jsxs(Ot,{variant:"outline",className:"text-xs",children:[a.jsx(tn,{className:"h-3 w-3 mr-1"}),Kn(new Date(Y.scheduledDate),"MMM d")]})]})]})]},Y.id)})})]}),f==="board"&&y&&a.jsx("div",{className:"space-y-3",children:a.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 border rounded-lg p-3 bg-muted/20",children:j.length===0?a.jsx("p",{className:"text-sm text-muted-foreground text-center py-6",children:"No active tasks in selected board"}):j.map(Y=>{const he=H(Y);return a.jsx("div",{className:"flex items-start space-x-3 p-2 rounded bg-background/80 border border-border/50",children:a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm font-medium",children:Y.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[he&&a.jsxs(Ot,{variant:"outline",className:"text-xs",children:[a.jsx("div",{className:"w-2 h-2 rounded mr-1",style:{backgroundColor:he.color||"#3B82F6"}}),he.name]}),a.jsx(Ot,{variant:"outline",className:ae("text-xs",G(Y.priority)),children:oe(Y.priority)}),Y.timeEstimate>0&&a.jsxs(Ot,{variant:"secondary",className:"text-xs",children:[a.jsx(wr,{className:"h-3 w-3 mr-1"}),Math.round(Y.timeEstimate)," min"]}),Y.scheduledDate&&a.jsxs(Ot,{variant:"outline",className:"text-xs",children:[a.jsx(tn,{className:"h-3 w-3 mr-1"}),Kn(new Date(Y.scheduledDate),"MMM d")]})]})]})},Y.id)})})})]})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{className:"pb-4",children:[a.jsx(Ft,{className:"text-lg",children:"Scheduling Options"}),a.jsx(Wt,{className:"text-base",children:"Configure how tasks should be scheduled"})]}),a.jsx(Mt,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(Mr,{htmlFor:"start-date",className:"text-sm font-medium",children:"Start Date"}),a.jsx(xt,{id:"start-date",type:"date",value:I,onChange:Y=>A(Y.target.value),min:new Date().toISOString().split("T")[0],className:"h-10 mt-2"})]}),a.jsxs("div",{children:[a.jsx(Mr,{htmlFor:"max-days",className:"text-sm font-medium",children:"Max Days"}),a.jsx(xt,{id:"max-days",type:"number",min:"1",max:"90",value:D,onChange:Y=>O(parseInt(Y.target.value)||14),className:"h-10 mt-2"})]}),a.jsxs("div",{children:[a.jsx(Mr,{className:"text-sm font-medium",children:"Time Estimates"}),a.jsxs(dn,{value:w,onValueChange:Y=>C(Y),children:[a.jsx(nn,{className:"h-10 mt-2",children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"keep",children:"Keep Current"}),a.jsx(Ye,{value:"update",children:"Update with AI"})]})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsxs("div",{className:"space-y-2 w-full",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{id:"respect-hours",checked:L,onCheckedChange:Y=>V(Y===!0)}),a.jsx(Mr,{htmlFor:"respect-hours",className:"text-sm",children:"Working hours"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{id:"group-similar",checked:B,onCheckedChange:Y=>ee(Y===!0)}),a.jsx(Mr,{htmlFor:"group-similar",className:"text-sm",children:"Group similar"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{id:"prioritize-urgent",checked:X,onCheckedChange:Y=>se(Y===!0)}),a.jsx(Mr,{htmlFor:"prioritize-urgent",className:"text-sm",children:"Prioritize urgent"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{id:"allow-overlap",checked:ce,onCheckedChange:Y=>ke(Y===!0)}),a.jsxs(Mr,{htmlFor:"allow-overlap",className:"text-sm flex items-center gap-1",children:[a.jsx(bI,{className:"h-3 w-3"}),"Allow overlap"]})]})]})})]})})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{className:"pb-4",children:[a.jsx(Ft,{className:"text-lg",children:"Custom Instructions"}),a.jsx(Wt,{className:"text-base",children:"Add specific instructions for the AI scheduler"})]}),a.jsxs(Mt,{children:[a.jsx(uh,{placeholder:"e.g., 'Schedule coding tasks in the morning when I'm most focused', 'Avoid scheduling meetings after 4 PM'...",value:E,onChange:Y=>P(Y.target.value),className:"min-h-[100px] resize-none",maxLength:500}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[E.length,"/500 characters"]})]})]})]})}),a.jsxs(Xi,{className:"flex-col sm:flex-row gap-3 px-6 py-4 border-t bg-background",children:[a.jsx("div",{className:"flex-1 text-left",children:j.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select at least one task to schedule"})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(de,{variant:"outline",onClick:ne,disabled:le,className:"px-6 h-10",children:"Cancel"}),a.jsx(de,{onClick:W,disabled:le||j.length===0,className:"gap-2 px-6 h-10",children:o?a.jsxs(a.Fragment,{children:[a.jsx(If,{className:"h-4 w-4 animate-spin"}),"Scheduling..."]}):l?a.jsxs(a.Fragment,{children:[a.jsx(If,{className:"h-4 w-4 animate-spin"}),"Updating Estimates..."]}):a.jsxs(a.Fragment,{children:[a.jsx(ci,{className:"h-4 w-4"}),"Schedule ",j.length," Task",j.length!==1?"s":""]})})]})]})]})}):a.jsx(Us,{open:n,onOpenChange:ne,children:a.jsxs(Vs,{className:"max-w-md",children:[a.jsxs(pi,{children:[a.jsxs(_o,{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"h-5 w-5 text-amber-500"}),"AI Scheduling Disabled"]}),a.jsx(ko,{children:"AI scheduling is currently disabled. Enable it in Settings → AI Scheduling to use this feature."})]}),a.jsx(Xi,{children:a.jsx(de,{onClick:ne,children:"Close"})})]})}):a.jsx(Us,{open:n,onOpenChange:ne,children:a.jsxs(Vs,{className:"max-w-3xl",children:[a.jsxs(pi,{children:[a.jsxs(_o,{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"h-5 w-5 text-amber-500"}),"AI Scheduling Unavailable"]}),a.jsx(ko,{children:"User preferences are not loaded. Please try again later."})]}),a.jsx(Xi,{children:a.jsx(de,{onClick:ne,children:"Close"})})]})})}function NN({tasks:n,boards:e,userPreferences:t,variant:r="default",size:s="default",className:o,showDropdown:l=!0,compact:u=!1,onOpenSettings:d}){const{isScheduling:f,isEstimating:g,updateTimeEstimatesWithAI:y}=Pb(),[x,w]=k.useState(!1),C=f||g,S=()=>{w(!0)},T=()=>M(null,null,function*(){if(!t||n.length===0)return;const E=n.filter(P=>P.status!=="done");yield y(E,t)});return t?t.autoScheduleEnabled?l?a.jsxs(a.Fragment,{children:[a.jsxs(I7,{children:[a.jsx(j7,{asChild:!0,children:a.jsxs(de,{variant:r,size:s,disabled:C,className:ae("gap-2",o),children:[C?a.jsx(If,{className:"h-4 w-4 animate-spin"}):a.jsx(ci,{className:"h-4 w-4"}),!u&&(f?"Scheduling...":g?"Estimating...":"AI Scheduler")]})}),a.jsxs(A7,{align:"end",className:"w-60",children:[a.jsxs(wk,{onClick:S,disabled:C,className:"gap-2",children:[a.jsx(ci,{className:"h-4 w-4"}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{children:"Open AI Scheduler"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Configure and schedule tasks with AI"})]})]}),a.jsx(P7,{}),a.jsxs(wk,{onClick:T,disabled:n.length===0||C,className:"gap-2",children:[a.jsx(wr,{className:"h-4 w-4"}),a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{children:"Update Time Estimates"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"AI will analyze and update task durations"})]})]})]})]}),a.jsx(kk,{isOpen:x,onClose:()=>w(!1),tasks:n,boards:e,userPreferences:t})]}):a.jsxs(a.Fragment,{children:[a.jsxs(de,{variant:r,size:s,onClick:S,disabled:C,className:ae("gap-2",o),title:"Open AI Scheduler",children:[C?a.jsx(If,{className:"h-4 w-4 animate-spin"}):a.jsx(ci,{className:"h-4 w-4"}),!u&&(C?"Scheduling...":"AI Schedule")]}),a.jsx(kk,{isOpen:x,onClose:()=>w(!1),tasks:n,boards:e,userPreferences:t})]}):a.jsxs(de,{variant:"outline",size:s,onClick:d,className:ae("gap-2 opacity-75 hover:opacity-100",o),title:"AI scheduling is disabled. Click to enable it in Settings.",children:[a.jsx(ci,{className:"h-4 w-4"}),!u&&"Enable AI"]}):a.jsxs(de,{variant:"ghost",size:s,disabled:!0,className:ae("gap-2",o),children:[a.jsx(ci,{className:"h-4 w-4"}),!u&&"AI Scheduler"]})}function vH(n){if(!n||n.length===0)return null;const e=new Date,t=n.filter(r=>r.status==="done"||r.completedAt?!1:r.scheduledDate||r.dueDate||r.startDate).map(r=>{let s=null;return r.scheduledDate?s=new Date(r.scheduledDate):r.dueDate?s=new Date(r.dueDate):r.startDate&&(s=new Date(r.startDate)),{task:r,relevantDate:s,isOverdue:s?s<e:!1,isToday:s?wH(s,e):!1,isUpcoming:s?s>e:!1}}).filter(r=>r.relevantDate!==null).sort((r,s)=>r.isOverdue&&!s.isOverdue?-1:!r.isOverdue&&s.isOverdue?1:r.isToday&&!s.isToday?-1:!r.isToday&&s.isToday?1:r.relevantDate.getTime()-s.relevantDate.getTime());return t.length>0?t[0].task:null}function xH(n){let e=null,t="";if(n.scheduledDate?(e=new Date(n.scheduledDate),t="Scheduled"):n.dueDate?(e=new Date(n.dueDate),t="Due"):n.startDate&&(e=new Date(n.startDate),t="Starts"),!e)return"";const r=new Date;r.setHours(0,0,0,0);const s=new Date(e);s.setHours(0,0,0,0);const o=s.getTime()-r.getTime(),l=Math.ceil(o/(1e3*60*60*24));if(l===0)return`${t} today at ${e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`;if(l===1)return`${t} tomorrow at ${e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`;if(l===-1)return`${t} yesterday (overdue)`;if(l<0)return`${t} ${Math.abs(l)} days ago (overdue)`;if(l<=7){const u=e.toLocaleDateString([],{weekday:"long"});return`${t} ${u} at ${e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}else return`${t} ${e.toLocaleDateString()} at ${e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`}function wH(n,e){return n.getFullYear()===e.getFullYear()&&n.getMonth()===e.getMonth()&&n.getDate()===e.getDate()}function _H(n){switch(n.priority){case 4:return"text-red-600 dark:text-red-400";case 3:return"text-orange-600 dark:text-orange-400";case 2:return"text-blue-600 dark:text-blue-400";case 1:return"text-gray-600 dark:text-gray-400";default:return"text-gray-600 dark:text-gray-400"}}function kH(n){switch(n.priority){case 4:return"Critical";case 3:return"High";case 2:return"Medium";case 1:return"Low";default:return"Medium"}}function CH({task:n,onClick:e,className:t}){if(!n)return a.jsx("div",{className:ae("flex items-center gap-2 text-xs text-muted-foreground bg-muted/30 px-3 py-1.5 rounded-lg border border-border/50",t),children:a.jsx("span",{children:"No upcoming tasks"})});const r=xH(n),s=_H(n),o=kH(n),l=r.includes("overdue");return a.jsx("div",{className:ae("flex items-center gap-2 text-xs bg-muted/30 px-3 py-1.5 rounded-lg border border-border/50 max-w-sm cursor-pointer hover:bg-muted/50 transition-colors",l&&"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-800/30",t),onClick:()=>e==null?void 0:e(n),title:`Click to view task: ${n.title}`,children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[l&&a.jsx(sh,{className:"h-3 w-3 text-red-500"}),a.jsxs("div",{className:"flex gap-1.5 min-w-0 flex-col items-start",children:[a.jsx("span",{className:ae("font-medium truncate w-full",l?"text-red-700 dark:text-red-300":"text-foreground"),children:n.title}),a.jsxs("div",{className:"flex items-center gap-1.5 w-full",children:[a.jsx("span",{className:ae("text-muted-foreground text-[0.68rem] truncate",l&&"text-red-600 dark:text-red-400"),children:r}),n.priority>2&&a.jsx("span",{className:ae("px-1.5 py-0.5 rounded text-[0.6rem] font-medium flex-shrink-0",s,"bg-current bg-opacity-10"),children:o})]})]})]})})}function SH({className:n="w-8 h-8"}){return a.jsxs("svg",{className:n,id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 476.2 458.2",children:[a.jsx("defs",{children:a.jsx("style",{children:`
						  .cls-1 {
        fill: var(--logo-primary, #6FB3A0);
      }

      .cls-2 {
        fill: var(--logo-secondary, #8FC4B0);
      }

      .cls-3 {
        fill: var(--logo-accent, #5A9B8A);
      }

      .cls-4 {
        fill: var(--logo-muted, #4A8274);
      }

      .cls-5 {
        fill: var(--logo-main, #6FB3A0);
      }
					`})}),a.jsx("path",{className:"cls-4",d:"M476.2,180.8c-.2-8.6-.2-17.6-.2-27.1.1,8.6.2,17.6.2,27.1Z"}),a.jsx("path",{className:"cls-4",d:"M.4,61.6c0,4.3-.1,9-.4,14.2,0-4.3,0-9,.4-14.2Z"}),a.jsx("path",{className:"cls-4",d:"M476.2,213.8c-.2-3.6-.2-7.6-.2-12.1.1,3.6.2,7.6.2,12.1Z"}),a.jsx("path",{className:"cls-4",d:"M476.2,145.8c-.2-2.6-.2-5.6-.2-9.1.1,2.6.2,5.7.2,9.1Z"}),a.jsx("path",{className:"cls-4",d:"M476.2,282.8c-.2-2.3-.2-5-.2-8.1.1,2.3.2,5,.2,8.1Z"}),a.jsx("path",{className:"cls-4",d:"M476.2,194.8c-.1-2.3-.2-5-.2-8.1.1,2.3.2,5,.2,8.1Z"}),a.jsx("path",{className:"cls-4",d:"M476.2,267.8c-.2-1.7-.2-3.7-.2-6.1.1,1.6.2,3.7.2,6.1Z"}),a.jsx("path",{className:"cls-4",d:"M476.2,347.8c-.2-1.7-.2-3.7-.2-6.1.1,1.6.2,3.7.2,6.1Z"}),a.jsx("path",{className:"cls-4",d:"M476.2,309.8c-.1-1.1-.2-2.4-.2-4.2.1,1,.2,2.5.2,4.2Z"}),a.jsx("path",{className:"cls-4",d:"M476.2,289.9c-.1-.5-.1-1.2-.1-2.3,0,.4.1,1.3.1,2.3Z"}),a.jsx("path",{className:"cls-5",d:"M322.4,157.2c23.1-8.5,35.3-13.7,46.2-30.3,7.6-11.4,13.2-24.2,19.7-36.3.3-.6.4-1.3.8-1.8,1.3-1.6,2.7-3.1,4-4.7,1.5,1.4,3.7,2.5,4.6,4.2,20.7,40.2,20.3,91.4-8.6,127.9-16.3,20.6-38.5,31.1-64.4,34.6-21.5,2.9-41.6-2.5-61.5-9.5-15.7-5.5-31.1-12-46.9-17.2-41.4-13.7-79.3-6.1-113.6,20-11.9,9-22.8,19.4-34.2,29.1-2.1,1.8-4.4,5.8-7.3,3-2.1-2-3.5-6.4-2.9-9.3,1.4-7,3.7-13.8,6.3-20.5,14.6-37.6,37.4-69,71.2-91.7,29.9-20,62.3-23.7,96.5-13.4,14.8,4.5,29.5,9.4,44.4,13.7,13,3,12.8,1.8,19.8,3,9.2-.3,6-.3,25.9-1v.2Z"}),a.jsx("path",{className:"cls-5",d:"M335.1,292.4c.4,0,.9,0,1.9-.2,1.1-.1,1.5-.2,1.9-.2,17.4-1,33.1-7,47.8-16.1,11.6-7.2,23-14.6,32.1-25,.5,0,.9.2,1.4.2-.1,2,.3,4.3-.4,6.1-3.5,8.8-6.7,17.8-11,26.2-12.9,24.6-29.3,46.5-52.9,62.1-18.6,12.4-39.4,18.3-61.6,16.4-20.8-1.7-40.2-9.1-58.1-20-10.4-6.3-20.6-13-31.1-19.1-14.3-8.4-29.5-14.9-46.2-16.5-27.4-2.7-50.6,6.4-69.5,25.9-7.7,8-14.3,17.1-21.5,25.6-1.1,1.4-2.9,2.2-4.4,3.3-.5-1.6-1.5-3.3-1.3-4.8,5.8-47.9,28-84.4,73.9-103.2,22.4-9.2,45.9-8,68.5.1,18.6,6.7,36.5,15.5,55,22.5,14.6,5.5,29.7,9.7,45.3,14.6,5.5.7,10.2,1.3,15,1.9.4,0,.8.2,1.9.5,4.8.1,9.1,0,13.3-.3h0Z"}),a.jsx("path",{className:"cls-3",d:"M338.4,292.3c-6,1.1-12.4,1.3-19.2.2,6-1.2,12.4-1.2,19.2-.2Z"}),a.jsx("path",{className:"cls-2",d:"M319.7,291.9c-4.5-.3-9.2-.9-14.3-1.6,4.4.4,9.2.9,14.3,1.6Z"}),a.jsx("path",{className:"cls-2",d:"M58.3,1.4c1.1-.4,2.5-.8,4.3-1.1-1.1.4-2.5.8-4.3,1.1Z"}),a.jsx("path",{className:"cls-2",d:"M338.8,291.8c-.3.2-.7.2-1.5.3.2-.1.8-.3,1.5-.3Z"}),a.jsx("path",{className:"cls-3",d:"M322.9,292.2c-6,.3-12.5-.3-19.1-2.2,6.1-.4,12.4.4,19.1,2.2Z"}),a.jsx("path",{className:"cls-3",d:"M354.5,289.6c-5.8,1.9-12.1,2.9-19,2.8,5.8-2,12.1-2.8,19-2.8Z"})]})}const bH=n=>{switch(n){case"kanban":return zI;case"calendar":return tn;case"list":return tu;default:return tu}},TH=n=>{switch(n){case"kanban":return"Kanban Board";case"calendar":return"Calendar View";case"list":return"List View";default:return"List View"}};function ju({boards:n,currentBoard:e,currentView:t,tasks:r,userPreferences:s,onSelectBoard:o,onSelectBoardView:l,onCreateBoard:u,onEditBoard:d,onCreateTask:f,onNavigateToBoards:g,onTaskClick:y}){const[x,w]=k.useState(new Set),C=n.filter(L=>!L.isDefault),S=n.find(L=>L.isDefault),T=r?vH(r):null,E=L=>{w(V=>{const B=new Set(V);return B.has(L)?B.delete(L):B.add(L),B})},P=L=>{o(L)},I=(L,V)=>{l?l(L,V):o(L)},A=L=>{S&&l&&l(S,L)},D=L=>{const V=["kanban","list","calendar"];return a.jsxs(ZO,{children:[V.map(B=>{const ee=bH(B),X=(e==null?void 0:e.id)===L.id&&t===B;return a.jsx(nf,{children:a.jsxs(Gp,{onClick:()=>I(L,B),className:ae("gap-2",X&&"bg-accent text-accent-foreground"),children:[a.jsx(ee,{className:"h-3 w-3"}),a.jsx("span",{children:TH(B)})]})},B)}),a.jsx(nf,{children:a.jsx("div",{className:"px-2 py-1",children:a.jsx("div",{className:"h-px bg-border"})})}),f&&a.jsx(nf,{children:a.jsxs(Gp,{onClick:()=>f(L),className:"gap-2 text-muted-foreground hover:text-foreground",children:[a.jsx(go,{className:"h-3 w-3"}),a.jsx("span",{children:"New Task"})]})}),d&&a.jsx(nf,{children:a.jsxs(Gp,{onClick:()=>d(L),className:"gap-2 text-muted-foreground hover:text-foreground",children:[a.jsx(as,{className:"h-3 w-3"}),a.jsx("span",{children:"Edit Board"})]})})]})},O=(L,V=!1)=>{const B=(e==null?void 0:e.id)===L.id,ee=x.has(L.id);return a.jsxs(js,{children:[a.jsxs("div",{className:"flex items-center w-full group",children:[a.jsxs(po,{onClick:()=>P(L),className:ae("gap-2 flex-1 justify-start",B&&!ee&&"bg-accent text-accent-foreground"),isActive:B&&!ee,children:[a.jsx("div",{className:"w-4 h-4 rounded flex items-center justify-center text-white flex-shrink-0",style:{backgroundColor:L.color||"#3B82F6"},children:mo(L.icon||"Briefcase","h-3 w-3")}),a.jsx("span",{className:"flex-1 truncate",children:L.name})]}),!V&&a.jsx("button",{onClick:X=>{X.stopPropagation(),E(L.id)},className:ae("p-1 hover:bg-accent rounded transition-all duration-200 flex-shrink-0 ml-1","opacity-70 hover:opacity-100"),title:ee?"Collapse menu":"Expand menu",children:a.jsx(pu,{className:ae("h-3 w-3 transition-transform duration-200",ee&&"rotate-90")})})]}),!V&&ee&&D(L)]},L.id)};return a.jsxs(TS,{variant:"sidebar",children:[a.jsxs(ES,{children:[a.jsxs("div",{className:"flex items-center gap-2 px-2 py-1",children:[a.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:a.jsx(SH,{className:"w-full h-full"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold",children:"DayFlow"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Task Management"})]})]}),T&&a.jsxs("div",{className:"px-2 py-3 border-t border-border/50",children:[a.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Next Up"}),a.jsx(CH,{task:T,onClick:y,className:"w-full"})]})]}),a.jsxs(MS,{children:[a.jsxs(Bc,{children:[a.jsx(zc,{children:"Quick Actions"}),a.jsx(Wc,{children:a.jsxs(Zi,{children:[S&&a.jsxs(a.Fragment,{children:[a.jsx(js,{children:a.jsxs(po,{onClick:()=>A("calendar"),className:"gap-2",children:[a.jsx(Hk,{className:"h-4 w-4"}),a.jsx("span",{children:"My Calendar"})]})}),a.jsx(js,{children:a.jsxs(po,{onClick:()=>A("list"),className:"gap-2",children:[a.jsx(oj,{className:"h-4 w-4"}),a.jsx("span",{children:"My Tasks"})]})}),a.jsx(js,{children:a.jsxs(po,{onClick:()=>A("kanban"),className:"gap-2",children:[a.jsx(Pj,{className:"h-4 w-4"}),a.jsx("span",{children:"Agenda"})]})})]}),r&&s&&a.jsx(js,{children:a.jsx("div",{className:"p-1",children:a.jsx(NN,{tasks:r,boards:n,userPreferences:s,variant:"outline",size:"sm",showDropdown:!1,className:"w-full justify-start"})})}),g&&a.jsx(js,{children:a.jsxs(po,{onClick:g,className:"gap-2",children:[a.jsx(al,{className:"h-4 w-4"}),a.jsx("span",{children:"View All Boards"})]})}),u&&a.jsx(js,{children:a.jsxs(po,{onClick:u,className:"gap-2",children:[a.jsx(go,{className:"h-4 w-4"}),a.jsx("span",{children:"New Board"})]})})]})})]}),S&&a.jsxs(Bc,{children:[a.jsx(zc,{children:"Quick Access"}),a.jsx(Wc,{children:a.jsx(Zi,{children:O(S,!0)})})]}),C.length>0&&a.jsxs(Bc,{children:[a.jsx(zc,{children:"Your Boards"}),a.jsx(Wc,{children:a.jsx(Zi,{children:C.map(L=>O(L))})})]})]}),a.jsx(KO,{children:a.jsx(Zi,{})}),a.jsx(qO,{})]})}function NH({user:n,onSignOut:e,onOpenSettings:t}){const[r,s]=k.useState(!1),[o,l]=k.useState(!1),[u,d]=k.useState(null),f=()=>M(null,null,function*(){if(e){s(!0);try{const{error:x}=yield e();x&&console.error("Sign out error:",x)}catch(x){console.error("Sign out error:",x)}finally{s(!1)}}}),g=x=>{if(!o){const w=x.currentTarget.getBoundingClientRect();d(w)}l(!o)};if(!n)return null;const y=o&&u&&a.jsxs("div",{className:"fixed w-56 bg-white dark:bg-gray-800 border rounded-md shadow-lg z-[9999] p-2",style:{top:u.bottom+8,right:window.innerWidth-u.right},children:[a.jsx("div",{className:"px-2 py-1.5 text-sm font-semibold",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:(n==null?void 0:n.email)||"User"}),a.jsxs("p",{className:"text-xs leading-none text-gray-500 dark:text-gray-400",children:["Member since ",n!=null&&n.created_at?new Date(n.created_at).toLocaleDateString():"Unknown"]})]})}),a.jsx("hr",{className:"my-1"})," ",a.jsxs("button",{className:"w-full text-left px-2 py-1.5 text-sm hover:bg-gray-100 dark:hover:bg-gray-700 rounded-sm flex items-center",onClick:()=>{t==null||t(),l(!1)},children:[a.jsx(tA,{className:"mr-2 h-4 w-4"}),"Settings"]}),a.jsx("hr",{className:"my-1"}),e&&a.jsxs("button",{className:"w-full text-left px-2 py-1.5 text-sm hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 dark:text-red-400 rounded-sm flex items-center",onClick:f,disabled:r,children:[a.jsx(cj,{className:"mr-2 h-4 w-4"}),r?"Signing Out...":"Sign Out"]})]});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"relative",children:a.jsx(de,{variant:"ghost",size:"sm",className:"h-8 w-8 rounded-full p-0 bg-primary/10 hover:bg-primary/20",onClick:g,children:a.jsx(wg,{className:"h-4 w-4"})})}),o&&a.jsx("div",{className:"fixed inset-0 z-[9998]",onClick:()=>l(!1)}),typeof document!="undefined"&&y&&Al.createPortal(y,document.body)]})}const EH={kanban:a.jsx(al,{className:"h-4 w-4"}),calendar:a.jsx(tn,{className:"h-4 w-4"}),list:a.jsx(tu,{className:"h-4 w-4"})},MH={kanban:"Kanban",calendar:"Calendar",list:"List"};function Dh({title:n,subtitle:e,board:t,currentView:r,viewMode:s,boardCount:o,onViewChange:l,onCreateDetailedTask:u,onViewModeChange:d,user:f,onSignOut:g,onOpenSettings:y,tasks:x,boards:w,userPreferences:C,children:S}){return a.jsxs("header",{className:" flex h-16 shrink-0 items-center gap-2 px-4 border-b border-border bg-card/50 backdrop-blur-sm relative z-10",children:[a.jsx(NS,{className:"mr-2.5"}),a.jsx(ea,{orientation:"vertical",className:"mr-2 h-4"}),a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[t&&a.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-white flex-shrink-0",style:{backgroundColor:t.color||"#3B82F6"},children:mo(t.icon,"h-5 w-5")}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("h1",{className:"text-lg font-semibold text-foreground truncate",children:n}),e&&a.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[S,d&&s&&a.jsxs("div",{className:"flex items-center gap-1 bg-muted/30 p-1 rounded-lg border border-border/50",children:[a.jsx(de,{variant:s==="compact"?"default":"ghost",size:"sm",onClick:()=>d("compact"),className:"h-7 w-7 p-0",title:"Compact grid view",children:a.jsx(XI,{className:"h-3.5 w-3.5"})}),a.jsx(de,{variant:s==="grid"?"default":"ghost",size:"sm",onClick:()=>d("grid"),className:"h-7 w-7 p-0",title:"Grid view",children:a.jsx(MI,{className:"h-3.5 w-3.5"})}),a.jsx(de,{variant:s==="list"?"default":"ghost",size:"sm",onClick:()=>d("list"),className:"h-7 w-7 p-0",title:"List view",children:a.jsx(tu,{className:"h-3.5 w-3.5"})})]}),l&&t&&r&&a.jsx("div",{className:"flex items-center gap-1 bg-muted/30 p-1 rounded-lg border border-border/50",children:["kanban","calendar","list"].map(T=>a.jsxs(de,{variant:r===T?"default":"ghost",size:"sm",className:"gap-1.5 h-7",onClick:()=>{console.log("View change clicked:",T,"for board:",t.name),l(t,T)},children:[EH[T],MH[T]]},T))})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[o!==void 0&&o>0&&a.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/30 px-2.5 py-1.5 rounded-lg border border-border/50",children:[o," ",o===1?"board":"boards"]}),x&&w&&C&&(r==="kanban"||r==="list")&&a.jsx(NN,{tasks:x,boards:w,userPreferences:C,variant:"outline",size:"sm",showDropdown:!1,onOpenSettings:y}),u&&a.jsxs(de,{variant:"default",size:"sm",onClick:u,className:"gap-1.5",children:[a.jsx(GD,{className:"h-4 w-4"}),"New Task"]}),a.jsx(NH,{user:f,onSignOut:g,onOpenSettings:y})]})]})}var _v="ContextMenu",[DH,GQ]=ws(_v,[Ch]),er=Ch(),[IH,EN]=DH(_v),MN=n=>{const{__scopeContextMenu:e,children:t,onOpenChange:r,dir:s,modal:o=!0}=n,[l,u]=k.useState(!1),d=er(e),f=Hr(r),g=k.useCallback(y=>{u(y),f(y)},[f]);return a.jsx(IH,{scope:e,open:l,onOpenChange:g,modal:o,children:a.jsx(dT,U(b({},d),{dir:s,open:l,onOpenChange:g,modal:o,children:t}))})};MN.displayName=_v;var DN="ContextMenuTrigger",IN=k.forwardRef((n,e)=>{const x=n,{__scopeContextMenu:t,disabled:r=!1}=x,s=Q(x,["__scopeContextMenu","disabled"]),o=EN(DN,t),l=er(t),u=k.useRef({x:0,y:0}),d=k.useRef({getBoundingClientRect:()=>DOMRect.fromRect(b({width:0,height:0},u.current))}),f=k.useRef(0),g=k.useCallback(()=>window.clearTimeout(f.current),[]),y=w=>{u.current={x:w.clientX,y:w.clientY},o.onOpenChange(!0)};return k.useEffect(()=>g,[g]),k.useEffect(()=>void(r&&g()),[r,g]),a.jsxs(a.Fragment,{children:[a.jsx(fT,U(b({},l),{virtualRef:d})),a.jsx(lt.span,U(b({"data-state":o.open?"open":"closed","data-disabled":r?"":void 0},s),{ref:e,style:b({WebkitTouchCallout:"none"},n.style),onContextMenu:r?n.onContextMenu:Ie(n.onContextMenu,w=>{g(),y(w),w.preventDefault()}),onPointerDown:r?n.onPointerDown:Ie(n.onPointerDown,hf(w=>{g(),f.current=window.setTimeout(()=>y(w),700)})),onPointerMove:r?n.onPointerMove:Ie(n.onPointerMove,hf(g)),onPointerCancel:r?n.onPointerCancel:Ie(n.onPointerCancel,hf(g)),onPointerUp:r?n.onPointerUp:Ie(n.onPointerUp,hf(g))}))]})});IN.displayName=DN;var jH="ContextMenuPortal",jN=n=>{const s=n,{__scopeContextMenu:e}=s,t=Q(s,["__scopeContextMenu"]),r=er(e);return a.jsx(hT,b(b({},r),t))};jN.displayName=jH;var AN="ContextMenuContent",PN=k.forwardRef((n,e)=>{const u=n,{__scopeContextMenu:t}=u,r=Q(u,["__scopeContextMenu"]),s=EN(AN,t),o=er(t),l=k.useRef(!1);return a.jsx(mT,U(b(b({},o),r),{ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:d=>{var f;(f=n.onCloseAutoFocus)==null||f.call(n,d),!d.defaultPrevented&&l.current&&d.preventDefault(),l.current=!1},onInteractOutside:d=>{var f;(f=n.onInteractOutside)==null||f.call(n,d),!d.defaultPrevented&&!s.modal&&(l.current=!0)},style:U(b({},n.style),{"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});PN.displayName=AN;var AH="ContextMenuGroup",PH=k.forwardRef((n,e)=>{const o=n,{__scopeContextMenu:t}=o,r=Q(o,["__scopeContextMenu"]),s=er(t);return a.jsx(pT,U(b(b({},s),r),{ref:e}))});PH.displayName=AH;var RH="ContextMenuLabel",OH=k.forwardRef((n,e)=>{const o=n,{__scopeContextMenu:t}=o,r=Q(o,["__scopeContextMenu"]),s=er(t);return a.jsx(gT,U(b(b({},s),r),{ref:e}))});OH.displayName=RH;var LH="ContextMenuItem",RN=k.forwardRef((n,e)=>{const o=n,{__scopeContextMenu:t}=o,r=Q(o,["__scopeContextMenu"]),s=er(t);return a.jsx(yT,U(b(b({},s),r),{ref:e}))});RN.displayName=LH;var FH="ContextMenuCheckboxItem",$H=k.forwardRef((n,e)=>{const o=n,{__scopeContextMenu:t}=o,r=Q(o,["__scopeContextMenu"]),s=er(t);return a.jsx(vT,U(b(b({},s),r),{ref:e}))});$H.displayName=FH;var UH="ContextMenuRadioGroup",VH=k.forwardRef((n,e)=>{const o=n,{__scopeContextMenu:t}=o,r=Q(o,["__scopeContextMenu"]),s=er(t);return a.jsx(xT,U(b(b({},s),r),{ref:e}))});VH.displayName=UH;var BH="ContextMenuRadioItem",zH=k.forwardRef((n,e)=>{const o=n,{__scopeContextMenu:t}=o,r=Q(o,["__scopeContextMenu"]),s=er(t);return a.jsx(wT,U(b(b({},s),r),{ref:e}))});zH.displayName=BH;var WH="ContextMenuItemIndicator",HH=k.forwardRef((n,e)=>{const o=n,{__scopeContextMenu:t}=o,r=Q(o,["__scopeContextMenu"]),s=er(t);return a.jsx(_T,U(b(b({},s),r),{ref:e}))});HH.displayName=WH;var GH="ContextMenuSeparator",ON=k.forwardRef((n,e)=>{const o=n,{__scopeContextMenu:t}=o,r=Q(o,["__scopeContextMenu"]),s=er(t);return a.jsx(kT,U(b(b({},s),r),{ref:e}))});ON.displayName=GH;var YH="ContextMenuArrow",qH=k.forwardRef((n,e)=>{const o=n,{__scopeContextMenu:t}=o,r=Q(o,["__scopeContextMenu"]),s=er(t);return a.jsx(CT,U(b(b({},s),r),{ref:e}))});qH.displayName=YH;var LN="ContextMenuSub",FN=n=>{const{__scopeContextMenu:e,children:t,onOpenChange:r,open:s,defaultOpen:o}=n,l=er(e),[u,d]=No({prop:s,defaultProp:o!=null?o:!1,onChange:r,caller:LN});return a.jsx(t7,U(b({},l),{open:u,onOpenChange:d,children:t}))};FN.displayName=LN;var KH="ContextMenuSubTrigger",$N=k.forwardRef((n,e)=>{const o=n,{__scopeContextMenu:t}=o,r=Q(o,["__scopeContextMenu"]),s=er(t);return a.jsx(ST,U(b(b({},s),r),{ref:e}))});$N.displayName=KH;var JH="ContextMenuSubContent",UN=k.forwardRef((n,e)=>{const o=n,{__scopeContextMenu:t}=o,r=Q(o,["__scopeContextMenu"]),s=er(t);return a.jsx(bT,U(b(b({},s),r),{ref:e,style:U(b({},n.style),{"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"})}))});UN.displayName=JH;function hf(n){return e=>e.pointerType!=="mouse"?n(e):void 0}var ZH=MN,QH=IN,XH=jN,eG=PN,tG=RN,nG=ON,rG=FN,sG=$N,oG=UN;function Jc(e){var n=Q(e,[]);return a.jsx(ZH,b({"data-slot":"context-menu"},n))}function Zc(e){var n=Q(e,[]);return a.jsx(QH,b({"data-slot":"context-menu-trigger"},n))}function ls(e){var n=Q(e,[]);return a.jsx(rG,b({"data-slot":"context-menu-sub"},n))}function cs(s){var o=s,{className:n,inset:e,children:t}=o,r=Q(o,["className","inset","children"]);return a.jsxs(sG,U(b({"data-slot":"context-menu-sub-trigger","data-inset":e,className:ae("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n)},r),{children:[t,a.jsx(pu,{className:"ml-auto"})]}))}function us(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx(oG,b({"data-slot":"context-menu-sub-content",className:ae("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",n)},e))}function Qc(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx(XH,{children:a.jsx(eG,b({"data-slot":"context-menu-content",className:ae("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",n)},e))})}function Ne(s){var o=s,{className:n,inset:e,variant:t="default"}=o,r=Q(o,["className","inset","variant"]);return a.jsx(tG,b({"data-slot":"context-menu-item","data-inset":e,"data-variant":t,className:ae("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",n)},r))}function un(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx(nG,b({"data-slot":"context-menu-separator",className:ae("bg-border -mx-1 my-1 h-px",n)},e))}const Cn={slate:["#f1f5f9","#e2e8f0","#cbd5e1","#94a3b8","#64748b","#475569","#334155","#1e293b","#0f172a"],gray:["#f9fafb","#f3f4f6","#e5e7eb","#d1d5db","#9ca3af","#6b7280","#4b5563","#374151","#1f2937"],zinc:["#fafafa","#f4f4f5","#e4e4e7","#d4d4d8","#a1a1aa","#71717a","#52525b","#3f3f46","#27272a"],red:["#fef2f2","#fecaca","#fca5a5","#f87171","#ef4444","#dc2626","#b91c1c","#991b1b","#7f1d1d"],orange:["#fff7ed","#fed7aa","#fdba74","#fb923c","#f97316","#ea580c","#c2410c","#9a3412","#7c2d12"],amber:["#fffbeb","#fde68a","#fcd34d","#fbbf24","#f59e0b","#d97706","#b45309","#92400e","#78350f"],yellow:["#fefce8","#fef3c7","#fde047","#facc15","#eab308","#ca8a04","#a16207","#854d0e","#713f12"],lime:["#f7fee7","#d9f99d","#bef264","#a3e635","#84cc16","#65a30d","#4d7c0f","#365314","#1a2e05"],green:["#f0fdf4","#bbf7d0","#86efac","#4ade80","#22c55e","#16a34a","#15803d","#166534","#14532d"],emerald:["#ecfdf5","#a7f3d0","#6ee7b7","#34d399","#10b981","#059669","#047857","#065f46","#064e3b"],teal:["#f0fdfa","#99f6e4","#5eead4","#2dd4bf","#14b8a6","#0d9488","#0f766e","#115e59","#134e4a"],cyan:["#ecfeff","#a5f3fc","#67e8f9","#22d3ee","#06b6d4","#0891b2","#0e7490","#155e75","#164e63"],sky:["#f0f9ff","#bae6fd","#7dd3fc","#38bdf8","#0ea5e9","#0284c7","#0369a1","#075985","#0c4a6e"],blue:["#eff6ff","#bfdbfe","#93c5fd","#60a5fa","#3b82f6","#2563eb","#1d4ed8","#1e40af","#1e3a8a"],indigo:["#eef2ff","#c7d2fe","#a5b4fc","#818cf8","#6366f1","#4f46e5","#4338ca","#3730a3","#312e81"],violet:["#f5f3ff","#ddd6fe","#c4b5fd","#a78bfa","#8b5cf6","#7c3aed","#6d28d9","#5b21b6","#4c1d95"],purple:["#faf5ff","#e9d5ff","#d8b4fe","#c084fc","#a855f7","#9333ea","#7e22ce","#6b21a8","#581c87"],fuchsia:["#fdf4ff","#f0abfc","#e879f9","#d946ef","#c026d3","#a21caf","#86198f","#701a75","#581c87"],pink:["#fdf2f8","#fce7f3","#fbcfe8","#f9a8d4","#ec4899","#db2777","#be185d","#9d174d","#831843"],rose:["#fff1f2","#fecdd3","#fda4af","#fb7185","#f43f5e","#e11d48","#be123c","#9f1239","#881337"]},tl=[Cn.blue[4],Cn.green[4],Cn.purple[4],Cn.red[4],Cn.orange[4],Cn.yellow[4],Cn.pink[4],Cn.cyan[4],Cn.indigo[4],Cn.emerald[4],Cn.violet[4],Cn.rose[4],Cn.amber[4],Cn.lime[4],Cn.teal[4],Cn.sky[4],Cn.fuchsia[4],Cn.slate[5],Cn.gray[5],Cn.zinc[5]],iG=n=>{const e=n.replace("#",""),t=parseInt(e.substr(0,2),16),r=parseInt(e.substr(2,2),16),s=parseInt(e.substr(4,2),16);return(.299*t+.587*r+.114*s)/255>.5},nl=n=>n&&iG(n)?"text-gray-800":"text-white";function aG({boards:n,tasks:e,onSelectBoard:t,onCreateBoard:r,onUpdateBoard:s,onDeleteBoard:o,onDuplicateBoard:l,user:u,onSignOut:d,onOpenSettings:f,userPreferences:g,onUpdateUserPreferences:y}){const[x,w]=k.useState(!1),[C,S]=k.useState(null),[T,E]=k.useState(!1),[P,I]=k.useState(!1),[A,D]=k.useState("compact"),[O,L]=k.useState({name:"",description:"",color:tl[0],icon:"Briefcase"}),V=()=>M(null,null,function*(){if(O.name.trim())try{yield r({name:O.name,description:O.description,color:O.color,icon:O.icon}),L({name:"",description:"",color:tl[0],icon:"Briefcase"}),w(!1)}catch(j){console.error("Failed to create board:",j)}}),B=()=>M(null,null,function*(){if(!(!C||!O.name.trim()))try{yield s(C.id,{name:O.name,description:O.description,color:O.color,icon:O.icon}),S(null),L({name:"",description:"",color:tl[0],icon:"Briefcase"})}catch(j){console.error("Failed to update board:",j)}}),ee=j=>{S(j),L({name:j.name,description:j.description||"",color:j.color||tl[0],icon:j.icon||"Briefcase"})},X=j=>M(null,null,function*(){if(l)try{yield l(j)}catch(H){console.error("Failed to duplicate board:",H)}}),se=n,ce=n.filter(j=>!j.isDefault),ke=()=>{switch(A){case"grid":return"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-6";case"compact":return"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 gap-4";case"list":return"flex flex-col gap-3";default:return"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 gap-4"}},xe=j=>{const H="bg-card border border-border rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 cursor-pointer group relative overflow-hidden";switch(A){case"grid":return a.jsxs(Jc,{children:[a.jsx(Zc,{asChild:!0,children:a.jsxs("div",{className:ae(H,"p-6 h-32"),onClick:()=>t(j),children:[a.jsxs("div",{className:"flex items-start gap-4 h-full",children:[a.jsx("div",{className:ae("w-12 h-12 rounded-xl flex items-center justify-center shadow-sm flex-shrink-0",nl(j.color)),style:{backgroundColor:j.color},children:mo(j.icon||"Briefcase","h-6 w-6")}),a.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between h-full",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-1 truncate",children:j.name}),j.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:j.description})]}),a.jsx("div",{className:"flex items-center text-xs text-muted-foreground mt-2",children:a.jsx("span",{children:"Board • Click to open"})})]})]}),!j.isDefault&&a.jsx("div",{className:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-all duration-300",children:a.jsx("button",{onClick:$=>{$.stopPropagation(),ee(j)},className:"text-muted-foreground hover:text-foreground transition-colors p-2 rounded-lg hover:bg-accent/50",title:"Edit board",children:a.jsx(as,{className:"h-4 w-4"})})})]})}),a.jsxs(Qc,{className:"w-48",children:[a.jsxs(Ne,{onClick:()=>t(j),children:[a.jsx(al,{className:"mr-2 h-4 w-4"}),"Open Board"]}),a.jsx(un,{}),a.jsxs(Ne,{onClick:()=>ee(j),children:[a.jsx(as,{className:"mr-2 h-4 w-4"}),"Edit Board"]}),l&&a.jsxs(Ne,{onClick:()=>X(j),children:[a.jsx(Vc,{className:"mr-2 h-4 w-4"}),"Duplicate Board"]}),!j.isDefault&&a.jsxs(a.Fragment,{children:[a.jsx(un,{}),a.jsxs(Ne,{onClick:()=>{S(j),E(!0)},className:"text-destructive",children:[a.jsx(ui,{className:"mr-2 h-4 w-4"}),"Delete Board"]})]})]})]},j.id);case"compact":return a.jsxs(Jc,{children:[a.jsx(Zc,{asChild:!0,children:a.jsxs("div",{className:ae(H,"p-4 aspect-square flex flex-col items-center justify-center text-center"),onClick:()=>t(j),children:[a.jsx("div",{className:ae("w-10 h-10 sm:w-12 sm:h-12 rounded-xl flex items-center justify-center shadow-sm mb-3",nl(j.color)),style:{backgroundColor:j.color},children:mo(j.icon||"Briefcase","h-5 w-5 sm:h-6 sm:w-6")}),a.jsx("h3",{className:"text-sm sm:text-base font-semibold text-foreground mb-1 truncate w-full px-1",children:j.name}),j.description&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 hidden sm:block",children:j.description}),!j.isDefault&&a.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-all duration-300",children:a.jsx("button",{onClick:$=>{$.stopPropagation(),ee(j)},className:"text-muted-foreground hover:text-foreground transition-colors p-1.5 rounded-lg hover:bg-accent/50",title:"Edit board",children:a.jsx(as,{className:"h-3 w-3"})})})]})}),a.jsxs(Qc,{className:"w-48",children:[a.jsxs(Ne,{onClick:()=>t(j),children:[a.jsx(al,{className:"mr-2 h-4 w-4"}),"Open Board"]}),a.jsx(un,{}),a.jsxs(Ne,{onClick:()=>ee(j),children:[a.jsx(as,{className:"mr-2 h-4 w-4"}),"Edit Board"]}),l&&a.jsxs(Ne,{onClick:()=>X(j),children:[a.jsx(Vc,{className:"mr-2 h-4 w-4"}),"Duplicate Board"]}),!j.isDefault&&a.jsxs(a.Fragment,{children:[a.jsx(un,{}),a.jsxs(Ne,{onClick:()=>{S(j),E(!0)},className:"text-destructive",children:[a.jsx(ui,{className:"mr-2 h-4 w-4"}),"Delete Board"]})]})]})]},j.id);case"list":return a.jsxs(Jc,{children:[a.jsx(Zc,{asChild:!0,children:a.jsxs("div",{className:ae(H,"p-4 flex items-center gap-4"),onClick:()=>t(j),children:[a.jsx("div",{className:ae("w-10 h-10 rounded-lg flex items-center justify-center shadow-sm flex-shrink-0",nl(j.color)),style:{backgroundColor:j.color},children:mo(j.icon||"Briefcase","h-5 w-5")}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-foreground mb-1 truncate",children:j.name}),j.description&&a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:j.description})]}),a.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:a.jsx("span",{className:"hidden sm:inline",children:"Board"})}),!j.isDefault&&a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-all duration-300",children:a.jsx("button",{onClick:$=>{$.stopPropagation(),ee(j)},className:"text-muted-foreground hover:text-foreground transition-colors p-2 rounded-lg hover:bg-accent/50",title:"Edit board",children:a.jsx(as,{className:"h-4 w-4"})})})]})}),a.jsxs(Qc,{className:"w-48",children:[a.jsxs(Ne,{onClick:()=>t(j),children:[a.jsx(al,{className:"mr-2 h-4 w-4"}),"Open Board"]}),a.jsx(un,{}),a.jsxs(Ne,{onClick:()=>ee(j),children:[a.jsx(as,{className:"mr-2 h-4 w-4"}),"Edit Board"]}),l&&a.jsxs(Ne,{onClick:()=>X(j),children:[a.jsx(Vc,{className:"mr-2 h-4 w-4"}),"Duplicate Board"]}),!j.isDefault&&a.jsxs(a.Fragment,{children:[a.jsx(un,{}),a.jsxs(Ne,{onClick:()=>{S(j),E(!0)},className:"text-destructive",children:[a.jsx(ui,{className:"mr-2 h-4 w-4"}),"Delete Board"]})]})]})]},j.id);default:return null}},me=()=>{const j="bg-card border-2 border-dashed border-muted-foreground/30 rounded-xl hover:border-primary/50 hover:bg-accent/30 transition-all duration-300 cursor-pointer group relative overflow-hidden";switch(A){case"grid":return a.jsx("div",{className:ae(j,"p-6 h-32"),onClick:()=>w(!0),children:a.jsxs("div",{className:"flex items-start gap-4 h-full",children:[a.jsx("div",{className:"w-12 h-12 rounded-xl bg-muted/50 flex items-center justify-center shadow-sm flex-shrink-0 group-hover:bg-primary/10 transition-colors",children:a.jsx(go,{className:"h-6 w-6 text-muted-foreground group-hover:text-primary transition-colors"})}),a.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between h-full",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-muted-foreground group-hover:text-foreground mb-1 truncate transition-colors",children:"Create New Board"}),a.jsx("p",{className:"text-sm text-muted-foreground/70 line-clamp-2",children:"Add a new project board"})]}),a.jsx("div",{className:"flex items-center text-xs text-muted-foreground mt-2",children:a.jsx("span",{children:"New Board • Click to create"})})]})]})},"create-new");case"compact":return a.jsxs("div",{className:ae(j,"p-4 aspect-square flex flex-col items-center justify-center text-center"),onClick:()=>w(!0),children:[a.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-muted/50 flex items-center justify-center text-lg sm:text-xl mb-3 group-hover:bg-primary/10 transition-colors",children:a.jsx(go,{className:"h-5 w-5 sm:h-6 sm:w-6 text-muted-foreground group-hover:text-primary transition-colors"})}),a.jsx("h3",{className:"text-sm sm:text-base font-semibold text-muted-foreground group-hover:text-foreground transition-colors truncate w-full px-1",children:"Create New Board"}),a.jsx("p",{className:"text-xs text-muted-foreground/70 hidden sm:block mt-1",children:"Add project"})]},"create-new");case"list":return a.jsxs("div",{className:ae(j,"p-4 flex items-center gap-4"),onClick:()=>w(!0),children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted/50 flex items-center justify-center text-lg flex-shrink-0 group-hover:bg-primary/10 transition-colors",children:a.jsx(go,{className:"h-5 w-5 text-muted-foreground group-hover:text-primary transition-colors"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-muted-foreground group-hover:text-foreground transition-colors",children:"Create New Board"}),a.jsx("p",{className:"text-sm text-muted-foreground/70",children:"Add a new project board to organize your tasks"})]}),a.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:a.jsx("span",{className:"hidden sm:inline",children:"New Board"})})]},"create-new");default:return null}};k.useEffect(()=>{g&&g.boardDefaultView&&D(g.boardDefaultView)},[g]);const pe=j=>M(null,null,function*(){if(D(j),g&&y)try{yield y({boardDefaultView:j})}catch(H){console.error("Failed to update board view preference:",H)}});return a.jsxs(ku,{children:[a.jsxs("div",{className:"min-h-screen flex w-full",children:[a.jsx(ju,{boards:n,tasks:e,userPreferences:g||void 0,onSelectBoard:t,onSelectBoardView:j=>{t(j)},onCreateBoard:()=>w(!0),onEditBoard:ee,onCreateTask:j=>{t(j)},onTaskClick:j=>{const H=n.find($=>$.id===j.boardId);H&&t(H)}}),a.jsxs(Cu,{children:[a.jsx(Dh,{title:"Your Boards",subtitle:"Organize your projects and workflows",viewMode:A,boardCount:ce.length,tasks:e||[],userPreferences:g||void 0,onViewModeChange:pe,user:u,onSignOut:d,onOpenSettings:f}),a.jsx("div",{className:"flex-1 p-4 sm:p-6 bg-muted/30",children:n.length>0?a.jsxs("div",{className:ke(),children:[se.map(xe),me()]}):a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center max-w-md",children:[a.jsx("div",{className:"w-16 h-16 mx-auto rounded-2xl bg-muted/30 flex items-center justify-center mb-4",children:a.jsx(al,{className:"h-8 w-8 text-muted-foreground"})}),a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"Create your first board"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Boards help you organize tasks into different projects or workflows. Get started by creating your first board."}),a.jsxs(de,{onClick:()=>w(!0),size:"lg",className:"gap-2",children:[a.jsx(go,{className:"h-5 w-5"}),"Create Your First Board"]})]})})})]})]}),a.jsx(Us,{open:x||!!C,onOpenChange:j=>{j||(w(!1),S(null),E(!1),I(!1),L({name:"",description:"",color:tl[0],icon:"Briefcase"}))},children:a.jsx(Vs,{className:"sm:max-w-lg max-h-[90vh] overflow-hidden",children:a.jsx("div",{className:"p-6",children:T?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 mx-auto rounded-full bg-destructive/10 flex items-center justify-center mb-4",children:a.jsx(ui,{className:"h-6 w-6 text-destructive"})}),a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Delete Board"}),a.jsxs("p",{className:"text-sm text-muted-foreground mb-4",children:['Are you sure you want to delete "',a.jsx("strong",{children:C==null?void 0:C.name}),'"? This action cannot be undone.']})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(de,{variant:"outline",onClick:()=>E(!1),className:"flex-1",children:"Cancel"}),a.jsx(de,{variant:"destructive",onClick:()=>M(null,null,function*(){C&&(yield o(C.id),S(null),E(!1))}),className:"flex-1",children:"Delete Board"})]})]}):P?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(de,{variant:"ghost",size:"sm",onClick:()=>I(!1),className:"p-2",children:a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),a.jsx("h2",{className:"text-lg font-semibold",children:"Choose Color"})]}),a.jsx("div",{className:"flex items-center justify-center p-6 bg-muted/30 rounded-lg",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:ae("w-16 h-16 rounded-xl flex items-center justify-center shadow-lg border-2 border-background",nl(O.color)),style:{backgroundColor:O.color},children:mo(O.icon,"h-8 w-8")}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:O.name||"Board Name"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Preview"})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Popular Colors"}),a.jsx("div",{className:"grid grid-cols-5 gap-3",children:tl.slice(0,10).map(j=>a.jsx("button",{title:`Select color ${j}`,type:"button",className:ae("w-full h-12 rounded-lg border-2 transition-all hover:scale-105 relative",O.color===j?"border-foreground ring-2 ring-primary/30":"border-border hover:border-muted-foreground"),style:{backgroundColor:j},onClick:()=>L(U(b({},O),{color:j})),children:O.color===j&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("svg",{className:ae("w-5 h-5 drop-shadow-lg",nl(j)),fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})},j))})]}),a.jsxs("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:[a.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"All Colors"}),Object.entries(Cn).map(([j,H])=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-xs font-medium text-muted-foreground capitalize",children:j}),a.jsx("div",{className:"grid grid-cols-9 gap-1",children:H.map(($,F)=>a.jsx("button",{title:`${j} ${F+1}`,type:"button",className:ae("w-8 h-8 rounded border transition-all hover:scale-110 relative",O.color===$?"border-foreground ring-1 ring-primary/30":"border-border/50 hover:border-muted-foreground"),style:{backgroundColor:$},onClick:()=>L(U(b({},O),{color:$})),children:O.color===$&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("svg",{className:ae("w-3 h-3 drop-shadow-lg",nl($)),fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})},`${j}-${F}`))})]},j))]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Custom Hex Color"}),a.jsx(xt,{value:O.color,onChange:j=>L(U(b({},O),{color:j.target.value})),placeholder:"#000000",className:"font-mono text-sm"})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(de,{variant:"outline",onClick:()=>I(!1),className:"flex-1",children:"Cancel"}),a.jsx(de,{onClick:()=>I(!1),className:"flex-1",children:"Select Color"})]})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-lg font-semibold",children:C?"Edit Board":"Create Board"}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"space-y-2",children:a.jsx(xt,{placeholder:"Board name",value:O.name,onChange:j=>L(U(b({},O),{name:j.target.value})),onKeyDown:j=>{j.key==="Enter"&&O.name.trim()&&(j.preventDefault(),C?B():V())},className:"text-base"})}),a.jsx("div",{className:"space-y-2",children:a.jsx(uh,{placeholder:"Description (optional)",value:O.description,onChange:j=>L(U(b({},O),{description:j.target.value})),rows:2,className:"resize-none text-sm"})})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Appearance"})}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Color"}),a.jsxs(de,{variant:"outline",onClick:()=>I(!0),className:"w-full h-12 justify-start gap-3",type:"button",children:[a.jsx("div",{className:"w-6 h-6 rounded-lg border border-background shadow-sm",style:{backgroundColor:O.color}}),a.jsx("span",{className:"text-sm",children:"Choose Color"}),a.jsx("div",{className:"ml-auto text-xs font-mono text-muted-foreground",children:O.color.toUpperCase()})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Icon"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-10 h-10 rounded border border-border flex items-center justify-center bg-muted/30",children:mo(O.icon,"h-5 w-5")}),a.jsx(xt,{placeholder:"Icon name (e.g., Briefcase)",value:O.icon,onChange:j=>L(U(b({},O),{icon:j.target.value})),className:"flex-1"})]}),a.jsx("div",{className:"grid grid-cols-8 gap-1 max-h-32 overflow-y-auto",children:HC.map(j=>a.jsx("button",{type:"button",className:ae("w-8 h-8 rounded border transition-all flex items-center justify-center hover:bg-accent",O.icon===j.name?"border-primary bg-primary/10":"border-border hover:border-muted-foreground"),onClick:()=>L(U(b({},O),{icon:j.name})),title:`Select icon ${j.name}`,children:mo(j.name,"h-4 w-4")},j.name))})]})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(de,{variant:"outline",onClick:()=>{w(!1),S(null)},className:"flex-1",children:"Cancel"}),a.jsx(de,{onClick:C?B:V,disabled:!O.name.trim(),className:"flex-1",children:C?"Save":"Create"}),C&&!C.isDefault&&a.jsx(de,{variant:"destructive",size:"sm",onClick:()=>E(!0),className:"px-3",children:a.jsx(ui,{className:"h-4 w-4"})})]})]})})})})]})}const og={},Uc={};function Xc(n,e){try{const r=(og[n]||(og[n]=new Intl.DateTimeFormat("en-GB",{timeZone:n,hour:"numeric",timeZoneName:"longOffset"}).format))(e).split("GMT")[1]||"";return r in Uc?Uc[r]:Ck(r,r.split(":"))}catch(t){if(n in Uc)return Uc[n];const r=n==null?void 0:n.match(lG);return r?Ck(n,r.slice(1)):NaN}}const lG=/([+-]\d\d):?(\d\d)?/;function Ck(n,e){const t=+e[0],r=+(e[1]||0);return Uc[n]=t>0?t*60+r:t*60-r}class Fs extends Date{constructor(...e){super(),e.length>1&&typeof e[e.length-1]=="string"&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(Xc(this.timeZone,this))?this.setTime(NaN):e.length?typeof e[0]=="number"&&(e.length===1||e.length===2&&typeof e[1]!="number")?this.setTime(e[0]):typeof e[0]=="string"?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),VN(this),hy(this)):this.setTime(Date.now())}static tz(e,...t){return t.length?new Fs(...t,e):new Fs(Date.now(),e)}withTimeZone(e){return new Fs(+this,e)}getTimezoneOffset(){return-Xc(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),hy(this),+this}[Symbol.for("constructDateFrom")](e){return new Fs(+new Date(e),this.timeZone)}}const Sk=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(n=>{if(!Sk.test(n))return;const e=n.replace(Sk,"$1UTC");Fs.prototype[e]&&(n.startsWith("get")?Fs.prototype[n]=function(){return this.internal[e]()}:(Fs.prototype[n]=function(){return Date.prototype[e].apply(this.internal,arguments),cG(this),+this},Fs.prototype[e]=function(){return Date.prototype[e].apply(this,arguments),hy(this),+this}))});function hy(n){n.internal.setTime(+n),n.internal.setUTCMinutes(n.internal.getUTCMinutes()-n.getTimezoneOffset())}function cG(n){Date.prototype.setFullYear.call(n,n.internal.getUTCFullYear(),n.internal.getUTCMonth(),n.internal.getUTCDate()),Date.prototype.setHours.call(n,n.internal.getUTCHours(),n.internal.getUTCMinutes(),n.internal.getUTCSeconds(),n.internal.getUTCMilliseconds()),VN(n)}function VN(n){const e=Xc(n.timeZone,n),t=new Date(+n);t.setUTCHours(t.getUTCHours()-1);const r=-new Date(+n).getTimezoneOffset(),s=-new Date(+t).getTimezoneOffset(),o=r-s,l=Date.prototype.getHours.apply(n)!==n.internal.getUTCHours();o&&l&&n.internal.setUTCMinutes(n.internal.getUTCMinutes()+o);const u=r-e;u&&Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+u);const d=Xc(n.timeZone,n),g=-new Date(+n).getTimezoneOffset()-d,y=d!==e,x=g-u;if(y&&x){Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+x);const w=Xc(n.timeZone,n),C=d-w;C&&(n.internal.setUTCMinutes(n.internal.getUTCMinutes()+C),Date.prototype.setUTCMinutes.call(n,Date.prototype.getUTCMinutes.call(n)+C))}}class Jn extends Fs{static tz(e,...t){return t.length?new Jn(...t,e):new Jn(Date.now(),e)}toISOString(){const[e,t,r]=this.tzComponents(),s=`${e}${t}:${r}`;return this.internal.toISOString().slice(0,-1)+s}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[e,t,r,s]=this.internal.toUTCString().split(" ");return`${e==null?void 0:e.slice(0,-1)} ${r} ${t} ${s}`}toTimeString(){const e=this.internal.toUTCString().split(" ")[4],[t,r,s]=this.tzComponents();return`${e} GMT${t}${r}${s} (${uG(this.timeZone,this)})`}toLocaleString(e,t){return Date.prototype.toLocaleString.call(this,e,U(b({},t),{timeZone:(t==null?void 0:t.timeZone)||this.timeZone}))}toLocaleDateString(e,t){return Date.prototype.toLocaleDateString.call(this,e,U(b({},t),{timeZone:(t==null?void 0:t.timeZone)||this.timeZone}))}toLocaleTimeString(e,t){return Date.prototype.toLocaleTimeString.call(this,e,U(b({},t),{timeZone:(t==null?void 0:t.timeZone)||this.timeZone}))}tzComponents(){const e=this.getTimezoneOffset(),t=e>0?"-":"+",r=String(Math.floor(Math.abs(e)/60)).padStart(2,"0"),s=String(Math.abs(e)%60).padStart(2,"0");return[t,r,s]}withTimeZone(e){return new Jn(+this,e)}[Symbol.for("constructDateFrom")](e){return new Jn(+new Date(e),this.timeZone)}}function uG(n,e){return new Intl.DateTimeFormat("en-GB",{timeZone:n,timeZoneName:"long"}).format(e).slice(12)}var qe;(function(n){n.Root="root",n.Chevron="chevron",n.Day="day",n.DayButton="day_button",n.CaptionLabel="caption_label",n.Dropdowns="dropdowns",n.Dropdown="dropdown",n.DropdownRoot="dropdown_root",n.Footer="footer",n.MonthGrid="month_grid",n.MonthCaption="month_caption",n.MonthsDropdown="months_dropdown",n.Month="month",n.Months="months",n.Nav="nav",n.NextMonthButton="button_next",n.PreviousMonthButton="button_previous",n.Week="week",n.Weeks="weeks",n.Weekday="weekday",n.Weekdays="weekdays",n.WeekNumber="week_number",n.WeekNumberHeader="week_number_header",n.YearsDropdown="years_dropdown"})(qe||(qe={}));var pn;(function(n){n.disabled="disabled",n.hidden="hidden",n.outside="outside",n.focused="focused",n.today="today"})(pn||(pn={}));var fs;(function(n){n.range_end="range_end",n.range_middle="range_middle",n.range_start="range_start",n.selected="selected"})(fs||(fs={}));var Dr;(function(n){n.weeks_before_enter="weeks_before_enter",n.weeks_before_exit="weeks_before_exit",n.weeks_after_enter="weeks_after_enter",n.weeks_after_exit="weeks_after_exit",n.caption_after_enter="caption_after_enter",n.caption_after_exit="caption_after_exit",n.caption_before_enter="caption_before_enter",n.caption_before_exit="caption_before_exit"})(Dr||(Dr={}));const bk=5,dG=4;function fG(n,e){const t=e.startOfMonth(n),r=t.getDay()>0?t.getDay():7,s=e.addDays(n,-r+1),o=e.addDays(s,bk*7-1);return e.getMonth(n)===e.getMonth(o)?bk:dG}function BN(n,e){const t=e.startOfMonth(n),r=t.getDay();return r===1?t:r===0?e.addDays(t,-1*6):e.addDays(t,-1*(r-1))}function hG(n,e){const t=BN(n,e),r=fG(n,e);return e.addDays(t,r*7-1)}class Ao{constructor(e,t){this.Date=Date,this.today=()=>{var r;return(r=this.overrides)!=null&&r.today?this.overrides.today():this.options.timeZone?Jn.tz(this.options.timeZone):new this.Date},this.newDate=(r,s,o)=>{var l;return(l=this.overrides)!=null&&l.newDate?this.overrides.newDate(r,s,o):this.options.timeZone?new Jn(r,s,o,this.options.timeZone):new Date(r,s,o)},this.addDays=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addDays?this.overrides.addDays(r,s):xr(r,s)},this.addMonths=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addMonths?this.overrides.addMonths(r,s):Gf(r,s)},this.addWeeks=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addWeeks?this.overrides.addWeeks(r,s):Oc(r,s)},this.addYears=(r,s)=>{var o;return(o=this.overrides)!=null&&o.addYears?this.overrides.addYears(r,s):Jg(r,s)},this.differenceInCalendarDays=(r,s)=>{var o;return(o=this.overrides)!=null&&o.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,s):ob(r,s)},this.differenceInCalendarMonths=(r,s)=>{var o;return(o=this.overrides)!=null&&o.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,s):JV(r,s)},this.eachMonthOfInterval=r=>{var s;return(s=this.overrides)!=null&&s.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):XV(r)},this.endOfBroadcastWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):hG(r,this)},this.endOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.endOfISOWeek?this.overrides.endOfISOWeek(r):nB(r)},this.endOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.endOfMonth?this.overrides.endOfMonth(r):ZV(r)},this.endOfWeek=(r,s)=>{var o;return(o=this.overrides)!=null&&o.endOfWeek?this.overrides.endOfWeek(r,s):dl(r,this.options)},this.endOfYear=r=>{var s;return(s=this.overrides)!=null&&s.endOfYear?this.overrides.endOfYear(r):tB(r)},this.format=(r,s,o)=>{var u;const l=(u=this.overrides)!=null&&u.format?this.overrides.format(r,s,this.options):Kn(r,s,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(l):l},this.getISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.getISOWeek?this.overrides.getISOWeek(r):lb(r)},this.getMonth=(r,s)=>{var o;return(o=this.overrides)!=null&&o.getMonth?this.overrides.getMonth(r,this.options):XB(r,this.options)},this.getYear=(r,s)=>{var o;return(o=this.overrides)!=null&&o.getYear?this.overrides.getYear(r,this.options):e9(r,this.options)},this.getWeek=(r,s)=>{var o;return(o=this.overrides)!=null&&o.getWeek?this.overrides.getWeek(r,this.options):ub(r,this.options)},this.isAfter=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isAfter?this.overrides.isAfter(r,s):t9(r,s)},this.isBefore=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isBefore?this.overrides.isBefore(r,s):n9(r,s)},this.isDate=r=>{var s;return(s=this.overrides)!=null&&s.isDate?this.overrides.isDate(r):ib(r)},this.isSameDay=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isSameDay?this.overrides.isSameDay(r,s):Gc(r,s)},this.isSameMonth=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isSameMonth?this.overrides.isSameMonth(r,s):r9(r,s)},this.isSameYear=(r,s)=>{var o;return(o=this.overrides)!=null&&o.isSameYear?this.overrides.isSameYear(r,s):s9(r,s)},this.max=r=>{var s;return(s=this.overrides)!=null&&s.max?this.overrides.max(r):GV(r)},this.min=r=>{var s;return(s=this.overrides)!=null&&s.min?this.overrides.min(r):YV(r)},this.setMonth=(r,s)=>{var o;return(o=this.overrides)!=null&&o.setMonth?this.overrides.setMonth(r,s):o9(r,s)},this.setYear=(r,s)=>{var o;return(o=this.overrides)!=null&&o.setYear?this.overrides.setYear(r,s):i9(r,s)},this.startOfBroadcastWeek=(r,s)=>{var o;return(o=this.overrides)!=null&&o.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):BN(r,this)},this.startOfDay=r=>{var s;return(s=this.overrides)!=null&&s.startOfDay?this.overrides.startOfDay(r):yi(r)},this.startOfISOWeek=r=>{var s;return(s=this.overrides)!=null&&s.startOfISOWeek?this.overrides.startOfISOWeek(r):iu(r)},this.startOfMonth=r=>{var s;return(s=this.overrides)!=null&&s.startOfMonth?this.overrides.startOfMonth(r):eB(r)},this.startOfWeek=(r,s)=>{var o;return(o=this.overrides)!=null&&o.startOfWeek?this.overrides.startOfWeek(r,this.options):ds(r,this.options)},this.startOfYear=r=>{var s;return(s=this.overrides)!=null&&s.startOfYear?this.overrides.startOfYear(r):ab(r)},this.options=b({locale:ev},e),this.overrides=t}getDigitMap(){const{numerals:e="latn"}=this.options,t=new Intl.NumberFormat("en-US",{numberingSystem:e}),r={};for(let s=0;s<10;s++)r[s.toString()]=t.format(s);return r}replaceDigits(e){const t=this.getDigitMap();return e.replace(/\d/g,r=>t[r]||r)}formatNumber(e){return this.replaceDigits(e.toString())}}const qs=new Ao;class zN{constructor(e,t,r=qs){this.date=e,this.displayMonth=t,this.outside=!!(t&&!r.isSameMonth(e,t)),this.dateLib=r}isEqualTo(e){return this.dateLib.isSameDay(e.date,this.date)&&this.dateLib.isSameMonth(e.displayMonth,this.displayMonth)}}class mG{constructor(e,t){this.date=e,this.weeks=t}}class pG{constructor(e,t){this.days=t,this.weekNumber=e}}function yo(n,e,t=!1,r=qs){let{from:s,to:o}=n;const{differenceInCalendarDays:l,isSameDay:u}=r;return s&&o?(l(o,s)<0&&([s,o]=[o,s]),l(e,s)>=(t?1:0)&&l(o,e)>=(t?1:0)):!t&&o?u(o,e):!t&&s?u(s,e):!1}function WN(n){return!!(n&&typeof n=="object"&&"before"in n&&"after"in n)}function kv(n){return!!(n&&typeof n=="object"&&"from"in n)}function HN(n){return!!(n&&typeof n=="object"&&"after"in n)}function GN(n){return!!(n&&typeof n=="object"&&"before"in n)}function YN(n){return!!(n&&typeof n=="object"&&"dayOfWeek"in n)}function qN(n,e){return Array.isArray(n)&&n.every(e.isDate)}function vo(n,e,t=qs){const r=Array.isArray(e)?e:[e],{isSameDay:s,differenceInCalendarDays:o,isAfter:l}=t;return r.some(u=>{if(typeof u=="boolean")return u;if(t.isDate(u))return s(n,u);if(qN(u,t))return u.includes(n);if(kv(u))return yo(u,n,!1,t);if(YN(u))return Array.isArray(u.dayOfWeek)?u.dayOfWeek.includes(n.getDay()):u.dayOfWeek===n.getDay();if(WN(u)){const d=o(u.before,n),f=o(u.after,n),g=d>0,y=f<0;return l(u.before,u.after)?y&&g:g||y}return HN(u)?o(n,u.after)>0:GN(u)?o(u.before,n)>0:typeof u=="function"?u(n):!1})}function gG(n,e,t){const{disabled:r,hidden:s,modifiers:o,showOutsideDays:l,broadcastCalendar:u,today:d}=e,{isSameDay:f,isSameMonth:g,startOfMonth:y,isBefore:x,endOfMonth:w,isAfter:C}=t,S=e.startMonth&&y(e.startMonth),T=e.endMonth&&w(e.endMonth),E={[pn.focused]:[],[pn.outside]:[],[pn.disabled]:[],[pn.hidden]:[],[pn.today]:[]},P={};for(const I of n){const{date:A,displayMonth:D}=I,O=!!(D&&!g(A,D)),L=!!(S&&x(A,S)),V=!!(T&&C(A,T)),B=!!(r&&vo(A,r,t)),ee=!!(s&&vo(A,s,t))||L||V||!u&&!l&&O||u&&l===!1&&O,X=f(A,d!=null?d:t.today());O&&E.outside.push(I),B&&E.disabled.push(I),ee&&E.hidden.push(I),X&&E.today.push(I),o&&Object.keys(o).forEach(se=>{const ce=o==null?void 0:o[se];ce&&vo(A,ce,t)&&(P[se]?P[se].push(I):P[se]=[I])})}return I=>{const A={[pn.focused]:!1,[pn.disabled]:!1,[pn.hidden]:!1,[pn.outside]:!1,[pn.today]:!1},D={};for(const O in E){const L=E[O];A[O]=L.some(V=>V===I)}for(const O in P)D[O]=P[O].some(L=>L===I);return b(b({},A),D)}}function yG(n,e,t={}){return Object.entries(n).filter(([,s])=>s===!0).reduce((s,[o])=>(t[o]?s.push(t[o]):e[pn[o]]?s.push(e[pn[o]]):e[fs[o]]&&s.push(e[fs[o]]),s),[e[qe.Day]])}function vG(n){return be.createElement("button",b({},n))}function xG(n){return be.createElement("span",b({},n))}function wG(n){const{size:e=24,orientation:t="left",className:r}=n;return be.createElement("svg",{className:r,width:e,height:e,viewBox:"0 0 24 24"},t==="up"&&be.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),t==="down"&&be.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),t==="left"&&be.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),t==="right"&&be.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function _G(n){const s=n,{day:e,modifiers:t}=s,r=Q(s,["day","modifiers"]);return be.createElement("td",b({},r))}function kG(n){const o=n,{day:e,modifiers:t}=o,r=Q(o,["day","modifiers"]),s=be.useRef(null);return be.useEffect(()=>{var l;t.focused&&((l=s.current)==null||l.focus())},[t.focused]),be.createElement("button",b({ref:s},r))}function CG(n){const d=n,{options:e,className:t,components:r,classNames:s}=d,o=Q(d,["options","className","components","classNames"]),l=[s[qe.Dropdown],t].join(" "),u=e==null?void 0:e.find(({value:f})=>f===o.value);return be.createElement("span",{"data-disabled":o.disabled,className:s[qe.DropdownRoot]},be.createElement(r.Select,b({className:l},o),e==null?void 0:e.map(({value:f,label:g,disabled:y})=>be.createElement(r.Option,{key:f,value:f,disabled:y},g))),be.createElement("span",{className:s[qe.CaptionLabel],"aria-hidden":!0},u==null?void 0:u.label,be.createElement(r.Chevron,{orientation:"down",size:18,className:s[qe.Chevron]})))}function SG(n){return be.createElement("div",b({},n))}function bG(n){return be.createElement("div",b({},n))}function TG(n){const s=n,{calendarMonth:e,displayIndex:t}=s,r=Q(s,["calendarMonth","displayIndex"]);return be.createElement("div",b({},r),n.children)}function NG(n){const s=n,{calendarMonth:e,displayIndex:t}=s,r=Q(s,["calendarMonth","displayIndex"]);return be.createElement("div",b({},r))}function EG(n){return be.createElement("table",b({},n))}function MG(n){return be.createElement("div",b({},n))}const KN=k.createContext(void 0);function Au(){const n=k.useContext(KN);if(n===void 0)throw new Error("useDayPicker() must be used within a custom component.");return n}function DG(n){const{components:e}=Au();return be.createElement(e.Dropdown,b({},n))}function IG(n){const x=n,{onPreviousClick:e,onNextClick:t,previousMonth:r,nextMonth:s}=x,o=Q(x,["onPreviousClick","onNextClick","previousMonth","nextMonth"]),{components:l,classNames:u,labels:{labelPrevious:d,labelNext:f}}=Au(),g=k.useCallback(w=>{s&&(t==null||t(w))},[s,t]),y=k.useCallback(w=>{r&&(e==null||e(w))},[r,e]);return be.createElement("nav",b({},o),be.createElement(l.PreviousMonthButton,{type:"button",className:u[qe.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":d(r),onClick:y},be.createElement(l.Chevron,{disabled:r?void 0:!0,className:u[qe.Chevron],orientation:"left"})),be.createElement(l.NextMonthButton,{type:"button",className:u[qe.NextMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":f(s),onClick:g},be.createElement(l.Chevron,{disabled:s?void 0:!0,orientation:"right",className:u[qe.Chevron]})))}function jG(n){const{components:e}=Au();return be.createElement(e.Button,b({},n))}function AG(n){return be.createElement("option",b({},n))}function PG(n){const{components:e}=Au();return be.createElement(e.Button,b({},n))}function RG(n){const r=n,{rootRef:e}=r,t=Q(r,["rootRef"]);return be.createElement("div",U(b({},t),{ref:e}))}function OG(n){return be.createElement("select",b({},n))}function LG(n){const r=n,{week:e}=r,t=Q(r,["week"]);return be.createElement("tr",b({},t))}function FG(n){return be.createElement("th",b({},n))}function $G(n){return be.createElement("thead",{"aria-hidden":!0},be.createElement("tr",b({},n)))}function UG(n){const r=n,{week:e}=r,t=Q(r,["week"]);return be.createElement("th",b({},t))}function VG(n){return be.createElement("th",b({},n))}function BG(n){return be.createElement("tbody",b({},n))}function zG(n){const{components:e}=Au();return be.createElement(e.Dropdown,b({},n))}const WG=Object.freeze(Object.defineProperty({__proto__:null,Button:vG,CaptionLabel:xG,Chevron:wG,Day:_G,DayButton:kG,Dropdown:CG,DropdownNav:SG,Footer:bG,Month:TG,MonthCaption:NG,MonthGrid:EG,Months:MG,MonthsDropdown:DG,Nav:IG,NextMonthButton:jG,Option:AG,PreviousMonthButton:PG,Root:RG,Select:OG,Week:LG,WeekNumber:UG,WeekNumberHeader:VG,Weekday:FG,Weekdays:$G,Weeks:BG,YearsDropdown:zG},Symbol.toStringTag,{value:"Module"}));function HG(n){return b(b({},WG),n)}function GG(n){var t;const e={"data-mode":(t=n.mode)!=null?t:void 0,"data-required":"required"in n?n.required:void 0,"data-multiple-months":n.numberOfMonths&&n.numberOfMonths>1||void 0,"data-week-numbers":n.showWeekNumber||void 0,"data-broadcast-calendar":n.broadcastCalendar||void 0,"data-nav-layout":n.navLayout||void 0};return Object.entries(n).forEach(([r,s])=>{r.startsWith("data-")&&(e[r]=s)}),e}function Cv(){const n={};for(const e in qe)n[qe[e]]=`rdp-${qe[e]}`;for(const e in pn)n[pn[e]]=`rdp-${pn[e]}`;for(const e in fs)n[fs[e]]=`rdp-${fs[e]}`;for(const e in Dr)n[Dr[e]]=`rdp-${Dr[e]}`;return n}function JN(n,e,t){return(t!=null?t:new Ao(e)).format(n,"LLLL y")}const YG=JN;function qG(n,e,t){return(t!=null?t:new Ao(e)).format(n,"d")}function KG(n,e=qs){return e.format(n,"LLLL")}function JG(n,e=qs){return n<10?e.formatNumber(`0${n.toLocaleString()}`):e.formatNumber(`${n.toLocaleString()}`)}function ZG(){return""}function QG(n,e,t){return(t!=null?t:new Ao(e)).format(n,"cccccc")}function ZN(n,e=qs){return e.format(n,"yyyy")}const XG=ZN,eY=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:JN,formatDay:qG,formatMonthCaption:YG,formatMonthDropdown:KG,formatWeekNumber:JG,formatWeekNumberHeader:ZG,formatWeekdayName:QG,formatYearCaption:XG,formatYearDropdown:ZN},Symbol.toStringTag,{value:"Module"}));function tY(n){return n!=null&&n.formatMonthCaption&&!n.formatCaption&&(n.formatCaption=n.formatMonthCaption),n!=null&&n.formatYearCaption&&!n.formatYearDropdown&&(n.formatYearDropdown=n.formatYearCaption),b(b({},eY),n)}function nY(n,e,t,r,s){const{startOfMonth:o,startOfYear:l,endOfYear:u,eachMonthOfInterval:d,getMonth:f}=s;return d({start:l(n),end:u(n)}).map(x=>{const w=r.formatMonthDropdown(x,s),C=f(x),S=e&&x<o(e)||t&&x>o(t)||!1;return{value:C,label:w,disabled:S}})}function rY(n,e={},t={}){let r=b({},e==null?void 0:e[qe.Day]);return Object.entries(n).filter(([,s])=>s===!0).forEach(([s])=>{r=b(b({},r),t==null?void 0:t[s])}),r}function sY(n,e,t){const r=n.today(),s=e?n.startOfISOWeek(r):n.startOfWeek(r),o=[];for(let l=0;l<7;l++){const u=n.addDays(s,l);o.push(u)}return o}function oY(n,e,t,r){if(!n||!e)return;const{startOfYear:s,endOfYear:o,addYears:l,getYear:u,isBefore:d,isSameYear:f}=r,g=s(n),y=o(e),x=[];let w=g;for(;d(w,y)||f(w,y);)x.push(w),w=l(w,1);return x.map(C=>{const S=t.formatYearDropdown(C,r);return{value:u(C),label:S,disabled:!1}})}function QN(n,e,t){return(t!=null?t:new Ao(e)).format(n,"LLLL y")}const iY=QN;function aY(n,e,t,r){let s=(r!=null?r:new Ao(t)).format(n,"PPPP");return e!=null&&e.today&&(s=`Today, ${s}`),s}function XN(n,e,t,r){let s=(r!=null?r:new Ao(t)).format(n,"PPPP");return e.today&&(s=`Today, ${s}`),e.selected&&(s=`${s}, selected`),s}const lY=XN;function cY(){return""}function uY(n){return"Choose the Month"}function dY(n){return"Go to the Next Month"}function fY(n){return"Go to the Previous Month"}function hY(n,e,t){return(t!=null?t:new Ao(e)).format(n,"cccc")}function mY(n,e){return`Week ${n}`}function pY(n){return"Week Number"}function gY(n){return"Choose the Year"}const yY=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:iY,labelDay:lY,labelDayButton:XN,labelGrid:QN,labelGridcell:aY,labelMonthDropdown:uY,labelNav:cY,labelNext:dY,labelPrevious:fY,labelWeekNumber:mY,labelWeekNumberHeader:pY,labelWeekday:hY,labelYearDropdown:gY},Symbol.toStringTag,{value:"Module"})),Pu=n=>n instanceof HTMLElement?n:null,ig=n=>{var e;return[...(e=n.querySelectorAll("[data-animated-month]"))!=null?e:[]]},vY=n=>Pu(n.querySelector("[data-animated-month]")),ag=n=>Pu(n.querySelector("[data-animated-caption]")),lg=n=>Pu(n.querySelector("[data-animated-weeks]")),xY=n=>Pu(n.querySelector("[data-animated-nav]")),wY=n=>Pu(n.querySelector("[data-animated-weekdays]"));function _Y(n,e,{classNames:t,months:r,focused:s,dateLib:o}){const l=k.useRef(null),u=k.useRef(r),d=k.useRef(!1);k.useLayoutEffect(()=>{const f=u.current;if(u.current=r,!e||!n.current||!(n.current instanceof HTMLElement)||r.length===0||f.length===0||r.length!==f.length)return;const g=o.isSameMonth(r[0].date,f[0].date),y=o.isAfter(r[0].date,f[0].date),x=y?t[Dr.caption_after_enter]:t[Dr.caption_before_enter],w=y?t[Dr.weeks_after_enter]:t[Dr.weeks_before_enter],C=l.current,S=n.current.cloneNode(!0);if(S instanceof HTMLElement?(ig(S).forEach(I=>{if(!(I instanceof HTMLElement))return;const A=vY(I);A&&I.contains(A)&&I.removeChild(A);const D=ag(I);D&&D.classList.remove(x);const O=lg(I);O&&O.classList.remove(w)}),l.current=S):l.current=null,d.current||g||s)return;const T=C instanceof HTMLElement?ig(C):[],E=ig(n.current);if(E&&E.every(P=>P instanceof HTMLElement)&&T&&T.every(P=>P instanceof HTMLElement)){d.current=!0,n.current.style.isolation="isolate";const P=xY(n.current);P&&(P.style.zIndex="1"),E.forEach((I,A)=>{const D=T[A];if(!D)return;I.style.position="relative",I.style.overflow="hidden";const O=ag(I);O&&O.classList.add(x);const L=lg(I);L&&L.classList.add(w);const V=()=>{d.current=!1,n.current&&(n.current.style.isolation=""),P&&(P.style.zIndex=""),O&&O.classList.remove(x),L&&L.classList.remove(w),I.style.position="",I.style.overflow="",I.contains(D)&&I.removeChild(D)};D.style.pointerEvents="none",D.style.position="absolute",D.style.overflow="hidden",D.setAttribute("aria-hidden","true");const B=wY(D);B&&(B.style.opacity="0");const ee=ag(D);ee&&(ee.classList.add(y?t[Dr.caption_before_exit]:t[Dr.caption_after_exit]),ee.addEventListener("animationend",V));const X=lg(D);X&&X.classList.add(y?t[Dr.weeks_before_exit]:t[Dr.weeks_after_exit]),I.insertBefore(D,I.firstChild)})}})}function kY(n,e,t,r){const s=n[0],o=n[n.length-1],{ISOWeek:l,fixedWeeks:u,broadcastCalendar:d}=t!=null?t:{},{addDays:f,differenceInCalendarDays:g,differenceInCalendarMonths:y,endOfBroadcastWeek:x,endOfISOWeek:w,endOfMonth:C,endOfWeek:S,isAfter:T,startOfBroadcastWeek:E,startOfISOWeek:P,startOfWeek:I}=r,A=d?E(s,r):l?P(s):I(s),D=d?x(o):l?w(C(o)):S(C(o)),O=g(D,A),L=y(o,s)+1,V=[];for(let X=0;X<=O;X++){const se=f(A,X);if(e&&T(se,e))break;V.push(se)}const ee=(d?35:42)*L;if(u&&V.length<ee){const X=ee-V.length;for(let se=0;se<X;se++){const ce=f(V[V.length-1],1);V.push(ce)}}return V}function CY(n){const e=[];return n.reduce((t,r)=>{const s=r.weeks.reduce((o,l)=>[...o,...l.days],e);return[...t,...s]},e)}function SY(n,e,t,r){const{numberOfMonths:s=1}=t,o=[];for(let l=0;l<s;l++){const u=r.addMonths(n,l);if(e&&u>e)break;o.push(u)}return o}function Tk(n,e){const{month:t,defaultMonth:r,today:s=e.today(),numberOfMonths:o=1,endMonth:l,startMonth:u}=n;let d=t||r||s;const{differenceInCalendarMonths:f,addMonths:g,startOfMonth:y}=e;if(l&&f(l,d)<0){const x=-1*(o-1);d=g(l,x)}return u&&f(d,u)<0&&(d=u),y(d)}function bY(n,e,t,r){const{addDays:s,endOfBroadcastWeek:o,endOfISOWeek:l,endOfMonth:u,endOfWeek:d,getISOWeek:f,getWeek:g,startOfBroadcastWeek:y,startOfISOWeek:x,startOfWeek:w}=r,C=n.reduce((S,T)=>{const E=t.broadcastCalendar?y(T,r):t.ISOWeek?x(T):w(T),P=t.broadcastCalendar?o(T):t.ISOWeek?l(u(T)):d(u(T)),I=e.filter(L=>L>=E&&L<=P),A=t.broadcastCalendar?35:42;if(t.fixedWeeks&&I.length<A){const L=e.filter(V=>{const B=A-I.length;return V>P&&V<=s(P,B)});I.push(...L)}const D=I.reduce((L,V)=>{const B=t.ISOWeek?f(V):g(V),ee=L.find(se=>se.weekNumber===B),X=new zN(V,T,r);return ee?ee.days.push(X):L.push(new pG(B,[X])),L},[]),O=new mG(T,D);return S.push(O),S},[]);return t.reverseMonths?C.reverse():C}function TY(n,e){var E,P;let{startMonth:t,endMonth:r}=n;const{startOfYear:s,startOfDay:o,startOfMonth:l,endOfMonth:u,addYears:d,endOfYear:f,newDate:g,today:y}=e,{fromYear:x,toYear:w,fromMonth:C,toMonth:S}=n;!t&&C&&(t=C),!t&&x&&(t=e.newDate(x,0,1)),!r&&S&&(r=S),!r&&w&&(r=g(w,11,31));const T=n.captionLayout==="dropdown"||n.captionLayout==="dropdown-years";return t?t=l(t):x?t=g(x,0,1):!t&&T&&(t=s(d((E=n.today)!=null?E:y(),-100))),r?r=u(r):w?r=g(w,11,31):!r&&T&&(r=f((P=n.today)!=null?P:y())),[t&&o(t),r&&o(r)]}function NY(n,e,t,r){if(t.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:o=1}=t,{startOfMonth:l,addMonths:u,differenceInCalendarMonths:d}=r,f=s?o:1,g=l(n);if(!e)return u(g,f);if(!(d(e,n)<o))return u(g,f)}function EY(n,e,t,r){if(t.disableNavigation)return;const{pagedNavigation:s,numberOfMonths:o}=t,{startOfMonth:l,addMonths:u,differenceInCalendarMonths:d}=r,f=s&&o!=null?o:1,g=l(n);if(!e)return u(g,-f);if(!(d(g,e)<=0))return u(g,-f)}function MY(n){const e=[];return n.reduce((t,r)=>[...t,...r.weeks],e)}function Ih(n,e){const[t,r]=k.useState(n);return[e===void 0?t:e,r]}function DY(n,e){const[t,r]=TY(n,e),{startOfMonth:s,endOfMonth:o}=e,l=Tk(n,e),[u,d]=Ih(l,n.month?l:void 0);k.useEffect(()=>{const O=Tk(n,e);d(O)},[n.timeZone]);const f=SY(u,r,n,e),g=kY(f,n.endMonth?o(n.endMonth):void 0,n,e),y=bY(f,g,n,e),x=MY(y),w=CY(y),C=EY(u,t,n,e),S=NY(u,r,n,e),{disableNavigation:T,onMonthChange:E}=n,P=O=>x.some(L=>L.days.some(V=>V.isEqualTo(O))),I=O=>{if(T)return;let L=s(O);t&&L<s(t)&&(L=s(t)),r&&L>s(r)&&(L=s(r)),d(L),E==null||E(L)};return{months:y,weeks:x,days:w,navStart:t,navEnd:r,previousMonth:C,nextMonth:S,goToMonth:I,goToDay:O=>{P(O)||I(O.date)}}}var Is;(function(n){n[n.Today=0]="Today",n[n.Selected=1]="Selected",n[n.LastFocused=2]="LastFocused",n[n.FocusedModifier=3]="FocusedModifier"})(Is||(Is={}));function Nk(n){return!n[pn.disabled]&&!n[pn.hidden]&&!n[pn.outside]}function IY(n,e,t,r){let s,o=-1;for(const l of n){const u=e(l);Nk(u)&&(u[pn.focused]&&o<Is.FocusedModifier?(s=l,o=Is.FocusedModifier):r!=null&&r.isEqualTo(l)&&o<Is.LastFocused?(s=l,o=Is.LastFocused):t(l.date)&&o<Is.Selected?(s=l,o=Is.Selected):u[pn.today]&&o<Is.Today&&(s=l,o=Is.Today))}return s||(s=n.find(l=>Nk(e(l)))),s}function jY(n,e,t,r,s,o,l){const{ISOWeek:u,broadcastCalendar:d}=o,{addDays:f,addMonths:g,addWeeks:y,addYears:x,endOfBroadcastWeek:w,endOfISOWeek:C,endOfWeek:S,max:T,min:E,startOfBroadcastWeek:P,startOfISOWeek:I,startOfWeek:A}=l;let O={day:f,week:y,month:g,year:x,startOfWeek:L=>d?P(L,l):u?I(L):A(L),endOfWeek:L=>d?w(L):u?C(L):S(L)}[n](t,e==="after"?1:-1);return e==="before"&&r?O=T([r,O]):e==="after"&&s&&(O=E([s,O])),O}function eE(n,e,t,r,s,o,l,u=0){if(u>365)return;const d=jY(n,e,t.date,r,s,o,l),f=!!(o.disabled&&vo(d,o.disabled,l)),g=!!(o.hidden&&vo(d,o.hidden,l)),y=d,x=new zN(d,y,l);return!f&&!g?x:eE(n,e,x,r,s,o,l,u+1)}function AY(n,e,t,r,s){const{autoFocus:o}=n,[l,u]=k.useState(),d=IY(e.days,t,r||(()=>!1),l),[f,g]=k.useState(o?d:void 0);return{isFocusTarget:S=>!!(d!=null&&d.isEqualTo(S)),setFocused:g,focused:f,blur:()=>{u(f),g(void 0)},moveFocus:(S,T)=>{if(!f)return;const E=eE(S,T,f,e.navStart,e.navEnd,n,s);E&&(e.goToDay(E),g(E))}}}function PY(n,e){const{selected:t,required:r,onSelect:s}=n,[o,l]=Ih(t,s?t:void 0),u=s?t:o,{isSameDay:d}=e,f=w=>{var C;return(C=u==null?void 0:u.some(S=>d(S,w)))!=null?C:!1},{min:g,max:y}=n;return{selected:u,select:(w,C,S)=>{let T=[...u!=null?u:[]];if(f(w)){if((u==null?void 0:u.length)===g||r&&(u==null?void 0:u.length)===1)return;T=u==null?void 0:u.filter(E=>!d(E,w))}else(u==null?void 0:u.length)===y?T=[w]:T=[...T,w];return s||l(T),s==null||s(T,w,C,S),T},isSelected:f}}function RY(n,e,t=0,r=0,s=!1,o=qs){const{from:l,to:u}=e||{},{isSameDay:d,isAfter:f,isBefore:g}=o;let y;if(!l&&!u)y={from:n,to:t>0?void 0:n};else if(l&&!u)d(l,n)?s?y={from:l,to:void 0}:y=void 0:g(n,l)?y={from:n,to:l}:y={from:l,to:n};else if(l&&u)if(d(l,n)&&d(u,n))s?y={from:l,to:u}:y=void 0;else if(d(l,n))y={from:l,to:t>0?void 0:n};else if(d(u,n))y={from:n,to:t>0?void 0:n};else if(g(n,l))y={from:n,to:u};else if(f(n,l))y={from:l,to:n};else if(f(n,u))y={from:l,to:n};else throw new Error("Invalid range");if(y!=null&&y.from&&(y!=null&&y.to)){const x=o.differenceInCalendarDays(y.to,y.from);r>0&&x>r?y={from:n,to:void 0}:t>1&&x<t&&(y={from:n,to:void 0})}return y}function OY(n,e,t=qs){const r=Array.isArray(e)?e:[e];let s=n.from;const o=t.differenceInCalendarDays(n.to,n.from),l=Math.min(o,6);for(let u=0;u<=l;u++){if(r.includes(s.getDay()))return!0;s=t.addDays(s,1)}return!1}function Ek(n,e,t=qs){return yo(n,e.from,!1,t)||yo(n,e.to,!1,t)||yo(e,n.from,!1,t)||yo(e,n.to,!1,t)}function LY(n,e,t=qs){const r=Array.isArray(e)?e:[e];if(r.filter(u=>typeof u!="function").some(u=>typeof u=="boolean"?u:t.isDate(u)?yo(n,u,!1,t):qN(u,t)?u.some(d=>yo(n,d,!1,t)):kv(u)?u.from&&u.to?Ek(n,{from:u.from,to:u.to},t):!1:YN(u)?OY(n,u.dayOfWeek,t):WN(u)?t.isAfter(u.before,u.after)?Ek(n,{from:t.addDays(u.after,1),to:t.addDays(u.before,-1)},t):vo(n.from,u,t)||vo(n.to,u,t):HN(u)||GN(u)?vo(n.from,u,t)||vo(n.to,u,t):!1))return!0;const l=r.filter(u=>typeof u=="function");if(l.length){let u=n.from;const d=t.differenceInCalendarDays(n.to,n.from);for(let f=0;f<=d;f++){if(l.some(g=>g(u)))return!0;u=t.addDays(u,1)}}return!1}function FY(n,e){const{disabled:t,excludeDisabled:r,selected:s,required:o,onSelect:l}=n,[u,d]=Ih(s,l?s:void 0),f=l?s:u;return{selected:f,select:(x,w,C)=>{const{min:S,max:T}=n,E=x?RY(x,f,S,T,o,e):void 0;return r&&t&&(E!=null&&E.from)&&E.to&&LY({from:E.from,to:E.to},t,e)&&(E.from=x,E.to=void 0),l||d(E),l==null||l(E,x,w,C),E},isSelected:x=>f&&yo(f,x,!1,e)}}function $Y(n,e){const{selected:t,required:r,onSelect:s}=n,[o,l]=Ih(t,s?t:void 0),u=s?t:o,{isSameDay:d}=e;return{selected:u,select:(y,x,w)=>{let C=y;return!r&&u&&u&&d(y,u)&&(C=void 0),s||l(C),s==null||s(C,y,x,w),C},isSelected:y=>u?d(u,y):!1}}function UY(n,e){const t=$Y(n,e),r=PY(n,e),s=FY(n,e);switch(n.mode){case"single":return t;case"multiple":return r;case"range":return s;default:return}}function VY(n){var Zs,bs;let e=n;e.timeZone&&(e=b({},n),e.today&&(e.today=new Jn(e.today,e.timeZone)),e.month&&(e.month=new Jn(e.month,e.timeZone)),e.defaultMonth&&(e.defaultMonth=new Jn(e.defaultMonth,e.timeZone)),e.startMonth&&(e.startMonth=new Jn(e.startMonth,e.timeZone)),e.endMonth&&(e.endMonth=new Jn(e.endMonth,e.timeZone)),e.mode==="single"&&e.selected?e.selected=new Jn(e.selected,e.timeZone):e.mode==="multiple"&&e.selected?e.selected=(Zs=e.selected)==null?void 0:Zs.map(ot=>new Jn(ot,e.timeZone)):e.mode==="range"&&e.selected&&(e.selected={from:e.selected.from?new Jn(e.selected.from,e.timeZone):void 0,to:e.selected.to?new Jn(e.selected.to,e.timeZone):void 0}));const{components:t,formatters:r,labels:s,dateLib:o,locale:l,classNames:u}=k.useMemo(()=>{const ot=b(b({},ev),e.locale);return{dateLib:new Ao({locale:ot,weekStartsOn:e.broadcastCalendar?1:e.weekStartsOn,firstWeekContainsDate:e.firstWeekContainsDate,useAdditionalWeekYearTokens:e.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:e.useAdditionalDayOfYearTokens,timeZone:e.timeZone,numerals:e.numerals},e.dateLib),components:HG(e.components),formatters:tY(e.formatters),labels:b(b({},yY),e.labels),locale:ot,classNames:b(b({},Cv()),e.classNames)}},[e.locale,e.broadcastCalendar,e.weekStartsOn,e.firstWeekContainsDate,e.useAdditionalWeekYearTokens,e.useAdditionalDayOfYearTokens,e.timeZone,e.numerals,e.dateLib,e.components,e.formatters,e.labels,e.classNames]),{captionLayout:d,mode:f,navLayout:g,numberOfMonths:y=1,onDayBlur:x,onDayClick:w,onDayFocus:C,onDayKeyDown:S,onDayMouseEnter:T,onDayMouseLeave:E,onNextClick:P,onPrevClick:I,showWeekNumber:A,styles:D}=e,{formatCaption:O,formatDay:L,formatMonthDropdown:V,formatWeekNumber:B,formatWeekNumberHeader:ee,formatWeekdayName:X,formatYearDropdown:se}=r,ce=DY(e,o),{days:ke,months:xe,navStart:me,navEnd:pe,previousMonth:j,nextMonth:H,goToMonth:$}=ce,F=gG(ke,e,o),{isSelected:q,select:W,selected:ne}=(bs=UY(e,o))!=null?bs:{},{blur:G,focused:oe,isFocusTarget:le,moveFocus:Y,setFocused:he}=AY(e,ce,F,q!=null?q:()=>!1,o),{labelDayButton:Me,labelGridcell:Be,labelGrid:$e,labelMonthDropdown:et,labelNav:Ut,labelPrevious:Yt,labelNext:Vt,labelWeekday:gn,labelWeekNumber:an,labelWeekNumberHeader:yn,labelYearDropdown:Pn}=s,tt=k.useMemo(()=>sY(o,e.ISOWeek),[o,e.ISOWeek]),xn=f!==void 0||w!==void 0,qt=k.useCallback(()=>{j&&($(j),I==null||I(j))},[j,$,I]),Un=k.useCallback(()=>{H&&($(H),P==null||P(H))},[$,H,P]),kr=k.useCallback((ot,Nt)=>kt=>{kt.preventDefault(),kt.stopPropagation(),he(ot),W==null||W(ot.date,Nt,kt),w==null||w(ot.date,Nt,kt)},[W,w,he]),Pr=k.useCallback((ot,Nt)=>kt=>{he(ot),C==null||C(ot.date,Nt,kt)},[C,he]),Kr=k.useCallback((ot,Nt)=>kt=>{G(),x==null||x(ot.date,Nt,kt)},[G,x]),Cr=k.useCallback((ot,Nt)=>kt=>{const Sr={ArrowLeft:["day",e.dir==="rtl"?"after":"before"],ArrowRight:["day",e.dir==="rtl"?"before":"after"],ArrowDown:["week","after"],ArrowUp:["week","before"],PageUp:[kt.shiftKey?"year":"month","before"],PageDown:[kt.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Sr[kt.key]){kt.preventDefault(),kt.stopPropagation();const[zn,Qs]=Sr[kt.key];Y(zn,Qs)}S==null||S(ot.date,Nt,kt)},[Y,S,e.dir]),Ss=k.useCallback((ot,Nt)=>kt=>{T==null||T(ot.date,Nt,kt)},[T]),He=k.useCallback((ot,Nt)=>kt=>{E==null||E(ot.date,Nt,kt)},[E]),st=k.useCallback(ot=>Nt=>{const kt=Number(Nt.target.value),Sr=o.setMonth(o.startOfMonth(ot),kt);$(Sr)},[o,$]),cr=k.useCallback(ot=>Nt=>{const kt=Number(Nt.target.value),Sr=o.setYear(o.startOfMonth(ot),kt);$(Sr)},[o,$]),{className:tr,style:pa}=k.useMemo(()=>({className:[u[qe.Root],e.className].filter(Boolean).join(" "),style:b(b({},D==null?void 0:D[qe.Root]),e.style)}),[u,e.className,e.style,D]),Hl=GG(e),Oo=k.useRef(null);_Y(Oo,!!e.animate,{classNames:u,months:xe,focused:oe,dateLib:o});const Di={dayPickerProps:e,selected:ne,select:W,isSelected:q,months:xe,nextMonth:H,previousMonth:j,goToMonth:$,getModifiers:F,components:t,classNames:u,styles:D,labels:s,formatters:r};return be.createElement(KN.Provider,{value:Di},be.createElement(t.Root,b({rootRef:e.animate?Oo:void 0,className:tr,style:pa,dir:e.dir,id:e.id,lang:e.lang,nonce:e.nonce,title:e.title,role:e.role,"aria-label":e["aria-label"]},Hl),be.createElement(t.Months,{className:u[qe.Months],style:D==null?void 0:D[qe.Months]},!e.hideNavigation&&!g&&be.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:u[qe.Nav],style:D==null?void 0:D[qe.Nav],"aria-label":Ut(),onPreviousClick:qt,onNextClick:Un,previousMonth:j,nextMonth:H}),xe.map((ot,Nt)=>{const kt=nY(ot.date,me,pe,r,o),Sr=oY(me,pe,r,o);return be.createElement(t.Month,{"data-animated-month":e.animate?"true":void 0,className:u[qe.Month],style:D==null?void 0:D[qe.Month],key:Nt,displayIndex:Nt,calendarMonth:ot},g==="around"&&!e.hideNavigation&&Nt===0&&be.createElement(t.PreviousMonthButton,{type:"button",className:u[qe.PreviousMonthButton],tabIndex:j?void 0:-1,"aria-disabled":j?void 0:!0,"aria-label":Yt(j),onClick:qt,"data-animated-button":e.animate?"true":void 0},be.createElement(t.Chevron,{disabled:j?void 0:!0,className:u[qe.Chevron],orientation:e.dir==="rtl"?"right":"left"})),be.createElement(t.MonthCaption,{"data-animated-caption":e.animate?"true":void 0,className:u[qe.MonthCaption],style:D==null?void 0:D[qe.MonthCaption],calendarMonth:ot,displayIndex:Nt},d!=null&&d.startsWith("dropdown")?be.createElement(t.DropdownNav,{className:u[qe.Dropdowns],style:D==null?void 0:D[qe.Dropdowns]},d==="dropdown"||d==="dropdown-months"?be.createElement(t.MonthsDropdown,{className:u[qe.MonthsDropdown],"aria-label":et(),classNames:u,components:t,disabled:!!e.disableNavigation,onChange:st(ot.date),options:kt,style:D==null?void 0:D[qe.Dropdown],value:o.getMonth(ot.date)}):be.createElement("span",null,V(ot.date,o)),d==="dropdown"||d==="dropdown-years"?be.createElement(t.YearsDropdown,{className:u[qe.YearsDropdown],"aria-label":Pn(o.options),classNames:u,components:t,disabled:!!e.disableNavigation,onChange:cr(ot.date),options:Sr,style:D==null?void 0:D[qe.Dropdown],value:o.getYear(ot.date)}):be.createElement("span",null,se(ot.date,o)),be.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},O(ot.date,o.options,o))):be.createElement(t.CaptionLabel,{className:u[qe.CaptionLabel],role:"status","aria-live":"polite"},O(ot.date,o.options,o))),g==="around"&&!e.hideNavigation&&Nt===y-1&&be.createElement(t.NextMonthButton,{type:"button",className:u[qe.NextMonthButton],tabIndex:H?void 0:-1,"aria-disabled":H?void 0:!0,"aria-label":Vt(H),onClick:Un,"data-animated-button":e.animate?"true":void 0},be.createElement(t.Chevron,{disabled:H?void 0:!0,className:u[qe.Chevron],orientation:e.dir==="rtl"?"left":"right"})),Nt===y-1&&g==="after"&&!e.hideNavigation&&be.createElement(t.Nav,{"data-animated-nav":e.animate?"true":void 0,className:u[qe.Nav],style:D==null?void 0:D[qe.Nav],"aria-label":Ut(),onPreviousClick:qt,onNextClick:Un,previousMonth:j,nextMonth:H}),be.createElement(t.MonthGrid,{role:"grid","aria-multiselectable":f==="multiple"||f==="range","aria-label":$e(ot.date,o.options,o)||void 0,className:u[qe.MonthGrid],style:D==null?void 0:D[qe.MonthGrid]},!e.hideWeekdays&&be.createElement(t.Weekdays,{"data-animated-weekdays":e.animate?"true":void 0,className:u[qe.Weekdays],style:D==null?void 0:D[qe.Weekdays]},A&&be.createElement(t.WeekNumberHeader,{"aria-label":yn(o.options),className:u[qe.WeekNumberHeader],style:D==null?void 0:D[qe.WeekNumberHeader],scope:"col"},ee()),tt.map((zn,Qs)=>be.createElement(t.Weekday,{"aria-label":gn(zn,o.options,o),className:u[qe.Weekday],key:Qs,style:D==null?void 0:D[qe.Weekday],scope:"col"},X(zn,o.options,o)))),be.createElement(t.Weeks,{"data-animated-weeks":e.animate?"true":void 0,className:u[qe.Weeks],style:D==null?void 0:D[qe.Weeks]},ot.weeks.map((zn,Qs)=>be.createElement(t.Week,{className:u[qe.Week],key:zn.weekNumber,style:D==null?void 0:D[qe.Week],week:zn},A&&be.createElement(t.WeekNumber,{week:zn,style:D==null?void 0:D[qe.WeekNumber],"aria-label":an(zn.weekNumber,{locale:l}),className:u[qe.WeekNumber],scope:"row",role:"rowheader"},B(zn.weekNumber,o)),zn.days.map(wn=>{const{date:Wn}=wn,wt=F(wn);if(wt[pn.focused]=!wt.hidden&&!!(oe!=null&&oe.isEqualTo(wn)),wt[fs.selected]=(q==null?void 0:q(Wn))||wt.selected,kv(ne)){const{from:ye,to:ue}=ne;wt[fs.range_start]=!!(ye&&ue&&o.isSameDay(Wn,ye)),wt[fs.range_end]=!!(ye&&ue&&o.isSameDay(Wn,ue)),wt[fs.range_middle]=yo(ne,Wn,!0,o)}const ga=rY(wt,D,e.modifiersStyles),Xs=yG(wt,u,e.modifiersClassNames),J=!xn&&!wt.hidden?Be(Wn,wt,o.options,o):void 0;return be.createElement(t.Day,{key:`${o.format(Wn,"yyyy-MM-dd")}_${o.format(wn.displayMonth,"yyyy-MM")}`,day:wn,modifiers:wt,className:Xs.join(" "),style:ga,role:"gridcell","aria-selected":wt.selected||void 0,"aria-label":J,"data-day":o.format(Wn,"yyyy-MM-dd"),"data-month":wn.outside?o.format(Wn,"yyyy-MM"):void 0,"data-selected":wt.selected||void 0,"data-disabled":wt.disabled||void 0,"data-hidden":wt.hidden||void 0,"data-outside":wn.outside||void 0,"data-focused":wt.focused||void 0,"data-today":wt.today||void 0},!wt.hidden&&xn?be.createElement(t.DayButton,{className:u[qe.DayButton],style:D==null?void 0:D[qe.DayButton],type:"button",day:wn,modifiers:wt,disabled:wt.disabled||void 0,tabIndex:le(wn)?0:-1,"aria-label":Me(Wn,wt,o.options,o),onClick:kr(wn,wt),onBlur:Kr(wn,wt),onFocus:Pr(wn,wt),onKeyDown:Cr(wn,wt),onMouseEnter:Ss(wn,wt),onMouseLeave:He(wn,wt)},L(Wn,o.options,o)):!wt.hidden&&L(wn.date,o.options,o))}))))))})),e.footer&&be.createElement(t.Footer,{className:u[qe.Footer],style:D==null?void 0:D[qe.Footer],role:"status","aria-live":"polite"},e.footer)))}function Sv(d){var f=d,{className:n,classNames:e,showOutsideDays:t=!0,captionLayout:r="label",buttonVariant:s="ghost",formatters:o,components:l}=f,u=Q(f,["className","classNames","showOutsideDays","captionLayout","buttonVariant","formatters","components"]);const g=Cv();return a.jsx(VY,b({showOutsideDays:t,className:ae("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,n),captionLayout:r,formatters:b({formatMonthDropdown:y=>y.toLocaleString("default",{month:"short"})},o),classNames:b({root:ae("w-fit",g.root),months:ae("flex gap-4 flex-col md:flex-row relative",g.months),month:ae("flex flex-col w-full gap-4",g.month),nav:ae("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",g.nav),button_previous:ae(Sg({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",g.button_previous),button_next:ae(Sg({variant:s}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",g.button_next),month_caption:ae("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",g.month_caption),dropdowns:ae("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",g.dropdowns),dropdown_root:ae("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",g.dropdown_root),dropdown:ae("absolute inset-0 opacity-0",g.dropdown),caption_label:ae("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",g.caption_label),table:"w-full border-collapse",weekdays:ae("flex",g.weekdays),weekday:ae("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",g.weekday),week:ae("flex w-full mt-2",g.week),week_number_header:ae("select-none w-(--cell-size)",g.week_number_header),week_number:ae("text-[0.8rem] select-none text-muted-foreground",g.week_number),day:ae("relative w-full h-full p-0 text-center [&:first-child[data-selected=true]_button]:rounded-l-md [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",g.day),range_start:ae("rounded-l-md bg-accent",g.range_start),range_middle:ae("rounded-none",g.range_middle),range_end:ae("rounded-r-md bg-accent",g.range_end),today:ae("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",g.today),outside:ae("text-muted-foreground aria-selected:text-muted-foreground",g.outside),disabled:ae("text-muted-foreground opacity-50",g.disabled),hidden:ae("invisible",g.hidden)},e),components:b({Root:C=>{var S=C,{className:y,rootRef:x}=S,w=Q(S,["className","rootRef"]);return a.jsx("div",b({"data-slot":"calendar",ref:x,className:ae(y)},w))},Chevron:C=>{var S=C,{className:y,orientation:x}=S,w=Q(S,["className","orientation"]);return x==="left"?a.jsx(Ty,b({className:ae("size-4",y)},w)):x==="right"?a.jsx(pu,b({className:ae("size-4",y)},w)):a.jsx(by,b({className:ae("size-4",y)},w))},DayButton:y=>a.jsx(tE,b({},y)),WeekNumber:w=>{var C=w,{children:y}=C,x=Q(C,["children"]);return a.jsx("td",U(b({},x),{children:a.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:y})}))}},l)},u))}const tE=k.forwardRef((o,s)=>{var l=o,{className:n,day:e,modifiers:t}=l,r=Q(l,["className","day","modifiers"]);const u=Cv(),d=k.useRef(null),f=s||d;return k.useEffect(()=>{t.focused&&typeof f=="object"&&(f!=null&&f.current)&&f.current.focus()},[t.focused,f]),a.jsx(de,b({ref:f,variant:"ghost",size:"icon","data-day":e.date.toLocaleDateString(),"data-selected-single":t.selected&&!t.range_start&&!t.range_end&&!t.range_middle,"data-range-start":t.range_start,"data-range-end":t.range_end,"data-range-middle":t.range_middle,className:ae("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",u.day,n)},r))});tE.displayName="CalendarDayButton";function ha(n){const e=k.useMemo(()=>(d,f=!1)=>{if(!d)return"";const g=typeof d=="string"?new Date(d):d;if(isNaN(g.getTime()))return"";const y=(n==null?void 0:n.dateFormat)||"MM/DD/YYYY",x=(n==null?void 0:n.timeFormat)||"12h";let w="";switch(y){case"DD/MM/YYYY":w=g.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"});break;case"YYYY-MM-DD":w=g.toLocaleDateString("en-CA");break;case"MM/DD/YYYY":default:w=g.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});break}if(f){const C=g.toLocaleTimeString("en-US",{hour12:x==="12h",hour:"2-digit",minute:"2-digit"});return`${w} ${C}`}return w},[n==null?void 0:n.dateFormat,n==null?void 0:n.timeFormat]),t=k.useMemo(()=>d=>n!=null&&n.showCompletedTasks?d:d.filter(f=>f.status!=="done"),[n==null?void 0:n.showCompletedTasks]),r=k.useMemo(()=>d=>{const f=(n==null?void 0:n.taskSortBy)||"priority",g=(n==null?void 0:n.taskSortOrder)||"asc";return[...d].sort((x,w)=>{let C=0;switch(f){case"priority":C=(w.priority||2)-(x.priority||2);break;case"dueDate":const S=x.dueDate?new Date(x.dueDate).getTime():1/0,T=w.dueDate?new Date(w.dueDate).getTime():1/0;C=S-T;break;case"created":const E=new Date(x.createdAt).getTime();C=new Date(w.createdAt).getTime()-E;break;case"alphabetical":C=x.title.localeCompare(w.title);break;default:C=0}return g==="desc"?-C:C})},[n==null?void 0:n.taskSortBy,n==null?void 0:n.taskSortOrder]),s=k.useMemo(()=>{var d;return(d=n==null?void 0:n.weekStartsOn)!=null?d:0},[n==null?void 0:n.weekStartsOn]),o=k.useMemo(()=>(n==null?void 0:n.autoSave)!==!1,[n==null?void 0:n.autoSave]),l=k.useMemo(()=>{var d;return(d=n==null?void 0:n.calendarDefaultZoom)!=null?d:1},[n==null?void 0:n.calendarDefaultZoom]),u=k.useMemo(()=>{var d;return(d=n==null?void 0:n.calendarDefaultView)!=null?d:"3-day"},[n==null?void 0:n.calendarDefaultView]);return{formatDate:e,filterTasks:t,sortTasks:r,weekStartsOn:s,isAutoSaveEnabled:o,calendarDefaultZoom:l,calendarDefaultView:u,preferences:n}}function BY(n,e,t){const{onEdit:r,onDuplicate:s,onDelete:o,onUpdateTask:l,onMoveTask:u,onUpdateTimeEstimate:d,onToggleComplete:f}=e,{formatDate:g}=ha(t),y=()=>{r(n)},x=()=>M(null,null,function*(){s&&(yield s(n))}),w=()=>M(null,null,function*(){o&&(yield o(n.id))}),C=()=>{f&&f(n.id)},S=B=>M(null,null,function*(){l&&(yield l(n.id,{priority:B}))}),T=B=>M(null,null,function*(){d&&(yield d(n.id,B))}),E=B=>M(null,null,function*(){u&&(yield u(n.id,B))}),P=()=>M(null,null,function*(){if(l&&u){const B=new Date;B.setHours(9,0,0,0),yield l(n.id,{scheduledDate:B.toISOString()}),yield u(n.id,"today")}}),I=()=>M(null,null,function*(){if(l&&u){const B=new Date;B.setDate(B.getDate()+1),B.setHours(9,0,0,0),yield l(n.id,{scheduledDate:B.toISOString()}),yield u(n.id,"this-week")}}),A=()=>M(null,null,function*(){if(l&&u){const B=new Date,ee=(6-B.getDay())%7,X=new Date(B);X.setDate(B.getDate()+ee),X.setHours(10,0,0,0),yield l(n.id,{scheduledDate:X.toISOString()}),yield u(n.id,"this-week")}}),D=()=>M(null,null,function*(){l&&(yield l(n.id,{scheduledDate:void 0}))}),O=B=>M(null,null,function*(){l&&(yield l(n.id,{recurring:{pattern:B,interval:1,daysOfWeek:[],daysOfMonth:[],monthsOfYear:[]}}))}),L=()=>M(null,null,function*(){l&&(yield l(n.id,{recurring:void 0}))}),V=k.useCallback(B=>{var ce,ke,xe;if(!B.recurring)return null;const{pattern:ee,interval:X}=B.recurring;let se="";switch(ee){case"daily":se=X===1?"Daily":`Every ${X} days`;break;case"weekly":if(se=X===1?"Weekly":`Every ${X} weeks`,(ce=B.recurring.daysOfWeek)!=null&&ce.length){const me=B.recurring.daysOfWeek.map(pe=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][pe]).join(", ");se+=` on ${me}`}break;case"monthly":if(se=X===1?"Monthly":`Every ${X} months`,(ke=B.recurring.daysOfMonth)!=null&&ke.length){const me=B.recurring.daysOfMonth.map(pe=>pe+(pe===1?"st":pe===2?"nd":pe===3?"rd":"th")).join(", ");se+=` on the ${me}`}break;case"yearly":if(se=X===1?"Yearly":`Every ${X} years`,(xe=B.recurring.monthsOfYear)!=null&&xe.length){const me=B.recurring.monthsOfYear.map(pe=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][pe-1]).join(", ");se+=` in ${me}`}break}return B.recurring.endDate&&(se+=` until ${g(B.recurring.endDate)}`),se},[g]);return{handleEdit:y,handleDuplicate:x,handleDelete:w,handleToggleComplete:C,handleQuickPriority:S,handleQuickTime:T,handleMoveToStatus:E,handleScheduleToday:P,handleScheduleTomorrow:I,handleScheduleThisWeekend:A,handleClearSchedule:D,handleSetRecurringPattern:O,handleClearRecurring:L,getRecurringText:V,formatDate:g}}class zY{constructor(e){ni(this,"tokens",null);ni(this,"CALENDAR_API_BASE","https://www.googleapis.com/calendar/v3");ni(this,"TASKS_API_BASE","https://www.googleapis.com/tasks/v1");ni(this,"AUTH_BASE","https://accounts.google.com/o/oauth2/v2/auth");ni(this,"SCOPES","https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/tasks");ni(this,"userId",null);ni(this,"refreshPromise",null);this.config=e}setUserId(e){this.userId=e}getAuthUrl(){const e=new URLSearchParams({client_id:this.config.clientId,redirect_uri:this.config.redirectUri,scope:this.SCOPES,response_type:"code",access_type:"offline",prompt:"consent",include_granted_scopes:"true"});return`${this.AUTH_BASE}?${e.toString()}`}exchangeCodeForTokens(e){return M(this,null,function*(){if(!this.userId)throw new Error("User ID must be set before exchanging tokens");try{console.log("Exchanging authorization code for tokens via secure backend...");const{data:{session:t}}=yield Ke.auth.getSession();if(!t)throw new Error("No active session");const{data:r,error:s}=yield Ke.functions.invoke("google-oauth-exchange",{body:{code:e,redirectUri:this.config.redirectUri},headers:{Authorization:`Bearer ${t.access_token}`}});if(s)throw console.error("Token exchange failed:",s),new Error(`Token exchange failed: ${s.message||"Unknown error"}`);if(!(r!=null&&r.success))throw console.error("Token exchange response:",r),new Error("Token exchange was not successful");if(!(yield this.loadStoredTokens()))throw new Error("Tokens were not stored properly");console.log("✅ Google Calendar tokens exchanged and stored successfully")}catch(t){throw console.error("❌ Failed to exchange code for tokens:",t),t}})}loadStoredTokens(){return M(this,null,function*(){if(!this.userId)return console.log("No user ID set, cannot load tokens"),!1;try{console.log(`🔍 Loading stored tokens for user: ${this.userId}`);const{data:e,error:t}=yield Ke.from("google_calendar_tokens").select("*").eq("id",this.userId).maybeSingle();if(t)return console.error("Error loading tokens from database:",t),this.tokens=null,!1;if(!e)return console.log("No Google Calendar tokens found for user in database"),this.tokens=null,!1;console.log("📦 Found stored tokens, checking validity..."),this.tokens={id:e.id,accessToken:e.access_token,refreshToken:e.refresh_token,expiresAt:e.expires_at,scope:e.scope,createdAt:e.created_at,updatedAt:e.updated_at};const r=new Date(this.tokens.expiresAt),s=new Date,o=r.getTime()-s.getTime();return console.log(`⏰ Token expires in ${Math.round(o/6e4)} minutes`),yield this.ensureValidTokens(),console.log("✅ Google Calendar tokens loaded successfully"),!0}catch(e){return console.error("❌ Failed to load stored tokens:",e),this.tokens=null,!1}})}ensureValidTokens(){return M(this,null,function*(){if(!this.tokens)throw new Error("No tokens available");const e=new Date(this.tokens.expiresAt),t=new Date,r=e.getTime()-t.getTime(),s=10*60*1e3;if(r<=s){if(console.log(`🔄 Access token expires in ${Math.round(r/6e4)} minutes, refreshing...`),this.refreshPromise){console.log("⏳ Waiting for existing refresh attempt..."),yield this.refreshPromise;return}this.refreshPromise=this.refreshAccessToken();try{yield this.refreshPromise}finally{this.refreshPromise=null}}})}refreshAccessToken(){return M(this,null,function*(){var e,t,r,s;if(!this.tokens||!this.userId)throw new Error("No tokens or user ID available for refresh");try{console.log("🔄 Refreshing Google Calendar access token via secure backend...");const{data:{session:o}}=yield Ke.auth.getSession();if(!o)throw new Error("No active session");const{data:l,error:u}=yield Ke.functions.invoke("google-oauth-exchange",{method:"PUT",headers:{Authorization:`Bearer ${o.access_token}`}});if(u)throw console.error("Token refresh failed:",u),(e=u.message)!=null&&e.includes("401")||(t=u.message)!=null&&t.includes("403")||(r=u.message)!=null&&r.includes("needsReauth")||(s=u.message)!=null&&s.includes("invalid_grant")?(console.warn("Authentication error detected, forcing re-authentication"),yield this.disconnect(),new Error("Authentication expired. Please reconnect to Google Calendar.")):new Error(`Failed to refresh access token: ${u.message}. Please try again.`);if(!(l!=null&&l.access_token)||!(l!=null&&l.expires_at))throw console.error("Invalid refresh response:",l),l!=null&&l.needsReauth?(yield this.disconnect(),new Error("Authentication expired. Please reconnect to Google Calendar.")):new Error("Invalid refresh response. Please try again later.");this.tokens=U(b({},this.tokens),{accessToken:l.access_token,expiresAt:l.expires_at,updatedAt:new Date().toISOString()}),console.log("✅ Access token refreshed successfully")}catch(o){throw console.error("❌ Failed to refresh access token:",o),o}})}isUserAuthenticated(){return this.tokens!==null&&this.userId!==null}disconnect(){return M(this,null,function*(){if(this.userId)try{yield Ke.from("google_calendar_tokens").delete().eq("id",this.userId)}catch(e){console.error("Failed to remove tokens from database:",e)}this.tokens=null,this.refreshPromise=null,typeof window!="undefined"&&localStorage.removeItem("google_calendar_tokens"),console.log("✅ Google Calendar disconnected successfully")})}makeApiRequest(r){return M(this,arguments,function*(e,t={}){if(!this.tokens)throw new Error("Not authenticated with Google Calendar");yield this.ensureValidTokens();const s=yield fetch(`${this.CALENDAR_API_BASE}${e}`,U(b({},t),{headers:b({Authorization:`Bearer ${this.tokens.accessToken}`,"Content-Type":"application/json"},t.headers)}));if(!s.ok){const o=yield s.text();if(console.error("API request failed:",{status:s.status,statusText:s.statusText,body:o}),s.status===401)try{yield this.refreshAccessToken();const l=yield fetch(`${this.CALENDAR_API_BASE}${e}`,U(b({},t),{headers:b({Authorization:`Bearer ${this.tokens.accessToken}`,"Content-Type":"application/json"},t.headers)}));if(!l.ok)throw new Error(`API request failed after refresh: ${l.status}`);return yield l.json()}catch(l){throw console.error("Failed to refresh and retry request:",l),new Error("Authentication expired. Please reconnect to Google Calendar.")}else throw new Error(`API request failed: ${s.status} ${s.statusText} - ${o}`)}return yield s.json()})}taskToCalendarEvent(e,t){const r=e.scheduledDate||e.startDate;if(!r)throw new Error("Task must have a scheduled date or start date");const s=new Date(r),o=new Date(s.getTime()+e.timeEstimate*60*1e3),u=`${t!=null&&t.name?`[${t.name}] `:""}${e.title}`,d=[t!=null&&t.name?`📋 Board: ${t.name}`:"",e.description?`📝 ${e.description}`:"",`⏱️ Time Estimate: ${e.timeEstimate} minutes`,e.priority?`🔥 Priority: ${this.getPriorityText(e.priority)}`:"",e.category?`🏷️ Category: ${e.category}`:"",e.status?`📊 Status: ${this.getStatusText(e.status)}`:"",e.tags&&e.tags.length>0?`🏷️ Tags: ${e.tags.join(", ")}`:"",e.progressPercentage>0?`📈 Progress: ${e.progressPercentage}%`:"",e.timeSpent>0?`⏰ Time Spent: ${e.timeSpent} minutes`:"","","📱 Created in DayFlow"].filter(Boolean).join(`
`);return b({summary:u,description:d,start:{dateTime:s.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},end:{dateTime:o.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},source:{title:"DayFlow",url:window.location.origin}},(t==null?void 0:t.color)&&this.getCalendarColorId(t.color)&&{colorId:this.getCalendarColorId(t.color)})}getPriorityText(e){return{1:"Low",2:"Medium",3:"High",4:"Critical"}[e]||"Medium"}getStatusText(e){return{backlog:"Backlog","this-week":"This Week",today:"Today",done:"Done"}[e]||e}getCalendarColorId(e){return{"#1f2937":"8","#dc2626":"11","#ea580c":"6","#ca8a04":"5","#16a34a":"10","#0ea5e9":"9","#7c3aed":"3","#db2777":"4","#ef4444":"11","#f97316":"6","#eab308":"5","#22c55e":"10","#3b82f6":"9","#8b5cf6":"3","#ec4899":"4","#6b7280":"8"}[e.toLowerCase()]||null}createEvent(e,t="primary",r){return M(this,null,function*(){if(!this.isUserAuthenticated())throw new Error("Not authenticated with Google Calendar");try{const s=this.taskToCalendarEvent(e,r);return(yield this.makeApiRequest(`/calendars/${t}/events`,{method:"POST",body:JSON.stringify(s)})).id}catch(s){throw console.error("Error creating Google Calendar event:",s),s}})}updateEvent(e,t,r="primary",s){return M(this,null,function*(){if(!this.isUserAuthenticated())throw new Error("Not authenticated with Google Calendar");try{const o=this.taskToCalendarEvent(e,s);yield this.makeApiRequest(`/calendars/${r}/events/${t}`,{method:"PUT",body:JSON.stringify(o)})}catch(o){throw console.error("Error updating Google Calendar event:",o),o}})}deleteEvent(e,t="primary"){return M(this,null,function*(){if(!this.isUserAuthenticated())throw new Error("Not authenticated with Google Calendar");try{yield this.makeApiRequest(`/calendars/${t}/events/${e}`,{method:"DELETE"})}catch(r){throw console.error("Error deleting Google Calendar event:",r),r}})}getCalendarList(){return M(this,null,function*(){if(!this.isUserAuthenticated())throw new Error("Not authenticated with Google Calendar");try{return(yield this.makeApiRequest("/users/me/calendarList")).items||[]}catch(e){throw console.error("Error fetching calendar list:",e),e}})}getEvents(e="primary",t,r){return M(this,null,function*(){if(!this.isUserAuthenticated())throw new Error("Not authenticated with Google Calendar");try{const s=new Date,o=t||new Date(s.getTime()-7*24*60*60*1e3),l=r||new Date(s.getTime()+30*24*60*60*1e3),u=new URLSearchParams({timeMin:o.toISOString(),timeMax:l.toISOString(),singleEvents:"true",orderBy:"startTime",maxResults:"100"});return(yield this.makeApiRequest(`/calendars/${encodeURIComponent(e)}/events?${u}`)).items||[]}catch(s){throw console.error("Error fetching calendar events:",s),s}})}makeTasksApiRequest(r){return M(this,arguments,function*(e,t={}){if(!this.tokens)throw new Error("Not authenticated with Google Tasks");yield this.ensureValidTokens();const s=yield fetch(`${this.TASKS_API_BASE}${e}`,U(b({},t),{headers:b({Authorization:`Bearer ${this.tokens.accessToken}`,"Content-Type":"application/json"},t.headers)}));if(!s.ok){const o=yield s.text();if(console.error("Tasks API request failed:",{status:s.status,statusText:s.statusText,body:o}),s.status===401)try{yield this.refreshAccessToken();const l=yield fetch(`${this.TASKS_API_BASE}${e}`,U(b({},t),{headers:b({Authorization:`Bearer ${this.tokens.accessToken}`,"Content-Type":"application/json"},t.headers)}));if(!l.ok)throw new Error(`Tasks API request failed after refresh: ${l.status}`);return yield l.json()}catch(l){throw console.error("Failed to refresh and retry Tasks request:",l),new Error("Authentication expired. Please reconnect to Google Calendar.")}else throw new Error(`Tasks API request failed: ${s.status} ${s.statusText} - ${o}`)}return yield s.json()})}hasTasksScope(){return M(this,null,function*(){if(!this.tokens)return!1;try{return(yield fetch(`${this.TASKS_API_BASE}/users/@me/lists?maxResults=1`,{headers:{Authorization:`Bearer ${this.tokens.accessToken}`,"Content-Type":"application/json"}})).ok}catch(e){return console.log("Tasks scope check failed:",e),!1}})}getTaskLists(){return M(this,null,function*(){if(!this.isUserAuthenticated())throw new Error("Not authenticated with Google Tasks");if(!(yield this.hasTasksScope()))throw new Error("Google Tasks access not granted. Please reconnect to Google Calendar to enable Google Tasks import.");try{console.log("📋 Fetching Google Task Lists...");const r=(yield this.makeTasksApiRequest("/users/@me/lists")).items||[];return console.log(`📋 Found ${r.length} task lists`),r}catch(t){throw console.error("❌ Failed to fetch task lists:",t),t instanceof Error&&t.message.includes("403")?new Error("Google Tasks access denied. Please reconnect to Google Calendar to grant Tasks permissions."):t instanceof Error&&t.message.includes("401")?new Error("Authentication expired. Please reconnect to Google Calendar."):t}})}getTasks(e="@default",t=!0,r=!1){return M(this,null,function*(){if(!this.isUserAuthenticated())throw new Error("Not authenticated with Google Tasks");try{console.log(`📋 Fetching Google Tasks from list: ${e}...`);const s=new URLSearchParams({showCompleted:t.toString(),showDeleted:r.toString(),showHidden:"true",maxResults:"100"}),l=(yield this.makeTasksApiRequest(`/lists/${e}/tasks?${s.toString()}`)).items||[];return console.log(`📋 Found ${l.length} tasks in list ${e}`),l}catch(s){throw console.error("❌ Failed to fetch tasks:",s),s}})}filterImportableTasks(e){return e.filter(t=>{var r;return!(!t.title||t.title.trim()===""||t.deleted||t.parent||(r=t.notes)!=null&&r.includes("📱 Created in DayFlow"))})}googleTaskToTask(e,t){const r=e.due?new Date(e.due).toISOString():void 0;let s=e.notes||"",o=2,l="",u=[],d=60;if(s.includes("🔥 Priority:")){const g=s.match(/🔥 Priority: (Low|Medium|High|Critical)/);g&&(o={Low:1,Medium:2,High:3,Critical:4}[g[1]]||2)}if(s.includes("🏷️ Category:")){const g=s.match(/🏷️ Category: ([^\n]+)/);g&&(l=g[1].trim())}if(s.includes("🏷️ Tags:")){const g=s.match(/🏷️ Tags: ([^\n]+)/);g&&(u=g[1].split(",").map(y=>y.trim()).filter(Boolean))}if(s.includes("⏱️ Time Estimate:")){const g=s.match(/⏱️ Time Estimate: (\d+)/);g&&(d=parseInt(g[1])||60)}s=s.replace(/📋 Board: [^\n]+\n?/g,"").replace(/⏱️ Time Estimate: [^\n]+\n?/g,"").replace(/🔥 Priority: [^\n]+\n?/g,"").replace(/🏷️ Category: [^\n]+\n?/g,"").replace(/📊 Status: [^\n]+\n?/g,"").replace(/🏷️ Tags: [^\n]+\n?/g,"").replace(/📈 Progress: [^\n]+\n?/g,"").replace(/⏰ Time Spent: [^\n]+\n?/g,"").replace(/📱 Created in DayFlow\n?/g,"").replace(/📝 /g,"").trim();let f="backlog";if(e.status==="completed")f="done";else if(r){const g=new Date,y=new Date(r),x=new Date(g.getFullYear(),g.getMonth(),g.getDate()),w=new Date(y.getFullYear(),y.getMonth(),y.getDate());w.getTime()===x.getTime()?f="today":w>x?Math.ceil((w.getTime()-x.getTime())/864e5)<=7&&(f="this-week"):f="today"}return{title:e.title.trim(),description:s,timeEstimate:d,priority:o,status:f,position:0,scheduledDate:r,startDate:r,dueDate:r,category:l,tags:u,boardId:t,progressPercentage:e.status==="completed"?100:0,timeSpent:0,labels:[],attachments:[],googleCalendarEventId:`task_${e.id}`,googleCalendarSynced:!1}}importTasks(e="@default",t,r=!1){return M(this,null,function*(){if(!this.isUserAuthenticated())throw new Error("Not authenticated with Google Tasks");try{console.log("🔄 Fetching tasks from Google Tasks...");const s=yield this.getTasks(e,r,!1);console.log(`📋 Found ${s.length} tasks`);const o=this.filterImportableTasks(s);return console.log(`✅ ${o.length} tasks suitable for import`),o.map(u=>this.googleTaskToTask(u,t))}catch(s){throw console.error("❌ Failed to import tasks from Google Tasks:",s),s}})}filterImportableEvents(e){return e.filter(t=>{var r,s,o,l,u;if(((r=t.source)==null?void 0:r.title)==="DayFlow"||(s=t.description)!=null&&s.includes("📱 Created in DayFlow")||(o=t.start)!=null&&o.date&&!((l=t.start)!=null&&l.dateTime)||!t.summary||t.summary.trim()===""||t.recurringEventId||t.status==="cancelled")return!1;if(t.attendees){const d=(u=t.organizer)==null?void 0:u.email,f=t.attendees.find(g=>g.email===d);if(f&&f.responseStatus==="declined")return!1}return!0})}eventToTask(e,t){var S,T,E,P;const r=((S=e.start)==null?void 0:S.dateTime)||((T=e.start)==null?void 0:T.date),s=((E=e.end)==null?void 0:E.dateTime)||((P=e.end)==null?void 0:P.date);let o=60;if(r&&s){const I=new Date(r),A=new Date(s);o=Math.max(15,Math.round((A.getTime()-I.getTime())/(1e3*60)))}let l=e.description||"",u=2,d="",f=[];if(l.includes("🔥 Priority:")){const I=l.match(/🔥 Priority: (Low|Medium|High|Critical)/);I&&(u={Low:1,Medium:2,High:3,Critical:4}[I[1]]||2)}if(l.includes("🏷️ Category:")){const I=l.match(/🏷️ Category: ([^\n]+)/);I&&(d=I[1].trim())}if(l.includes("🏷️ Tags:")){const I=l.match(/🏷️ Tags: ([^\n]+)/);I&&(f=I[1].split(",").map(A=>A.trim()).filter(Boolean))}l=l.replace(/📋 Board: [^\n]+\n?/g,"").replace(/⏱️ Time Estimate: [^\n]+\n?/g,"").replace(/🔥 Priority: [^\n]+\n?/g,"").replace(/🏷️ Category: [^\n]+\n?/g,"").replace(/📊 Status: [^\n]+\n?/g,"").replace(/🏷️ Tags: [^\n]+\n?/g,"").replace(/📈 Progress: [^\n]+\n?/g,"").replace(/⏰ Time Spent: [^\n]+\n?/g,"").replace(/📱 Created in DayFlow\n?/g,"").replace(/📝 /g,"").trim();const g=new Date,y=new Date(r),x=new Date(g.getFullYear(),g.getMonth(),g.getDate()),w=new Date(y.getFullYear(),y.getMonth(),y.getDate());let C="backlog";return w.getTime()===x.getTime()?C="today":w>x?Math.ceil((w.getTime()-x.getTime())/864e5)<=7&&(C="this-week"):C="done",{title:e.summary.trim(),description:l,timeEstimate:o,priority:u,status:C,position:0,scheduledDate:r?new Date(r).toISOString():void 0,startDate:r?new Date(r).toISOString():void 0,dueDate:s?new Date(s).toISOString():void 0,category:d,tags:f,boardId:t,progressPercentage:C==="done"?100:0,timeSpent:0,labels:[],attachments:[],googleCalendarEventId:e.id,googleCalendarSynced:!0}}importEvents(e="primary",t,r,s,o=!0,l="@default",u=!1){return M(this,null,function*(){if(!this.isUserAuthenticated())throw new Error("Not authenticated with Google Calendar");try{console.log("🔄 Fetching events and tasks from Google...");const d=[];console.log("📅 Fetching events from Google Calendar...");const f=yield this.getEvents(e,r,s);console.log(`📅 Found ${f.length} events`);const g=this.filterImportableEvents(f);console.log(`✅ ${g.length} events suitable for import`);const y=g.map(x=>this.eventToTask(x,t));if(d.push(...y),o)try{console.log("📋 Fetching tasks from Google Tasks...");const x=yield this.importTasks(l,t,u);console.log(`✅ ${x.length} Google Tasks suitable for import`),d.push(...x)}catch(x){console.warn("⚠️ Failed to import Google Tasks (continuing with Calendar events only):",x)}return console.log(`🎉 Total: ${d.length} items ready for import (${y.length} events, ${d.length-y.length} tasks)`),d}catch(d){throw console.error("❌ Failed to import from Google:",d),d}})}}let my=null;function nE(n){return my=new zY(n),my}function Zn(){return my}function rE({task:n,children:e,onEdit:t,onDuplicate:r,onDelete:s,onUpdateTask:o,onMoveTask:l,onUpdateTimeEstimate:u,onToggleComplete:d,userPreferences:f,onManualSyncTask:g,onManualUnsyncTask:y}){const[x,w]=k.useState(!1),C=Zn(),S=(C==null?void 0:C.isUserAuthenticated())||!1,T=BY(n,{onEdit:t,onDuplicate:r,onDelete:s,onUpdateTask:o,onMoveTask:l,onUpdateTimeEstimate:u,onToggleComplete:d},f),E=()=>M(null,null,function*(){if(g)try{yield g(n)}catch(I){console.error("Failed to sync task to Google Calendar:",I)}}),P=()=>M(null,null,function*(){if(y)try{yield y(n)}catch(I){console.error("Failed to unsync task from Google Calendar:",I)}});return a.jsxs(a.Fragment,{children:[a.jsxs(Jc,{children:[a.jsx(Zc,{asChild:!0,children:e}),a.jsxs(Qc,{className:"w-64",children:[a.jsxs(Ne,{onClick:T.handleEdit,children:[a.jsx(as,{className:"mr-2 h-4 w-4"}),"Edit Task"]}),a.jsxs(Ne,{onClick:T.handleDuplicate,children:[a.jsx(Vc,{className:"mr-2 h-4 w-4"}),"Duplicate Task"]}),a.jsx(un,{}),a.jsxs(Ne,{onClick:T.handleToggleComplete,children:[a.jsx($s,{className:"mr-2 h-4 w-4"}),n.status==="done"?"Mark as Incomplete":"Mark as Complete"]}),a.jsx(un,{}),a.jsxs(ls,{children:[a.jsxs(cs,{children:[a.jsx(sh,{className:"mr-2 h-4 w-4"}),"Priority"]}),a.jsxs(us,{children:[a.jsx(Ne,{onClick:()=>T.handleQuickPriority(4),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),"Critical (4)"]})}),a.jsx(Ne,{onClick:()=>T.handleQuickPriority(3),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),"High (3)"]})}),a.jsx(Ne,{onClick:()=>T.handleQuickPriority(2),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),"Medium (2)"]})}),a.jsx(Ne,{onClick:()=>T.handleQuickPriority(1),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"Low (1)"]})})]})]},"priority-submenu"),a.jsxs(ls,{children:[a.jsxs(cs,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4"}),"Time Estimate"]}),a.jsxs(us,{children:[a.jsx(Ne,{onClick:()=>T.handleQuickTime(15),children:"15 minutes"}),a.jsx(Ne,{onClick:()=>T.handleQuickTime(30),children:"30 minutes"}),a.jsx(Ne,{onClick:()=>T.handleQuickTime(60),children:"1 hour"}),a.jsx(Ne,{onClick:()=>T.handleQuickTime(120),children:"2 hours"}),a.jsx(Ne,{onClick:()=>T.handleQuickTime(240),children:"4 hours"}),a.jsx(un,{}),a.jsx(Ne,{onClick:()=>T.handleQuickTime(0),children:"Clear"})]})]},"time-estimate-submenu"),a.jsxs(ls,{children:[a.jsxs(cs,{children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Schedule"]}),a.jsxs(us,{children:[a.jsxs(Ne,{onSelect:I=>{I.preventDefault(),I.stopPropagation(),w(!0)},children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Pick a date..."]}),a.jsx(un,{}),a.jsxs(Ne,{onClick:T.handleScheduleToday,children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Today (9 AM)"]}),a.jsxs(Ne,{onClick:T.handleScheduleTomorrow,children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Tomorrow (9 AM)"]}),a.jsxs(Ne,{onClick:T.handleScheduleThisWeekend,children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"This Weekend (10 AM)"]}),a.jsx(un,{}),a.jsxs(Ne,{onClick:T.handleClearSchedule,children:[a.jsx(ms,{className:"mr-2 h-4 w-4"}),"Clear Schedule"]})]})]},"schedule-submenu"),o&&a.jsxs(ls,{children:[a.jsxs(cs,{children:[a.jsx(Ki,{className:"mr-2 h-4 w-4"}),"Recurring"]}),a.jsxs(us,{children:[a.jsx(Ne,{onClick:()=>T.handleSetRecurringPattern("daily"),children:"Daily"}),a.jsx(Ne,{onClick:()=>T.handleSetRecurringPattern("weekly"),children:"Weekly"}),a.jsx(Ne,{onClick:()=>T.handleSetRecurringPattern("monthly"),children:"Monthly"}),a.jsx(Ne,{onClick:()=>T.handleSetRecurringPattern("yearly"),children:"Yearly"}),a.jsx(un,{}),a.jsx(Ne,{onClick:T.handleClearRecurring,children:"Clear Recurring"})]})]},"recurring-submenu"),S&&a.jsxs(ls,{children:[a.jsxs(cs,{children:[a.jsx(na,{className:"mr-2 h-4 w-4"}),"Google Calendar"]}),a.jsxs(us,{children:[n.googleCalendarSynced?a.jsxs(a.Fragment,{children:[a.jsxs(Ne,{disabled:!0,children:[a.jsx($s,{className:"mr-2 h-4 w-4"}),"Synced to Calendar"]}),a.jsx(un,{}),a.jsxs(Ne,{onClick:P,children:[a.jsx(ZD,{className:"mr-2 h-4 w-4"}),"Remove from Calendar"]})]}):a.jsxs(Ne,{onClick:E,disabled:!n.scheduledDate&&!n.startDate,children:[a.jsx(na,{className:"mr-2 h-4 w-4"}),"Sync to Calendar"]}),!n.scheduledDate&&!n.startDate&&a.jsxs(a.Fragment,{children:[a.jsx(un,{}),a.jsx("div",{className:"px-2 py-1 text-xs text-muted-foreground",children:"Schedule task first to sync"})]})]})]},"google-calendar-submenu"),a.jsx(un,{}),l&&a.jsxs(ls,{children:[a.jsxs(cs,{children:[a.jsx(Wk,{className:"mr-2 h-4 w-4"}),"Move to..."]}),a.jsxs(us,{children:[n.status!=="backlog"&&a.jsxs(Ne,{onClick:()=>T.handleMoveToStatus("backlog"),children:[a.jsx(hl,{className:"mr-2 h-4 w-4"}),"Backlog"]}),n.status!=="this-week"&&a.jsxs(Ne,{onClick:()=>T.handleMoveToStatus("this-week"),children:[a.jsx(Df,{className:"mr-2 h-4 w-4"}),"This Week"]}),n.status!=="today"&&a.jsxs(Ne,{onClick:()=>T.handleMoveToStatus("today"),children:[a.jsx(Df,{className:"mr-2 h-4 w-4"}),"Today"]}),n.status!=="done"&&a.jsxs(Ne,{onClick:()=>T.handleMoveToStatus("done"),children:[a.jsx($s,{className:"mr-2 h-4 w-4"}),"Done"]})]})]},"move-to-submenu"),a.jsx(un,{}),a.jsxs(Ne,{onClick:T.handleDelete,className:"text-destructive",children:[a.jsx(ui,{className:"mr-2 h-4 w-4"}),"Delete Task"]})]})]}),a.jsx(Us,{open:x,onOpenChange:w,children:a.jsxs(Vs,{className:"max-w-md",children:[a.jsxs(pi,{children:[a.jsx(_o,{children:"Schedule Task"}),a.jsxs(ko,{children:['Set date and time for "',n.title,'"']})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Date"}),a.jsx("div",{className:"border rounded-md p-3 bg-background",children:a.jsx(Sv,{mode:"single",selected:n.scheduledDate?new Date(n.scheduledDate):void 0,onSelect:I=>{if(I&&o){const A=n.scheduledDate?new Date(n.scheduledDate):new Date,D=new Date(I);D.setHours(A.getHours()||9,A.getMinutes()||0,0,0),o(n.id,{scheduledDate:D.toISOString()})}},className:"w-full"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Time"}),a.jsx(xt,{type:"time",value:n.scheduledDate?(()=>{const I=new Date(n.scheduledDate);return`${I.getHours().toString().padStart(2,"0")}:${I.getMinutes().toString().padStart(2,"0")}`})():"09:00",onChange:I=>{if(I.target.value&&o){const[A,D]=I.target.value.split(":").map(Number),O=n.scheduledDate?new Date(n.scheduledDate):new Date;O.setHours(A,D,0,0),o(n.id,{scheduledDate:O.toISOString()})}},className:"bg-background"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Quick Times"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{label:"9:00 AM",hour:9,minute:0},{label:"12:00 PM",hour:12,minute:0},{label:"2:00 PM",hour:14,minute:0},{label:"5:00 PM",hour:17,minute:0},{label:"7:00 PM",hour:19,minute:0},{label:"9:00 PM",hour:21,minute:0}].map(I=>a.jsx(de,{variant:"outline",size:"sm",onClick:()=>{const A=n.scheduledDate?new Date(n.scheduledDate):new Date;A.setHours(I.hour,I.minute,0,0),o&&o(n.id,{scheduledDate:A.toISOString()})},className:"text-xs",children:I.label},I.label))})]})]}),a.jsxs(Xi,{children:[a.jsx(de,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),a.jsx(de,{onClick:()=>{if(n.scheduledDate&&o&&l){const I=new Date(n.scheduledDate),A=new Date;A.setHours(0,0,0,0);const D=new Date(I);D.setHours(0,0,0,0);let O="backlog";D.getTime()===A.getTime()?O="today":D>A&&D<=new Date(A.getTime()+7*24*60*60*1e3)&&(O="this-week"),o(n.id,{scheduledDate:I.toISOString(),status:O})}w(!1)},disabled:!n.scheduledDate,children:"Schedule Task"})]})]})})]})}function Mk({task:n,boardInfo:e,userPreferences:t,showBoardInfo:r=!0,showTitle:s=!0,showDescription:o=!0,showDates:l=!0,showRecurring:u=!0,className:d}){const{formatDate:f}=ha(t),g=w=>{switch(w){case 1:return{color:"#0ea5e9",bgColor:"#e0f2fe",darkBgColor:"#0c4a6e"};case 2:return{color:"#eab308",bgColor:"#fefce8",darkBgColor:"#713f12"};case 3:return{color:"#f97316",bgColor:"#fff7ed",darkBgColor:"#9a3412"};case 4:return{color:"#ef4444",bgColor:"#fef2f2",darkBgColor:"#7f1d1d"};default:return{color:"#64748b",bgColor:"#f1f5f9",darkBgColor:"#1e293b"}}},y=w=>{var E,P,I;if(!w.recurring)return null;const{pattern:C,interval:S}=w.recurring;let T="";switch(C){case"daily":T=S===1?"Daily":`Every ${S} days`;break;case"weekly":if(T=S===1?"Weekly":`Every ${S} weeks`,(E=w.recurring.daysOfWeek)!=null&&E.length){const A=w.recurring.daysOfWeek.map(D=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][D]).join(", ");T+=` on ${A}`}break;case"monthly":if(T=S===1?"Monthly":`Every ${S} months`,(P=w.recurring.daysOfMonth)!=null&&P.length){const A=w.recurring.daysOfMonth.map(D=>D+(D===1?"st":D===2?"nd":D===3?"rd":"th")).join(", ");T+=` on the ${A}`}break;case"yearly":if(T=S===1?"Yearly":`Every ${S} years`,(I=w.recurring.monthsOfYear)!=null&&I.length){const A=w.recurring.monthsOfYear.map(D=>["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][D-1]).join(", ");T+=` in ${A}`}break}return w.recurring.endDate&&(T+=` until ${f(w.recurring.endDate)}`),T},x=g(n.priority);return a.jsxs("div",{className:ae("space-y-2",d),children:[r&&e&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:e.color||"#3B82F6"}}),a.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:e.name}),a.jsx("div",{className:"flex items-center justify-center w-4 h-4 rounded-full text-xs font-semibold",style:{backgroundColor:x.bgColor,color:x.color},title:`Priority: ${n.priority} (${n.priority===1?"Low":n.priority===2?"Medium":n.priority===3?"High":"Critical"})`,children:n.priority})]}),s&&a.jsx("h3",{className:ae("font-medium text-sm",n.status==="done"?"line-through text-muted-foreground":""),children:n.title}),o&&n.description&&n.description.trim()!==""&&a.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:n.description}),l&&(n.dueDate||n.startDate||n.scheduledDate)&&a.jsxs("div",{className:"flex flex-wrap gap-1",children:[n.dueDate&&a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-red-50 dark:bg-red-950/20 text-red-700 dark:text-red-300 rounded text-xs",children:[a.jsx(tn,{className:"h-3 w-3"}),a.jsxs("span",{children:["Due: ",f(n.dueDate)]})]}),n.startDate&&a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-blue-50 dark:bg-blue-950/20 text-blue-700 dark:text-blue-300 rounded text-xs",children:[a.jsx(tn,{className:"h-3 w-3"}),a.jsxs("span",{children:["Start: ",f(n.startDate)]})]}),n.scheduledDate&&!n.startDate&&a.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-green-50 dark:bg-green-950/20 text-green-700 dark:text-green-300 rounded text-xs",children:[a.jsx(tn,{className:"h-3 w-3"}),a.jsxs("span",{children:["Scheduled: ",f(n.scheduledDate)]})]})]}),u&&n.recurring&&a.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[a.jsx(Ki,{className:"h-3 w-3"}),a.jsx("span",{children:y(n)})]})]})}function Dk({subtasks:n,onAddSubtask:e,onUpdateSubtask:t,onDeleteSubtask:r,className:s}){const[o,l]=k.useState(!1),[u,d]=k.useState(""),[f,g]=k.useState(null),[y,x]=k.useState(""),w=()=>M(null,null,function*(){if(u.trim())try{yield e(u.trim()),d(""),l(!1)}catch(A){console.error("Failed to add subtask:",A)}}),C=(A,D)=>M(null,null,function*(){try{yield t(A,D)}catch(O){console.error("Failed to update subtask:",O)}}),S=A=>M(null,null,function*(){y.trim()&&(yield C(A,{title:y.trim()}),g(null),x(""))}),T=A=>{g(A.id),x(A.title)},E=()=>{g(null),x("")},P=n.filter(A=>A.isCompleted).length,I=n.length;return a.jsxs("div",{className:ae("space-y-3",s),children:[I>0&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"text-sm font-medium text-foreground",children:"Subtasks"}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[P,"/",I," completed"]})]}),I>0&&a.jsx("div",{className:"w-full bg-muted rounded-full h-1.5",children:a.jsx("div",{className:"bg-primary h-1.5 rounded-full transition-all duration-300",style:{width:`${P/I*100}%`}})}),a.jsx("div",{className:"space-y-2",children:n.map(A=>a.jsxs("div",{className:"flex items-center gap-2 group",children:[a.jsx(II,{className:"h-3 w-3 text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity cursor-grab"}),a.jsx(En,{checked:A.isCompleted,onCheckedChange:D=>C(A.id,{isCompleted:!!D}),className:"flex-shrink-0"}),f===A.id?a.jsxs("div",{className:"flex-1 flex items-center gap-2",children:[a.jsx(xt,{value:y,onChange:D=>x(D.target.value),onKeyDown:D=>{D.key==="Enter"&&S(A.id),D.key==="Escape"&&E()},className:"flex-1 h-7 text-sm",autoFocus:!0}),a.jsx(de,{size:"sm",variant:"ghost",onClick:()=>S(A.id),className:"h-7 w-7 p-0",children:"✓"}),a.jsx(de,{size:"sm",variant:"ghost",onClick:E,className:"h-7 w-7 p-0",children:a.jsx(ms,{className:"h-3 w-3"})})]}):a.jsxs("div",{className:"flex-1 flex items-center justify-between group/item",children:[a.jsx("span",{className:ae("text-sm cursor-pointer flex-1",A.isCompleted&&"line-through text-muted-foreground"),onClick:()=>T(A),children:A.title}),a.jsx(de,{size:"sm",variant:"ghost",onClick:()=>r(A.id),className:"h-6 w-6 p-0 opacity-0 group-hover/item:opacity-100 transition-opacity",children:a.jsx(ms,{className:"h-3 w-3"})})]})]},A.id))}),o?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3"})," ",a.jsx(En,{disabled:!0,className:"flex-shrink-0"}),a.jsx(xt,{value:u,onChange:A=>d(A.target.value),onKeyDown:A=>{A.key==="Enter"&&w(),A.key==="Escape"&&(l(!1),d(""))},placeholder:"Add subtask...",className:"flex-1 h-7 text-sm",autoFocus:!0}),a.jsx(de,{size:"sm",variant:"ghost",onClick:w,className:"h-7 w-7 p-0",children:"✓"}),a.jsx(de,{size:"sm",variant:"ghost",onClick:()=>{l(!1),d("")},className:"h-7 w-7 p-0",children:a.jsx(ms,{className:"h-3 w-3"})})]}):a.jsxs(de,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"w-full justify-start gap-2 text-muted-foreground hover:text-foreground h-8",children:[a.jsx(go,{className:"h-3 w-3"}),"Add subtask"]})]})}function sE({taskId:n,className:e}){const{addSubtask:t,updateSubtask:r,deleteSubtask:s,getSubtasks:o}=iv(),[l,u]=k.useState([]),[d,f]=k.useState(!0),g=k.useCallback(()=>M(null,null,function*(){try{f(!0);const C=yield o(n);u(C)}catch(C){console.error("Failed to load subtasks:",C)}finally{f(!1)}}),[n,o]);k.useEffect(()=>{g()},[g]);const y=k.useCallback(C=>M(null,null,function*(){try{const S=yield t(n,C);u(T=>[...T,S])}catch(S){throw console.error("Failed to add subtask:",S),S}}),[n,t]),x=k.useCallback((C,S)=>M(null,null,function*(){try{u(T=>T.map(E=>E.id===C?b(b({},E),S):E)),yield r(C,S)}catch(T){throw console.error("Failed to update subtask:",T),yield g(),T}}),[r,g]),w=k.useCallback(C=>M(null,null,function*(){try{u(S=>S.filter(T=>T.id!==C)),yield s(C)}catch(S){throw console.error("Failed to delete subtask:",S),yield g(),S}}),[s,g]);return d?a.jsx("div",{className:"text-xs text-muted-foreground",children:"Loading subtasks..."}):l.length===0?a.jsx(Dk,{subtasks:l,onAddSubtask:y,onUpdateSubtask:x,onDeleteSubtask:w,className:e}):a.jsx(Dk,{subtasks:l,onAddSubtask:y,onUpdateSubtask:x,onDeleteSubtask:w,className:e})}function Ik({task:n,onMove:e,onEdit:t,onUpdateTimeEstimate:r,onDuplicate:s,onDelete:o,isDone:l=!1,boardInfo:u=null,userPreferences:d,onUpdateTask:f}){const[g,y]=k.useState(!1),[x,w]=k.useState(n.timeEstimate.toString()),[C,S]=k.useState(!1),T=n.status!=="backlog",E=n.status!=="done",P=X=>{switch(X){case"backlog":return"this-week";case"this-week":return"today";case"today":return"done";default:return"done"}},I=X=>{switch(X){case"done":return"today";case"today":return"this-week";case"this-week":return"backlog";default:return"backlog"}},A=X=>{X.stopPropagation(),t==null||t(n)},D=X=>{X.stopPropagation(),n.status==="done"?e(n.id,"today"):e(n.id,"done")},O=X=>{X.stopPropagation(),y(!0)},L=()=>{const X=parseInt(x)||0;r==null||r(n.id,X),y(!1)},V=X=>{X.key==="Enter"?L():X.key==="Escape"&&(w(n.timeEstimate.toString()),y(!1))},B=(X,se)=>M(null,null,function*(){e(X,se)}),ee=X=>{n.status==="done"?e(X,"today"):e(X,"done")};return a.jsx(rE,{task:n,onEdit:t||(()=>{}),onDuplicate:s,onDelete:o,onUpdateTask:f,onMoveTask:B,onUpdateTimeEstimate:r,onToggleComplete:ee,boardInfo:u,userPreferences:d,children:a.jsx("div",{className:"transition-all duration-200 group",onClick:()=>t==null?void 0:t(n),draggable:!l,onDragStart:X=>{l||(X.dataTransfer.setData("text/plain",n.id.toString()),X.dataTransfer.effectAllowed="move",S(!0))},onDragEnd:()=>S(!1),children:a.jsx("div",{className:ae("bg-background border border-border rounded-xl shadow-sm hover:shadow-lg transition-all duration-300",l?"cursor-pointer":"cursor-grab active:cursor-grabbing","hover:border-border/80 hover:-translate-y-0.5",l&&"opacity-70 saturate-50",C&&"opacity-50 scale-95 rotate-2 cursor-grabbing"),children:a.jsxs("div",{className:"relative p-3",children:[u&&a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(Mk,{task:n,boardInfo:u,userPreferences:d,showBoardInfo:!0,showTitle:!1,showDescription:!1,showDates:!1,showRecurring:!1,className:"flex-1"}),a.jsxs("div",{className:"flex gap-1 ml-auto opacity-0 group-hover:opacity-100 transition-all duration-300",children:[T&&a.jsx(de,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-muted-foreground hover:text-foreground",onClick:X=>{X.stopPropagation(),e(n.id,I(n.status))},title:"Move left",children:a.jsx(Ty,{className:"h-3 w-3"})}),E&&a.jsx(de,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-muted-foreground hover:text-foreground",onClick:X=>{X.stopPropagation(),e(n.id,P(n.status))},title:"Move right",children:a.jsx(pu,{className:"h-3 w-3"})})]})]}),a.jsx("div",{className:"mb-3",children:a.jsx(Mk,{task:n,boardInfo:null,userPreferences:d,showBoardInfo:!1,showTitle:!0,showDescription:!0,showDates:!0,showRecurring:!0})}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:g?a.jsx("input",{placeholder:"--",type:"number",value:x,onChange:X=>w(X.target.value),onBlur:L,onKeyDown:V,className:"text-xs text-muted-foreground bg-transparent border-none outline-none w-12 p-0 focus:text-foreground",autoFocus:!0,min:"0"}):a.jsx("button",{onClick:O,className:ae("text-xs text-muted-foreground hover:text-foreground transition-colors duration-200 font-medium",l&&"text-muted-foreground/60"),title:"Click to edit time estimate",children:n.timeEstimate>0?`${n.timeEstimate} min`:"--"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:D,className:ae("shrink-0 w-4 h-4 rounded border-2 flex items-center justify-center transition-all duration-200 cursor-pointer",n.status==="done"?"bg-primary border-primary text-primary-foreground shadow-sm":"border-border hover:border-primary/50 bg-background hover:bg-accent/30"),title:n.status==="done"?"Mark as incomplete":"Mark as complete",children:n.status==="done"&&a.jsx($s,{className:"h-2.5 w-2.5"})}),a.jsx(de,{size:"sm",variant:"ghost",className:"h-6 w-6 p-0 text-muted-foreground hover:text-foreground",onClick:A,title:"Edit task",children:a.jsx(as,{className:"h-3 w-3"})})]})]}),a.jsx(sE,{taskId:n.id}),!C&&!l&&a.jsx("div",{className:"text-xs text-muted-foreground mt-2 pt-2 border-t border-border/30 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:"Drag to move or click to edit"})]})})})})}function mf({title:n,status:e,tasks:t,onMoveTask:r,onEditTask:s,onAddTask:o,onUpdateTimeEstimate:l,onDuplicateTask:u,onDeleteTask:d,onUpdateTask:f,showAddButton:g=!0,showProgress:y=!1,completedCount:x=0,totalTimeEstimate:w=0,onStartSprint:C,isAllTasksBoard:S=!1,boards:T=[],getBoardInfo:E,currentBoard:P,userPreferences:I}){const[A,D]=k.useState(!1),[O,L]=k.useState(""),[V,B]=k.useState(""),[ee,X]=k.useState(null),[se,ce]=k.useState(!1),{formatDate:ke}=ha(I);k.useEffect(()=>{const W=()=>{ce(!1)};return document.addEventListener("dragend",W),()=>{document.removeEventListener("dragend",W)}},[]);const xe=y&&e==="today"?x/(t.length+x)*100||0:y&&t.length>0?x/t.length*100:0,me=W=>{const ne=Math.floor(W/60),G=W%60;return ne>100?"100+ Hr":`${ne.toString().padStart(2,"0")}:${G.toString().padStart(2,"0")}`},pe=W=>{const ne={};return W.forEach(oe=>{if(oe.completedAt){const le=new Date(oe.completedAt).toDateString();ne[le]||(ne[le]=[]),ne[le].push(oe)}else ne.Unknown||(ne.Unknown=[]),ne.Unknown.push(oe)}),Object.entries(ne).sort(([oe],[le])=>oe==="Unknown"?1:le==="Unknown"?-1:new Date(le).getTime()-new Date(oe).getTime())},j=W=>{if(W==="Unknown")return"Unknown Date";const ne=new Date(W),G=new Date,oe=new Date(G);return oe.setDate(oe.getDate()-1),ne.toDateString()===G.toDateString()?"Today":ne.toDateString()===oe.toDateString()?"Yesterday":ke(W)},H=()=>M(null,null,function*(){if(!O.trim()||!o)return;const W=parseInt(V)||0;try{yield o({title:O,description:"",timeEstimate:W,status:e,position:t.length,boardId:S&&ee||void 0,priority:2,progressPercentage:0,timeSpent:0,labels:[],attachments:[]}),L(""),B(""),X(null)}catch(ne){console.error("Failed to add task:",ne)}}),$=W=>M(null,null,function*(){W.preventDefault(),ce(!1);const ne=W.dataTransfer.getData("text/plain");if(ne){const G=parseInt(ne);yield r(G,e)}}),F=W=>{W.preventDefault(),W.dataTransfer.dropEffect="move",ce(!0)},q=W=>{const ne=W.relatedTarget,G=W.currentTarget;(!ne||!G.contains(ne))&&ce(!1)};return a.jsxs("div",{className:ae("flex-none rounded-lg w-80 bg-card border border-border shadow-sm hover:shadow-md transition-all duration-300 flex flex-col backdrop-blur-sm",se&&"border-primary/50 bg-primary/5 shadow-lg"),style:{height:"calc(100vh - 120px)"},onDrop:$,onDragOver:F,onDragLeave:q,children:[a.jsxs("div",{className:"p-4 border-b border-border/50 flex-shrink-0",children:[a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("h3",{className:"font-semibold text-lg text-card-foreground",children:n}),w>0&&a.jsxs("span",{className:"text-sm font-mono text-muted-foreground px-2 py-1 rounded-md ml-2 ",children:[me(w)," Remaining"]}),g&&a.jsx(de,{size:"sm",variant:"ghost",onClick:()=>D(!A),className:"h-8 w-8 p-0 hover:bg-accent/80 rounded-full transition-all duration-200 hover:scale-105",title:"Quick add task",children:a.jsx(go,{className:"h-4 w-4"})})]})," ",a.jsx("div",{className:"flex items-center justify-between",children:y?a.jsxs("div",{className:"space-y-1 flex-1",children:[a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[Math.round(xe),"%"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2.5 overflow-hidden",children:a.jsx("div",{className:"bg-primary h-full rounded-full transition-all duration-500 ease-out",style:{width:`${xe}%`}})})]}):a.jsx("span",{className:"text-sm text-muted-foreground bg-muted/50 px-3 py-1.5 rounded-full inline-block font-medium border border-border/30",children:t.length})})," ",A&&g&&a.jsxs("div",{className:"mt-3 space-y-2",children:[a.jsx(xt,{placeholder:"Task title",value:O,onChange:W=>L(W.target.value),onKeyDown:W=>W.key==="Enter"&&H(),className:"text-sm"}),S&&T.length>0&&a.jsxs(dn,{value:(ee==null?void 0:ee.toString())||"",onValueChange:W=>X(W?parseInt(W):null),children:[a.jsx(nn,{className:"text-sm",children:a.jsx(fn,{placeholder:"Select board (optional)"})}),a.jsx(rn,{children:T.filter(W=>!W.isDefault).map(W=>a.jsx(Ye,{value:W.id.toString(),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:W.color||"#3B82F6"}}),W.name]})},W.id))})]})," ",a.jsxs("div",{className:"flex gap-2",children:[a.jsx(xt,{type:"number",placeholder:"Minutes (optional)",value:V,onChange:W=>B(W.target.value),className:"text-sm flex-1",min:"0",max:"999"}),a.jsx(de,{size:"sm",onClick:H,disabled:!O.trim(),children:"Add"}),a.jsx(de,{size:"sm",variant:"outline",onClick:()=>{D(!1),L(""),B(""),X(null)},children:"Done"})]})]})]})," ",a.jsxs("div",{className:ae("flex-1 overflow-y-auto kanban-scroll-container p-3 space-y-3 transition-all duration-300 scrollbar-thin scrollbar-thumb-muted scrollbar-track-transparent",se&&"bg-primary/5"),children:[e==="done"?a.jsx("div",{className:"space-y-4",children:pe(t).map(([W,ne])=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide",children:j(W)}),a.jsx("div",{className:"flex-1 h-px bg-border/30"}),a.jsx("span",{className:"text-xs text-muted-foreground bg-muted/50 px-2 py-0.5 rounded-full",children:ne.length})]})," ",a.jsxs("div",{className:"space-y-3",children:[" ",ne.map(G=>a.jsx(Ik,{task:G,onMove:r,onEdit:s,onUpdateTimeEstimate:l,onDuplicate:u,onDelete:d,onUpdateTask:f,isDone:G.status==="done",userPreferences:I,boardInfo:(()=>{if(S&&E&&G.boardId){const oe=E(G.boardId);if(oe)return oe}return P})()},G.id))]})]},W))}):a.jsxs("div",{className:"space-y-3",children:[se&&t.length>0&&a.jsx("div",{className:"h-2 bg-primary/20 border-2 border-dashed border-primary/50 rounded-lg mx-1 transition-all duration-200",children:a.jsx("div",{className:"h-full bg-primary/10 rounded"})}),t.map(W=>a.jsx(Ik,{task:W,onMove:r,onEdit:s,onUpdateTimeEstimate:l,onDuplicate:u,onDelete:d,onUpdateTask:f,isDone:W.status==="done",userPreferences:I,boardInfo:(()=>{if(S&&E&&W.boardId){const ne=E(W.boardId);if(ne)return ne}return P})()},W.id))]}),t.length===0&&a.jsxs("div",{className:ae("text-center text-muted-foreground py-8 border-2 border-dashed border-border/30 rounded-xl bg-muted/20 hover:bg-muted/30 transition-colors duration-300",se&&"border-primary/50 bg-primary/10 text-primary"),children:[a.jsx("p",{className:"text-sm font-medium",children:se?"Drop task here":"No tasks"}),a.jsx("p",{className:"text-xs mt-1 opacity-70",children:se?`Move to ${n}`:"Drag tasks here or add new ones"})]})," ",e==="today"&&t.length>0&&C&&xf()&&a.jsx("div",{className:"pt-2 border-t border-border/30 mt-4",children:a.jsx(de,{onClick:C,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground shadow-sm hover:shadow-md transition-all duration-200",size:"sm",children:"Start Sprint"})})]})]})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var oE;function Te(){return oE.apply(null,arguments)}function WY(n){oE=n}function vs(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function ta(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function At(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function bv(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var e;for(e in n)if(At(n,e))return!1;return!0}function vr(n){return n===void 0}function Io(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function Ru(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function iE(n,e){var t=[],r,s=n.length;for(r=0;r<s;++r)t.push(e(n[r],r));return t}function hi(n,e){for(var t in e)At(e,t)&&(n[t]=e[t]);return At(e,"toString")&&(n.toString=e.toString),At(e,"valueOf")&&(n.valueOf=e.valueOf),n}function Ks(n,e,t,r){return ME(n,e,t,r,!0).utc()}function HY(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ut(n){return n._pf==null&&(n._pf=HY()),n._pf}var py;Array.prototype.some?py=Array.prototype.some:py=function(n){var e=Object(this),t=e.length>>>0,r;for(r=0;r<t;r++)if(r in e&&n.call(this,e[r],r,e))return!0;return!1};function Tv(n){var e=null,t=!1,r=n._d&&!isNaN(n._d.getTime());if(r&&(e=ut(n),t=py.call(e.parsedDateParts,function(s){return s!=null}),r=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&t),n._strict&&(r=r&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=r;else return r;return n._isValid}function jh(n){var e=Ks(NaN);return n!=null?hi(ut(e),n):ut(e).userInvalidated=!0,e}var jk=Te.momentProperties=[],cg=!1;function Nv(n,e){var t,r,s,o=jk.length;if(vr(e._isAMomentObject)||(n._isAMomentObject=e._isAMomentObject),vr(e._i)||(n._i=e._i),vr(e._f)||(n._f=e._f),vr(e._l)||(n._l=e._l),vr(e._strict)||(n._strict=e._strict),vr(e._tzm)||(n._tzm=e._tzm),vr(e._isUTC)||(n._isUTC=e._isUTC),vr(e._offset)||(n._offset=e._offset),vr(e._pf)||(n._pf=ut(e)),vr(e._locale)||(n._locale=e._locale),o>0)for(t=0;t<o;t++)r=jk[t],s=e[r],vr(s)||(n[r]=s);return n}function Ou(n){Nv(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),cg===!1&&(cg=!0,Te.updateOffset(this),cg=!1)}function xs(n){return n instanceof Ou||n!=null&&n._isAMomentObject!=null}function aE(n){Te.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+n)}function Yr(n,e){var t=!0;return hi(function(){if(Te.deprecationHandler!=null&&Te.deprecationHandler(null,n),t){var r=[],s,o,l,u=arguments.length;for(o=0;o<u;o++){if(s="",typeof arguments[o]=="object"){s+=`
[`+o+"] ";for(l in arguments[0])At(arguments[0],l)&&(s+=l+": "+arguments[0][l]+", ");s=s.slice(0,-2)}else s=arguments[o];r.push(s)}aE(n+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),t=!1}return e.apply(this,arguments)},e)}var Ak={};function lE(n,e){Te.deprecationHandler!=null&&Te.deprecationHandler(n,e),Ak[n]||(aE(e),Ak[n]=!0)}Te.suppressDeprecationWarnings=!1;Te.deprecationHandler=null;function Js(n){return typeof Function!="undefined"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function GY(n){var e,t;for(t in n)At(n,t)&&(e=n[t],Js(e)?this[t]=e:this["_"+t]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function gy(n,e){var t=hi({},n),r;for(r in e)At(e,r)&&(ta(n[r])&&ta(e[r])?(t[r]={},hi(t[r],n[r]),hi(t[r],e[r])):e[r]!=null?t[r]=e[r]:delete t[r]);for(r in n)At(n,r)&&!At(e,r)&&ta(n[r])&&(t[r]=hi({},t[r]));return t}function Ev(n){n!=null&&this.set(n)}var yy;Object.keys?yy=Object.keys:yy=function(n){var e,t=[];for(e in n)At(n,e)&&t.push(e);return t};var YY={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function qY(n,e,t){var r=this._calendar[n]||this._calendar.sameElse;return Js(r)?r.call(e,t):r}function Gs(n,e,t){var r=""+Math.abs(n),s=e-r.length,o=n>=0;return(o?t?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var Mv=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,pf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ug={},xl={};function Je(n,e,t,r){var s=r;typeof r=="string"&&(s=function(){return this[r]()}),n&&(xl[n]=s),e&&(xl[e[0]]=function(){return Gs(s.apply(this,arguments),e[1],e[2])}),t&&(xl[t]=function(){return this.localeData().ordinal(s.apply(this,arguments),n)})}function KY(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function JY(n){var e=n.match(Mv),t,r;for(t=0,r=e.length;t<r;t++)xl[e[t]]?e[t]=xl[e[t]]:e[t]=KY(e[t]);return function(s){var o="",l;for(l=0;l<r;l++)o+=Js(e[l])?e[l].call(s,n):e[l];return o}}function Tf(n,e){return n.isValid()?(e=cE(e,n.localeData()),ug[e]=ug[e]||JY(e),ug[e](n)):n.localeData().invalidDate()}function cE(n,e){var t=5;function r(s){return e.longDateFormat(s)||s}for(pf.lastIndex=0;t>=0&&pf.test(n);)n=n.replace(pf,r),pf.lastIndex=0,t-=1;return n}var ZY={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function QY(n){var e=this._longDateFormat[n],t=this._longDateFormat[n.toUpperCase()];return e||!t?e:(this._longDateFormat[n]=t.match(Mv).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[n])}var XY="Invalid date";function eq(){return this._invalidDate}var tq="%d",nq=/\d{1,2}/;function rq(n){return this._ordinal.replace("%d",n)}var sq={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function oq(n,e,t,r){var s=this._relativeTime[t];return Js(s)?s(n,e,t,r):s.replace(/%d/i,n)}function iq(n,e){var t=this._relativeTime[n>0?"future":"past"];return Js(t)?t(e):t.replace(/%s/i,e)}var Pk={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function qr(n){return typeof n=="string"?Pk[n]||Pk[n.toLowerCase()]:void 0}function Dv(n){var e={},t,r;for(r in n)At(n,r)&&(t=qr(r),t&&(e[t]=n[r]));return e}var aq={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function lq(n){var e=[],t;for(t in n)At(n,t)&&e.push({unit:t,priority:aq[t]});return e.sort(function(r,s){return r.priority-s.priority}),e}var uE=/\d/,Ar=/\d\d/,dE=/\d{3}/,Iv=/\d{4}/,Ah=/[+-]?\d{6}/,on=/\d\d?/,fE=/\d\d\d\d?/,hE=/\d\d\d\d\d\d?/,Ph=/\d{1,3}/,jv=/\d{1,4}/,Rh=/[+-]?\d{1,6}/,Bl=/\d+/,Oh=/[+-]?\d+/,cq=/Z|[+-]\d\d:?\d\d/gi,Lh=/Z|[+-]\d\d(?::?\d\d)?/gi,uq=/[+-]?\d+(\.\d{1,3})?/,Lu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,zl=/^[1-9]\d?/,Av=/^([1-9]\d|\d)/,Qf;Qf={};function je(n,e,t){Qf[n]=Js(e)?e:function(r,s){return r&&t?t:e}}function dq(n,e){return At(Qf,n)?Qf[n](e._strict,e._locale):new RegExp(fq(n))}function fq(n){return Co(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,r,s,o){return t||r||s||o}))}function Co(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Br(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function _t(n){var e=+n,t=0;return e!==0&&isFinite(e)&&(t=Br(e)),t}var vy={};function Ht(n,e){var t,r=e,s;for(typeof n=="string"&&(n=[n]),Io(e)&&(r=function(o,l){l[e]=_t(o)}),s=n.length,t=0;t<s;t++)vy[n[t]]=r}function Fu(n,e){Ht(n,function(t,r,s,o){s._w=s._w||{},e(t,s._w,s,o)})}function hq(n,e,t){e!=null&&At(vy,n)&&vy[n](e,t._a,t,n)}function Fh(n){return n%4===0&&n%100!==0||n%400===0}var Qn=0,xo=1,Ps=2,An=3,hs=4,wo=5,Qi=6,mq=7,pq=8;Je("Y",0,0,function(){var n=this.year();return n<=9999?Gs(n,4):"+"+n});Je(0,["YY",2],0,function(){return this.year()%100});Je(0,["YYYY",4],0,"year");Je(0,["YYYYY",5],0,"year");Je(0,["YYYYYY",6,!0],0,"year");je("Y",Oh);je("YY",on,Ar);je("YYYY",jv,Iv);je("YYYYY",Rh,Ah);je("YYYYYY",Rh,Ah);Ht(["YYYYY","YYYYYY"],Qn);Ht("YYYY",function(n,e){e[Qn]=n.length===2?Te.parseTwoDigitYear(n):_t(n)});Ht("YY",function(n,e){e[Qn]=Te.parseTwoDigitYear(n)});Ht("Y",function(n,e){e[Qn]=parseInt(n,10)});function eu(n){return Fh(n)?366:365}Te.parseTwoDigitYear=function(n){return _t(n)+(_t(n)>68?1900:2e3)};var mE=Wl("FullYear",!0);function gq(){return Fh(this.year())}function Wl(n,e){return function(t){return t!=null?(pE(this,n,t),Te.updateOffset(this,e),this):uu(this,n)}}function uu(n,e){if(!n.isValid())return NaN;var t=n._d,r=n._isUTC;switch(e){case"Milliseconds":return r?t.getUTCMilliseconds():t.getMilliseconds();case"Seconds":return r?t.getUTCSeconds():t.getSeconds();case"Minutes":return r?t.getUTCMinutes():t.getMinutes();case"Hours":return r?t.getUTCHours():t.getHours();case"Date":return r?t.getUTCDate():t.getDate();case"Day":return r?t.getUTCDay():t.getDay();case"Month":return r?t.getUTCMonth():t.getMonth();case"FullYear":return r?t.getUTCFullYear():t.getFullYear();default:return NaN}}function pE(n,e,t){var r,s,o,l,u;if(!(!n.isValid()||isNaN(t))){switch(r=n._d,s=n._isUTC,e){case"Milliseconds":return void(s?r.setUTCMilliseconds(t):r.setMilliseconds(t));case"Seconds":return void(s?r.setUTCSeconds(t):r.setSeconds(t));case"Minutes":return void(s?r.setUTCMinutes(t):r.setMinutes(t));case"Hours":return void(s?r.setUTCHours(t):r.setHours(t));case"Date":return void(s?r.setUTCDate(t):r.setDate(t));case"FullYear":break;default:return}o=t,l=n.month(),u=n.date(),u=u===29&&l===1&&!Fh(o)?28:u,s?r.setUTCFullYear(o,l,u):r.setFullYear(o,l,u)}}function yq(n){return n=qr(n),Js(this[n])?this[n]():this}function vq(n,e){if(typeof n=="object"){n=Dv(n);var t=lq(n),r,s=t.length;for(r=0;r<s;r++)this[t[r].unit](n[t[r].unit])}else if(n=qr(n),Js(this[n]))return this[n](e);return this}function xq(n,e){return(n%e+e)%e}var Sn;Array.prototype.indexOf?Sn=Array.prototype.indexOf:Sn=function(n){var e;for(e=0;e<this.length;++e)if(this[e]===n)return e;return-1};function Pv(n,e){if(isNaN(n)||isNaN(e))return NaN;var t=xq(e,12);return n+=(e-t)/12,t===1?Fh(n)?29:28:31-t%7%2}Je("M",["MM",2],"Mo",function(){return this.month()+1});Je("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});Je("MMMM",0,0,function(n){return this.localeData().months(this,n)});je("M",on,zl);je("MM",on,Ar);je("MMM",function(n,e){return e.monthsShortRegex(n)});je("MMMM",function(n,e){return e.monthsRegex(n)});Ht(["M","MM"],function(n,e){e[xo]=_t(n)-1});Ht(["MMM","MMMM"],function(n,e,t,r){var s=t._locale.monthsParse(n,r,t._strict);s!=null?e[xo]=s:ut(t).invalidMonth=n});var wq="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),gE="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),yE=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_q=Lu,kq=Lu;function Cq(n,e){return n?vs(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||yE).test(e)?"format":"standalone"][n.month()]:vs(this._months)?this._months:this._months.standalone}function Sq(n,e){return n?vs(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[yE.test(e)?"format":"standalone"][n.month()]:vs(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function bq(n,e,t){var r,s,o,l=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=Ks([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return t?e==="MMM"?(s=Sn.call(this._shortMonthsParse,l),s!==-1?s:null):(s=Sn.call(this._longMonthsParse,l),s!==-1?s:null):e==="MMM"?(s=Sn.call(this._shortMonthsParse,l),s!==-1?s:(s=Sn.call(this._longMonthsParse,l),s!==-1?s:null)):(s=Sn.call(this._longMonthsParse,l),s!==-1?s:(s=Sn.call(this._shortMonthsParse,l),s!==-1?s:null))}function Tq(n,e,t){var r,s,o;if(this._monthsParseExact)return bq.call(this,n,e,t);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=Ks([2e3,r]),t&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),!t&&!this._monthsParse[r]&&(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),t&&e==="MMMM"&&this._longMonthsParse[r].test(n))return r;if(t&&e==="MMM"&&this._shortMonthsParse[r].test(n))return r;if(!t&&this._monthsParse[r].test(n))return r}}function vE(n,e){if(!n.isValid())return n;if(typeof e=="string"){if(/^\d+$/.test(e))e=_t(e);else if(e=n.localeData().monthsParse(e),!Io(e))return n}var t=e,r=n.date();return r=r<29?r:Math.min(r,Pv(n.year(),t)),n._isUTC?n._d.setUTCMonth(t,r):n._d.setMonth(t,r),n}function xE(n){return n!=null?(vE(this,n),Te.updateOffset(this,!0),this):uu(this,"Month")}function Nq(){return Pv(this.year(),this.month())}function Eq(n){return this._monthsParseExact?(At(this,"_monthsRegex")||wE.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(At(this,"_monthsShortRegex")||(this._monthsShortRegex=_q),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function Mq(n){return this._monthsParseExact?(At(this,"_monthsRegex")||wE.call(this),n?this._monthsStrictRegex:this._monthsRegex):(At(this,"_monthsRegex")||(this._monthsRegex=kq),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function wE(){function n(d,f){return f.length-d.length}var e=[],t=[],r=[],s,o,l,u;for(s=0;s<12;s++)o=Ks([2e3,s]),l=Co(this.monthsShort(o,"")),u=Co(this.months(o,"")),e.push(l),t.push(u),r.push(u),r.push(l);e.sort(n),t.sort(n),r.sort(n),this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Dq(n,e,t,r,s,o,l){var u;return n<100&&n>=0?(u=new Date(n+400,e,t,r,s,o,l),isFinite(u.getFullYear())&&u.setFullYear(n)):u=new Date(n,e,t,r,s,o,l),u}function du(n){var e,t;return n<100&&n>=0?(t=Array.prototype.slice.call(arguments),t[0]=n+400,e=new Date(Date.UTC.apply(null,t)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function Xf(n,e,t){var r=7+e-t,s=(7+du(n,0,r).getUTCDay()-e)%7;return-s+r-1}function _E(n,e,t,r,s){var o=(7+t-r)%7,l=Xf(n,r,s),u=1+7*(e-1)+o+l,d,f;return u<=0?(d=n-1,f=eu(d)+u):u>eu(n)?(d=n+1,f=u-eu(n)):(d=n,f=u),{year:d,dayOfYear:f}}function fu(n,e,t){var r=Xf(n.year(),e,t),s=Math.floor((n.dayOfYear()-r-1)/7)+1,o,l;return s<1?(l=n.year()-1,o=s+So(l,e,t)):s>So(n.year(),e,t)?(o=s-So(n.year(),e,t),l=n.year()+1):(l=n.year(),o=s),{week:o,year:l}}function So(n,e,t){var r=Xf(n,e,t),s=Xf(n+1,e,t);return(eu(n)-r+s)/7}Je("w",["ww",2],"wo","week");Je("W",["WW",2],"Wo","isoWeek");je("w",on,zl);je("ww",on,Ar);je("W",on,zl);je("WW",on,Ar);Fu(["w","ww","W","WW"],function(n,e,t,r){e[r.substr(0,1)]=_t(n)});function Iq(n){return fu(n,this._week.dow,this._week.doy).week}var jq={dow:0,doy:6};function Aq(){return this._week.dow}function Pq(){return this._week.doy}function Rq(n){var e=this.localeData().week(this);return n==null?e:this.add((n-e)*7,"d")}function Oq(n){var e=fu(this,1,4).week;return n==null?e:this.add((n-e)*7,"d")}Je("d",0,"do","day");Je("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});Je("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});Je("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});Je("e",0,0,"weekday");Je("E",0,0,"isoWeekday");je("d",on);je("e",on);je("E",on);je("dd",function(n,e){return e.weekdaysMinRegex(n)});je("ddd",function(n,e){return e.weekdaysShortRegex(n)});je("dddd",function(n,e){return e.weekdaysRegex(n)});Fu(["dd","ddd","dddd"],function(n,e,t,r){var s=t._locale.weekdaysParse(n,r,t._strict);s!=null?e.d=s:ut(t).invalidWeekday=n});Fu(["d","e","E"],function(n,e,t,r){e[r]=_t(n)});function Lq(n,e){return typeof n!="string"?n:isNaN(n)?(n=e.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function Fq(n,e){return typeof n=="string"?e.weekdaysParse(n)%7||7:isNaN(n)?null:n}function Rv(n,e){return n.slice(e,7).concat(n.slice(0,e))}var $q="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),kE="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Uq="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Vq=Lu,Bq=Lu,zq=Lu;function Wq(n,e){var t=vs(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return n===!0?Rv(t,this._week.dow):n?t[n.day()]:t}function Hq(n){return n===!0?Rv(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function Gq(n){return n===!0?Rv(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function Yq(n,e,t){var r,s,o,l=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=Ks([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return t?e==="dddd"?(s=Sn.call(this._weekdaysParse,l),s!==-1?s:null):e==="ddd"?(s=Sn.call(this._shortWeekdaysParse,l),s!==-1?s:null):(s=Sn.call(this._minWeekdaysParse,l),s!==-1?s:null):e==="dddd"?(s=Sn.call(this._weekdaysParse,l),s!==-1||(s=Sn.call(this._shortWeekdaysParse,l),s!==-1)?s:(s=Sn.call(this._minWeekdaysParse,l),s!==-1?s:null)):e==="ddd"?(s=Sn.call(this._shortWeekdaysParse,l),s!==-1||(s=Sn.call(this._weekdaysParse,l),s!==-1)?s:(s=Sn.call(this._minWeekdaysParse,l),s!==-1?s:null)):(s=Sn.call(this._minWeekdaysParse,l),s!==-1||(s=Sn.call(this._weekdaysParse,l),s!==-1)?s:(s=Sn.call(this._shortWeekdaysParse,l),s!==-1?s:null))}function qq(n,e,t){var r,s,o;if(this._weekdaysParseExact)return Yq.call(this,n,e,t);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=Ks([2e3,1]).day(r),t&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),t&&e==="dddd"&&this._fullWeekdaysParse[r].test(n))return r;if(t&&e==="ddd"&&this._shortWeekdaysParse[r].test(n))return r;if(t&&e==="dd"&&this._minWeekdaysParse[r].test(n))return r;if(!t&&this._weekdaysParse[r].test(n))return r}}function Kq(n){if(!this.isValid())return n!=null?this:NaN;var e=uu(this,"Day");return n!=null?(n=Lq(n,this.localeData()),this.add(n-e,"d")):e}function Jq(n){if(!this.isValid())return n!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return n==null?e:this.add(n-e,"d")}function Zq(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var e=Fq(n,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Qq(n){return this._weekdaysParseExact?(At(this,"_weekdaysRegex")||Ov.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(At(this,"_weekdaysRegex")||(this._weekdaysRegex=Vq),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function Xq(n){return this._weekdaysParseExact?(At(this,"_weekdaysRegex")||Ov.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(At(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Bq),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function eK(n){return this._weekdaysParseExact?(At(this,"_weekdaysRegex")||Ov.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(At(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=zq),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ov(){function n(g,y){return y.length-g.length}var e=[],t=[],r=[],s=[],o,l,u,d,f;for(o=0;o<7;o++)l=Ks([2e3,1]).day(o),u=Co(this.weekdaysMin(l,"")),d=Co(this.weekdaysShort(l,"")),f=Co(this.weekdays(l,"")),e.push(u),t.push(d),r.push(f),s.push(u),s.push(d),s.push(f);e.sort(n),t.sort(n),r.sort(n),s.sort(n),this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Lv(){return this.hours()%12||12}function tK(){return this.hours()||24}Je("H",["HH",2],0,"hour");Je("h",["hh",2],0,Lv);Je("k",["kk",2],0,tK);Je("hmm",0,0,function(){return""+Lv.apply(this)+Gs(this.minutes(),2)});Je("hmmss",0,0,function(){return""+Lv.apply(this)+Gs(this.minutes(),2)+Gs(this.seconds(),2)});Je("Hmm",0,0,function(){return""+this.hours()+Gs(this.minutes(),2)});Je("Hmmss",0,0,function(){return""+this.hours()+Gs(this.minutes(),2)+Gs(this.seconds(),2)});function CE(n,e){Je(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}CE("a",!0);CE("A",!1);function SE(n,e){return e._meridiemParse}je("a",SE);je("A",SE);je("H",on,Av);je("h",on,zl);je("k",on,zl);je("HH",on,Ar);je("hh",on,Ar);je("kk",on,Ar);je("hmm",fE);je("hmmss",hE);je("Hmm",fE);je("Hmmss",hE);Ht(["H","HH"],An);Ht(["k","kk"],function(n,e,t){var r=_t(n);e[An]=r===24?0:r});Ht(["a","A"],function(n,e,t){t._isPm=t._locale.isPM(n),t._meridiem=n});Ht(["h","hh"],function(n,e,t){e[An]=_t(n),ut(t).bigHour=!0});Ht("hmm",function(n,e,t){var r=n.length-2;e[An]=_t(n.substr(0,r)),e[hs]=_t(n.substr(r)),ut(t).bigHour=!0});Ht("hmmss",function(n,e,t){var r=n.length-4,s=n.length-2;e[An]=_t(n.substr(0,r)),e[hs]=_t(n.substr(r,2)),e[wo]=_t(n.substr(s)),ut(t).bigHour=!0});Ht("Hmm",function(n,e,t){var r=n.length-2;e[An]=_t(n.substr(0,r)),e[hs]=_t(n.substr(r))});Ht("Hmmss",function(n,e,t){var r=n.length-4,s=n.length-2;e[An]=_t(n.substr(0,r)),e[hs]=_t(n.substr(r,2)),e[wo]=_t(n.substr(s))});function nK(n){return(n+"").toLowerCase().charAt(0)==="p"}var rK=/[ap]\.?m?\.?/i,sK=Wl("Hours",!0);function oK(n,e,t){return n>11?t?"pm":"PM":t?"am":"AM"}var bE={calendar:YY,longDateFormat:ZY,invalidDate:XY,ordinal:tq,dayOfMonthOrdinalParse:nq,relativeTime:sq,months:wq,monthsShort:gE,week:jq,weekdays:$q,weekdaysMin:Uq,weekdaysShort:kE,meridiemParse:rK},cn={},jc={},hu;function iK(n,e){var t,r=Math.min(n.length,e.length);for(t=0;t<r;t+=1)if(n[t]!==e[t])return t;return r}function Rk(n){return n&&n.toLowerCase().replace("_","-")}function aK(n){for(var e=0,t,r,s,o;e<n.length;){for(o=Rk(n[e]).split("-"),t=o.length,r=Rk(n[e+1]),r=r?r.split("-"):null;t>0;){if(s=$h(o.slice(0,t).join("-")),s)return s;if(r&&r.length>=t&&iK(o,r)>=t-1)break;t--}e++}return hu}function lK(n){return!!(n&&n.match("^[^/\\\\]*$"))}function $h(n){var e=null,t;if(cn[n]===void 0&&typeof Mf!="undefined"&&Mf&&Mf.exports&&lK(n))try{e=hu._abbr,t=require,t("./locale/"+n),xi(e)}catch(r){cn[n]=null}return cn[n]}function xi(n,e){var t;return n&&(vr(e)?t=Po(n):t=Fv(n,e),t?hu=t:typeof console!="undefined"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),hu._abbr}function Fv(n,e){if(e!==null){var t,r=bE;if(e.abbr=n,cn[n]!=null)lE("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=cn[n]._config;else if(e.parentLocale!=null)if(cn[e.parentLocale]!=null)r=cn[e.parentLocale]._config;else if(t=$h(e.parentLocale),t!=null)r=t._config;else return jc[e.parentLocale]||(jc[e.parentLocale]=[]),jc[e.parentLocale].push({name:n,config:e}),null;return cn[n]=new Ev(gy(r,e)),jc[n]&&jc[n].forEach(function(s){Fv(s.name,s.config)}),xi(n),cn[n]}else return delete cn[n],null}function cK(n,e){if(e!=null){var t,r,s=bE;cn[n]!=null&&cn[n].parentLocale!=null?cn[n].set(gy(cn[n]._config,e)):(r=$h(n),r!=null&&(s=r._config),e=gy(s,e),r==null&&(e.abbr=n),t=new Ev(e),t.parentLocale=cn[n],cn[n]=t),xi(n)}else cn[n]!=null&&(cn[n].parentLocale!=null?(cn[n]=cn[n].parentLocale,n===xi()&&xi(n)):cn[n]!=null&&delete cn[n]);return cn[n]}function Po(n){var e;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return hu;if(!vs(n)){if(e=$h(n),e)return e;n=[n]}return aK(n)}function uK(){return yy(cn)}function $v(n){var e,t=n._a;return t&&ut(n).overflow===-2&&(e=t[xo]<0||t[xo]>11?xo:t[Ps]<1||t[Ps]>Pv(t[Qn],t[xo])?Ps:t[An]<0||t[An]>24||t[An]===24&&(t[hs]!==0||t[wo]!==0||t[Qi]!==0)?An:t[hs]<0||t[hs]>59?hs:t[wo]<0||t[wo]>59?wo:t[Qi]<0||t[Qi]>999?Qi:-1,ut(n)._overflowDayOfYear&&(e<Qn||e>Ps)&&(e=Ps),ut(n)._overflowWeeks&&e===-1&&(e=mq),ut(n)._overflowWeekday&&e===-1&&(e=pq),ut(n).overflow=e),n}var dK=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fK=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,hK=/Z|[+-]\d\d(?::?\d\d)?/,gf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],dg=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mK=/^\/?Date\((-?\d+)/i,pK=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,gK={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function TE(n){var e,t,r=n._i,s=dK.exec(r)||fK.exec(r),o,l,u,d,f=gf.length,g=dg.length;if(s){for(ut(n).iso=!0,e=0,t=f;e<t;e++)if(gf[e][1].exec(s[1])){l=gf[e][0],o=gf[e][2]!==!1;break}if(l==null){n._isValid=!1;return}if(s[3]){for(e=0,t=g;e<t;e++)if(dg[e][1].exec(s[3])){u=(s[2]||" ")+dg[e][0];break}if(u==null){n._isValid=!1;return}}if(!o&&u!=null){n._isValid=!1;return}if(s[4])if(hK.exec(s[4]))d="Z";else{n._isValid=!1;return}n._f=l+(u||"")+(d||""),Vv(n)}else n._isValid=!1}function yK(n,e,t,r,s,o){var l=[vK(n),gE.indexOf(e),parseInt(t,10),parseInt(r,10),parseInt(s,10)];return o&&l.push(parseInt(o,10)),l}function vK(n){var e=parseInt(n,10);return e<=49?2e3+e:e<=999?1900+e:e}function xK(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function wK(n,e,t){if(n){var r=kE.indexOf(n),s=new Date(e[0],e[1],e[2]).getDay();if(r!==s)return ut(t).weekdayMismatch=!0,t._isValid=!1,!1}return!0}function _K(n,e,t){if(n)return gK[n];if(e)return 0;var r=parseInt(t,10),s=r%100,o=(r-s)/100;return o*60+s}function NE(n){var e=pK.exec(xK(n._i)),t;if(e){if(t=yK(e[4],e[3],e[2],e[5],e[6],e[7]),!wK(e[1],t,n))return;n._a=t,n._tzm=_K(e[8],e[9],e[10]),n._d=du.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),ut(n).rfc2822=!0}else n._isValid=!1}function kK(n){var e=mK.exec(n._i);if(e!==null){n._d=new Date(+e[1]);return}if(TE(n),n._isValid===!1)delete n._isValid;else return;if(NE(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:Te.createFromInputFallback(n)}Te.createFromInputFallback=Yr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function il(n,e,t){return n!=null?n:e!=null?e:t}function CK(n){var e=new Date(Te.now());return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Uv(n){var e,t,r=[],s,o,l;if(!n._d){for(s=CK(n),n._w&&n._a[Ps]==null&&n._a[xo]==null&&SK(n),n._dayOfYear!=null&&(l=il(n._a[Qn],s[Qn]),(n._dayOfYear>eu(l)||n._dayOfYear===0)&&(ut(n)._overflowDayOfYear=!0),t=du(l,0,n._dayOfYear),n._a[xo]=t.getUTCMonth(),n._a[Ps]=t.getUTCDate()),e=0;e<3&&n._a[e]==null;++e)n._a[e]=r[e]=s[e];for(;e<7;e++)n._a[e]=r[e]=n._a[e]==null?e===2?1:0:n._a[e];n._a[An]===24&&n._a[hs]===0&&n._a[wo]===0&&n._a[Qi]===0&&(n._nextDay=!0,n._a[An]=0),n._d=(n._useUTC?du:Dq).apply(null,r),o=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[An]=24),n._w&&typeof n._w.d!="undefined"&&n._w.d!==o&&(ut(n).weekdayMismatch=!0)}}function SK(n){var e,t,r,s,o,l,u,d,f;e=n._w,e.GG!=null||e.W!=null||e.E!=null?(o=1,l=4,t=il(e.GG,n._a[Qn],fu(sn(),1,4).year),r=il(e.W,1),s=il(e.E,1),(s<1||s>7)&&(d=!0)):(o=n._locale._week.dow,l=n._locale._week.doy,f=fu(sn(),o,l),t=il(e.gg,n._a[Qn],f.year),r=il(e.w,f.week),e.d!=null?(s=e.d,(s<0||s>6)&&(d=!0)):e.e!=null?(s=e.e+o,(e.e<0||e.e>6)&&(d=!0)):s=o),r<1||r>So(t,o,l)?ut(n)._overflowWeeks=!0:d!=null?ut(n)._overflowWeekday=!0:(u=_E(t,r,s,o,l),n._a[Qn]=u.year,n._dayOfYear=u.dayOfYear)}Te.ISO_8601=function(){};Te.RFC_2822=function(){};function Vv(n){if(n._f===Te.ISO_8601){TE(n);return}if(n._f===Te.RFC_2822){NE(n);return}n._a=[],ut(n).empty=!0;var e=""+n._i,t,r,s,o,l,u=e.length,d=0,f,g;for(s=cE(n._f,n._locale).match(Mv)||[],g=s.length,t=0;t<g;t++)o=s[t],r=(e.match(dq(o,n))||[])[0],r&&(l=e.substr(0,e.indexOf(r)),l.length>0&&ut(n).unusedInput.push(l),e=e.slice(e.indexOf(r)+r.length),d+=r.length),xl[o]?(r?ut(n).empty=!1:ut(n).unusedTokens.push(o),hq(o,r,n)):n._strict&&!r&&ut(n).unusedTokens.push(o);ut(n).charsLeftOver=u-d,e.length>0&&ut(n).unusedInput.push(e),n._a[An]<=12&&ut(n).bigHour===!0&&n._a[An]>0&&(ut(n).bigHour=void 0),ut(n).parsedDateParts=n._a.slice(0),ut(n).meridiem=n._meridiem,n._a[An]=bK(n._locale,n._a[An],n._meridiem),f=ut(n).era,f!==null&&(n._a[Qn]=n._locale.erasConvertYear(f,n._a[Qn])),Uv(n),$v(n)}function bK(n,e,t){var r;return t==null?e:n.meridiemHour!=null?n.meridiemHour(e,t):(n.isPM!=null&&(r=n.isPM(t),r&&e<12&&(e+=12),!r&&e===12&&(e=0)),e)}function TK(n){var e,t,r,s,o,l,u=!1,d=n._f.length;if(d===0){ut(n).invalidFormat=!0,n._d=new Date(NaN);return}for(s=0;s<d;s++)o=0,l=!1,e=Nv({},n),n._useUTC!=null&&(e._useUTC=n._useUTC),e._f=n._f[s],Vv(e),Tv(e)&&(l=!0),o+=ut(e).charsLeftOver,o+=ut(e).unusedTokens.length*10,ut(e).score=o,u?o<r&&(r=o,t=e):(r==null||o<r||l)&&(r=o,t=e,l&&(u=!0));hi(n,t||e)}function NK(n){if(!n._d){var e=Dv(n._i),t=e.day===void 0?e.date:e.day;n._a=iE([e.year,e.month,t,e.hour,e.minute,e.second,e.millisecond],function(r){return r&&parseInt(r,10)}),Uv(n)}}function EK(n){var e=new Ou($v(EE(n)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function EE(n){var e=n._i,t=n._f;return n._locale=n._locale||Po(n._l),e===null||t===void 0&&e===""?jh({nullInput:!0}):(typeof e=="string"&&(n._i=e=n._locale.preparse(e)),xs(e)?new Ou($v(e)):(Ru(e)?n._d=e:vs(t)?TK(n):t?Vv(n):MK(n),Tv(n)||(n._d=null),n))}function MK(n){var e=n._i;vr(e)?n._d=new Date(Te.now()):Ru(e)?n._d=new Date(e.valueOf()):typeof e=="string"?kK(n):vs(e)?(n._a=iE(e.slice(0),function(t){return parseInt(t,10)}),Uv(n)):ta(e)?NK(n):Io(e)?n._d=new Date(e):Te.createFromInputFallback(n)}function ME(n,e,t,r,s){var o={};return(e===!0||e===!1)&&(r=e,e=void 0),(t===!0||t===!1)&&(r=t,t=void 0),(ta(n)&&bv(n)||vs(n)&&n.length===0)&&(n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=s,o._l=t,o._i=n,o._f=e,o._strict=r,EK(o)}function sn(n,e,t,r){return ME(n,e,t,r,!1)}var DK=Yr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=sn.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:jh()}),IK=Yr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=sn.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:jh()});function DE(n,e){var t,r;if(e.length===1&&vs(e[0])&&(e=e[0]),!e.length)return sn();for(t=e[0],r=1;r<e.length;++r)(!e[r].isValid()||e[r][n](t))&&(t=e[r]);return t}function jK(){var n=[].slice.call(arguments,0);return DE("isBefore",n)}function AK(){var n=[].slice.call(arguments,0);return DE("isAfter",n)}var PK=function(){return Date.now?Date.now():+new Date},Ac=["year","quarter","month","week","day","hour","minute","second","millisecond"];function RK(n){var e,t=!1,r,s=Ac.length;for(e in n)if(At(n,e)&&!(Sn.call(Ac,e)!==-1&&(n[e]==null||!isNaN(n[e]))))return!1;for(r=0;r<s;++r)if(n[Ac[r]]){if(t)return!1;parseFloat(n[Ac[r]])!==_t(n[Ac[r]])&&(t=!0)}return!0}function OK(){return this._isValid}function LK(){return Cs(NaN)}function Uh(n){var e=Dv(n),t=e.year||0,r=e.quarter||0,s=e.month||0,o=e.week||e.isoWeek||0,l=e.day||0,u=e.hour||0,d=e.minute||0,f=e.second||0,g=e.millisecond||0;this._isValid=RK(e),this._milliseconds=+g+f*1e3+d*6e4+u*1e3*60*60,this._days=+l+o*7,this._months=+s+r*3+t*12,this._data={},this._locale=Po(),this._bubble()}function Nf(n){return n instanceof Uh}function xy(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function FK(n,e,t){var r=Math.min(n.length,e.length),s=Math.abs(n.length-e.length),o=0,l;for(l=0;l<r;l++)_t(n[l])!==_t(e[l])&&o++;return o+s}function IE(n,e){Je(n,0,0,function(){var t=this.utcOffset(),r="+";return t<0&&(t=-t,r="-"),r+Gs(~~(t/60),2)+e+Gs(~~t%60,2)})}IE("Z",":");IE("ZZ","");je("Z",Lh);je("ZZ",Lh);Ht(["Z","ZZ"],function(n,e,t){t._useUTC=!0,t._tzm=Bv(Lh,n)});var $K=/([\+\-]|\d\d)/gi;function Bv(n,e){var t=(e||"").match(n),r,s,o;return t===null?null:(r=t[t.length-1]||[],s=(r+"").match($K)||["-",0,0],o=+(s[1]*60)+_t(s[2]),o===0?0:s[0]==="+"?o:-o)}function zv(n,e){var t,r;return e._isUTC?(t=e.clone(),r=(xs(n)||Ru(n)?n.valueOf():sn(n).valueOf())-t.valueOf(),t._d.setTime(t._d.valueOf()+r),Te.updateOffset(t,!1),t):sn(n).local()}function wy(n){return-Math.round(n._d.getTimezoneOffset())}Te.updateOffset=function(){};function UK(n,e,t){var r=this._offset||0,s;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=Bv(Lh,n),n===null)return this}else Math.abs(n)<16&&!t&&(n=n*60);return!this._isUTC&&e&&(s=wy(this)),this._offset=n,this._isUTC=!0,s!=null&&this.add(s,"m"),r!==n&&(!e||this._changeInProgress?PE(this,Cs(n-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Te.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:wy(this)}function VK(n,e){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,e),this):-this.utcOffset()}function BK(n){return this.utcOffset(0,n)}function zK(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(wy(this),"m")),this}function WK(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=Bv(cq,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function HK(n){return this.isValid()?(n=n?sn(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function GK(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function YK(){if(!vr(this._isDSTShifted))return this._isDSTShifted;var n={},e;return Nv(n,this),n=EE(n),n._a?(e=n._isUTC?Ks(n._a):sn(n._a),this._isDSTShifted=this.isValid()&&FK(n._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function qK(){return this.isValid()?!this._isUTC:!1}function KK(){return this.isValid()?this._isUTC:!1}function jE(){return this.isValid()?this._isUTC&&this._offset===0:!1}var JK=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,ZK=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cs(n,e){var t=n,r=null,s,o,l;return Nf(n)?t={ms:n._milliseconds,d:n._days,M:n._months}:Io(n)||!isNaN(+n)?(t={},e?t[e]=+n:t.milliseconds=+n):(r=JK.exec(n))?(s=r[1]==="-"?-1:1,t={y:0,d:_t(r[Ps])*s,h:_t(r[An])*s,m:_t(r[hs])*s,s:_t(r[wo])*s,ms:_t(xy(r[Qi]*1e3))*s}):(r=ZK.exec(n))?(s=r[1]==="-"?-1:1,t={y:Gi(r[2],s),M:Gi(r[3],s),w:Gi(r[4],s),d:Gi(r[5],s),h:Gi(r[6],s),m:Gi(r[7],s),s:Gi(r[8],s)}):t==null?t={}:typeof t=="object"&&("from"in t||"to"in t)&&(l=QK(sn(t.from),sn(t.to)),t={},t.ms=l.milliseconds,t.M=l.months),o=new Uh(t),Nf(n)&&At(n,"_locale")&&(o._locale=n._locale),Nf(n)&&At(n,"_isValid")&&(o._isValid=n._isValid),o}Cs.fn=Uh.prototype;Cs.invalid=LK;function Gi(n,e){var t=n&&parseFloat(n.replace(",","."));return(isNaN(t)?0:t)*e}function Ok(n,e){var t={};return t.months=e.month()-n.month()+(e.year()-n.year())*12,n.clone().add(t.months,"M").isAfter(e)&&--t.months,t.milliseconds=+e-+n.clone().add(t.months,"M"),t}function QK(n,e){var t;return n.isValid()&&e.isValid()?(e=zv(e,n),n.isBefore(e)?t=Ok(n,e):(t=Ok(e,n),t.milliseconds=-t.milliseconds,t.months=-t.months),t):{milliseconds:0,months:0}}function AE(n,e){return function(t,r){var s,o;return r!==null&&!isNaN(+r)&&(lE(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=t,t=r,r=o),s=Cs(t,r),PE(this,s,n),this}}function PE(n,e,t,r){var s=e._milliseconds,o=xy(e._days),l=xy(e._months);n.isValid()&&(r=r==null?!0:r,l&&vE(n,uu(n,"Month")+l*t),o&&pE(n,"Date",uu(n,"Date")+o*t),s&&n._d.setTime(n._d.valueOf()+s*t),r&&Te.updateOffset(n,o||l))}var XK=AE(1,"add"),eJ=AE(-1,"subtract");function RE(n){return typeof n=="string"||n instanceof String}function tJ(n){return xs(n)||Ru(n)||RE(n)||Io(n)||rJ(n)||nJ(n)||n===null||n===void 0}function nJ(n){var e=ta(n)&&!bv(n),t=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],s,o,l=r.length;for(s=0;s<l;s+=1)o=r[s],t=t||At(n,o);return e&&t}function rJ(n){var e=vs(n),t=!1;return e&&(t=n.filter(function(r){return!Io(r)&&RE(n)}).length===0),e&&t}function sJ(n){var e=ta(n)&&!bv(n),t=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],s,o;for(s=0;s<r.length;s+=1)o=r[s],t=t||At(n,o);return e&&t}function oJ(n,e){var t=n.diff(e,"days",!0);return t<-6?"sameElse":t<-1?"lastWeek":t<0?"lastDay":t<1?"sameDay":t<2?"nextDay":t<7?"nextWeek":"sameElse"}function iJ(n,e){arguments.length===1&&(arguments[0]?tJ(arguments[0])?(n=arguments[0],e=void 0):sJ(arguments[0])&&(e=arguments[0],n=void 0):(n=void 0,e=void 0));var t=n||sn(),r=zv(t,this).startOf("day"),s=Te.calendarFormat(this,r)||"sameElse",o=e&&(Js(e[s])?e[s].call(this,t):e[s]);return this.format(o||this.localeData().calendar(s,this,sn(t)))}function aJ(){return new Ou(this)}function lJ(n,e){var t=xs(n)?n:sn(n);return this.isValid()&&t.isValid()?(e=qr(e)||"millisecond",e==="millisecond"?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf()):!1}function cJ(n,e){var t=xs(n)?n:sn(n);return this.isValid()&&t.isValid()?(e=qr(e)||"millisecond",e==="millisecond"?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf()):!1}function uJ(n,e,t,r){var s=xs(n)?n:sn(n),o=xs(e)?e:sn(e);return this.isValid()&&s.isValid()&&o.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(s,t):!this.isBefore(s,t))&&(r[1]===")"?this.isBefore(o,t):!this.isAfter(o,t))):!1}function dJ(n,e){var t=xs(n)?n:sn(n),r;return this.isValid()&&t.isValid()?(e=qr(e)||"millisecond",e==="millisecond"?this.valueOf()===t.valueOf():(r=t.valueOf(),this.clone().startOf(e).valueOf()<=r&&r<=this.clone().endOf(e).valueOf())):!1}function fJ(n,e){return this.isSame(n,e)||this.isAfter(n,e)}function hJ(n,e){return this.isSame(n,e)||this.isBefore(n,e)}function mJ(n,e,t){var r,s,o;if(!this.isValid())return NaN;if(r=zv(n,this),!r.isValid())return NaN;switch(s=(r.utcOffset()-this.utcOffset())*6e4,e=qr(e),e){case"year":o=Ef(this,r)/12;break;case"month":o=Ef(this,r);break;case"quarter":o=Ef(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-s)/864e5;break;case"week":o=(this-r-s)/6048e5;break;default:o=this-r}return t?o:Br(o)}function Ef(n,e){if(n.date()<e.date())return-Ef(e,n);var t=(e.year()-n.year())*12+(e.month()-n.month()),r=n.clone().add(t,"months"),s,o;return e-r<0?(s=n.clone().add(t-1,"months"),o=(e-r)/(r-s)):(s=n.clone().add(t+1,"months"),o=(e-r)/(s-r)),-(t+o)||0}Te.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Te.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function pJ(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function gJ(n){if(!this.isValid())return null;var e=n!==!0,t=e?this.clone().utc():this;return t.year()<0||t.year()>9999?Tf(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Js(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Tf(t,"Z")):Tf(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function yJ(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",e="",t,r,s,o;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),t="["+n+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s="-MM-DD[T]HH:mm:ss.SSS",o=e+'[")]',this.format(t+r+s+o)}function vJ(n){n||(n=this.isUtc()?Te.defaultFormatUtc:Te.defaultFormat);var e=Tf(this,n);return this.localeData().postformat(e)}function xJ(n,e){return this.isValid()&&(xs(n)&&n.isValid()||sn(n).isValid())?Cs({to:this,from:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function wJ(n){return this.from(sn(),n)}function _J(n,e){return this.isValid()&&(xs(n)&&n.isValid()||sn(n).isValid())?Cs({from:this,to:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function kJ(n){return this.to(sn(),n)}function OE(n){var e;return n===void 0?this._locale._abbr:(e=Po(n),e!=null&&(this._locale=e),this)}var LE=Yr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function FE(){return this._locale}var eh=1e3,wl=60*eh,th=60*wl,$E=(365*400+97)*24*th;function _l(n,e){return(n%e+e)%e}function UE(n,e,t){return n<100&&n>=0?new Date(n+400,e,t)-$E:new Date(n,e,t).valueOf()}function VE(n,e,t){return n<100&&n>=0?Date.UTC(n+400,e,t)-$E:Date.UTC(n,e,t)}function CJ(n){var e,t;if(n=qr(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?VE:UE,n){case"year":e=t(this.year(),0,1);break;case"quarter":e=t(this.year(),this.month()-this.month()%3,1);break;case"month":e=t(this.year(),this.month(),1);break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=t(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=_l(e+(this._isUTC?0:this.utcOffset()*wl),th);break;case"minute":e=this._d.valueOf(),e-=_l(e,wl);break;case"second":e=this._d.valueOf(),e-=_l(e,eh);break}return this._d.setTime(e),Te.updateOffset(this,!0),this}function SJ(n){var e,t;if(n=qr(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(t=this._isUTC?VE:UE,n){case"year":e=t(this.year()+1,0,1)-1;break;case"quarter":e=t(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=t(this.year(),this.month()+1,1)-1;break;case"week":e=t(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=t(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=t(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=th-_l(e+(this._isUTC?0:this.utcOffset()*wl),th)-1;break;case"minute":e=this._d.valueOf(),e+=wl-_l(e,wl)-1;break;case"second":e=this._d.valueOf(),e+=eh-_l(e,eh)-1;break}return this._d.setTime(e),Te.updateOffset(this,!0),this}function bJ(){return this._d.valueOf()-(this._offset||0)*6e4}function TJ(){return Math.floor(this.valueOf()/1e3)}function NJ(){return new Date(this.valueOf())}function EJ(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function MJ(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function DJ(){return this.isValid()?this.toISOString():null}function IJ(){return Tv(this)}function jJ(){return hi({},ut(this))}function AJ(){return ut(this).overflow}function PJ(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Je("N",0,0,"eraAbbr");Je("NN",0,0,"eraAbbr");Je("NNN",0,0,"eraAbbr");Je("NNNN",0,0,"eraName");Je("NNNNN",0,0,"eraNarrow");Je("y",["y",1],"yo","eraYear");Je("y",["yy",2],0,"eraYear");Je("y",["yyy",3],0,"eraYear");Je("y",["yyyy",4],0,"eraYear");je("N",Wv);je("NN",Wv);je("NNN",Wv);je("NNNN",HJ);je("NNNNN",GJ);Ht(["N","NN","NNN","NNNN","NNNNN"],function(n,e,t,r){var s=t._locale.erasParse(n,r,t._strict);s?ut(t).era=s:ut(t).invalidEra=n});je("y",Bl);je("yy",Bl);je("yyy",Bl);je("yyyy",Bl);je("yo",YJ);Ht(["y","yy","yyy","yyyy"],Qn);Ht(["yo"],function(n,e,t,r){var s;t._locale._eraYearOrdinalRegex&&(s=n.match(t._locale._eraYearOrdinalRegex)),t._locale.eraYearOrdinalParse?e[Qn]=t._locale.eraYearOrdinalParse(n,s):e[Qn]=parseInt(n,10)});function RJ(n,e){var t,r,s,o=this._eras||Po("en")._eras;for(t=0,r=o.length;t<r;++t){switch(typeof o[t].since){case"string":s=Te(o[t].since).startOf("day"),o[t].since=s.valueOf();break}switch(typeof o[t].until){case"undefined":o[t].until=1/0;break;case"string":s=Te(o[t].until).startOf("day").valueOf(),o[t].until=s.valueOf();break}}return o}function OJ(n,e,t){var r,s,o=this.eras(),l,u,d;for(n=n.toUpperCase(),r=0,s=o.length;r<s;++r)if(l=o[r].name.toUpperCase(),u=o[r].abbr.toUpperCase(),d=o[r].narrow.toUpperCase(),t)switch(e){case"N":case"NN":case"NNN":if(u===n)return o[r];break;case"NNNN":if(l===n)return o[r];break;case"NNNNN":if(d===n)return o[r];break}else if([l,u,d].indexOf(n)>=0)return o[r]}function LJ(n,e){var t=n.since<=n.until?1:-1;return e===void 0?Te(n.since).year():Te(n.since).year()+(e-n.offset)*t}function FJ(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].name;return""}function $J(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].narrow;return""}function UJ(){var n,e,t,r=this.localeData().eras();for(n=0,e=r.length;n<e;++n)if(t=this.clone().startOf("day").valueOf(),r[n].since<=t&&t<=r[n].until||r[n].until<=t&&t<=r[n].since)return r[n].abbr;return""}function VJ(){var n,e,t,r,s=this.localeData().eras();for(n=0,e=s.length;n<e;++n)if(t=s[n].since<=s[n].until?1:-1,r=this.clone().startOf("day").valueOf(),s[n].since<=r&&r<=s[n].until||s[n].until<=r&&r<=s[n].since)return(this.year()-Te(s[n].since).year())*t+s[n].offset;return this.year()}function BJ(n){return At(this,"_erasNameRegex")||Hv.call(this),n?this._erasNameRegex:this._erasRegex}function zJ(n){return At(this,"_erasAbbrRegex")||Hv.call(this),n?this._erasAbbrRegex:this._erasRegex}function WJ(n){return At(this,"_erasNarrowRegex")||Hv.call(this),n?this._erasNarrowRegex:this._erasRegex}function Wv(n,e){return e.erasAbbrRegex(n)}function HJ(n,e){return e.erasNameRegex(n)}function GJ(n,e){return e.erasNarrowRegex(n)}function YJ(n,e){return e._eraYearOrdinalRegex||Bl}function Hv(){var n=[],e=[],t=[],r=[],s,o,l,u,d,f=this.eras();for(s=0,o=f.length;s<o;++s)l=Co(f[s].name),u=Co(f[s].abbr),d=Co(f[s].narrow),e.push(l),n.push(u),t.push(d),r.push(l),r.push(u),r.push(d);this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+t.join("|")+")","i")}Je(0,["gg",2],0,function(){return this.weekYear()%100});Je(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Vh(n,e){Je(0,[n,n.length],0,e)}Vh("gggg","weekYear");Vh("ggggg","weekYear");Vh("GGGG","isoWeekYear");Vh("GGGGG","isoWeekYear");je("G",Oh);je("g",Oh);je("GG",on,Ar);je("gg",on,Ar);je("GGGG",jv,Iv);je("gggg",jv,Iv);je("GGGGG",Rh,Ah);je("ggggg",Rh,Ah);Fu(["gggg","ggggg","GGGG","GGGGG"],function(n,e,t,r){e[r.substr(0,2)]=_t(n)});Fu(["gg","GG"],function(n,e,t,r){e[r]=Te.parseTwoDigitYear(n)});function qJ(n){return BE.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function KJ(n){return BE.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function JJ(){return So(this.year(),1,4)}function ZJ(){return So(this.isoWeekYear(),1,4)}function QJ(){var n=this.localeData()._week;return So(this.year(),n.dow,n.doy)}function XJ(){var n=this.localeData()._week;return So(this.weekYear(),n.dow,n.doy)}function BE(n,e,t,r,s){var o;return n==null?fu(this,r,s).year:(o=So(n,r,s),e>o&&(e=o),eZ.call(this,n,e,t,r,s))}function eZ(n,e,t,r,s){var o=_E(n,e,t,r,s),l=du(o.year,0,o.dayOfYear);return this.year(l.getUTCFullYear()),this.month(l.getUTCMonth()),this.date(l.getUTCDate()),this}Je("Q",0,"Qo","quarter");je("Q",uE);Ht("Q",function(n,e){e[xo]=(_t(n)-1)*3});function tZ(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}Je("D",["DD",2],"Do","date");je("D",on,zl);je("DD",on,Ar);je("Do",function(n,e){return n?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Ht(["D","DD"],Ps);Ht("Do",function(n,e){e[Ps]=_t(n.match(on)[0])});var zE=Wl("Date",!0);Je("DDD",["DDDD",3],"DDDo","dayOfYear");je("DDD",Ph);je("DDDD",dE);Ht(["DDD","DDDD"],function(n,e,t){t._dayOfYear=_t(n)});function nZ(n){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?e:this.add(n-e,"d")}Je("m",["mm",2],0,"minute");je("m",on,Av);je("mm",on,Ar);Ht(["m","mm"],hs);var rZ=Wl("Minutes",!1);Je("s",["ss",2],0,"second");je("s",on,Av);je("ss",on,Ar);Ht(["s","ss"],wo);var sZ=Wl("Seconds",!1);Je("S",0,0,function(){return~~(this.millisecond()/100)});Je(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Je(0,["SSS",3],0,"millisecond");Je(0,["SSSS",4],0,function(){return this.millisecond()*10});Je(0,["SSSSS",5],0,function(){return this.millisecond()*100});Je(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Je(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Je(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Je(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});je("S",Ph,uE);je("SS",Ph,Ar);je("SSS",Ph,dE);var mi,WE;for(mi="SSSS";mi.length<=9;mi+="S")je(mi,Bl);function oZ(n,e){e[Qi]=_t(("0."+n)*1e3)}for(mi="S";mi.length<=9;mi+="S")Ht(mi,oZ);WE=Wl("Milliseconds",!1);Je("z",0,0,"zoneAbbr");Je("zz",0,0,"zoneName");function iZ(){return this._isUTC?"UTC":""}function aZ(){return this._isUTC?"Coordinated Universal Time":""}var _e=Ou.prototype;_e.add=XK;_e.calendar=iJ;_e.clone=aJ;_e.diff=mJ;_e.endOf=SJ;_e.format=vJ;_e.from=xJ;_e.fromNow=wJ;_e.to=_J;_e.toNow=kJ;_e.get=yq;_e.invalidAt=AJ;_e.isAfter=lJ;_e.isBefore=cJ;_e.isBetween=uJ;_e.isSame=dJ;_e.isSameOrAfter=fJ;_e.isSameOrBefore=hJ;_e.isValid=IJ;_e.lang=LE;_e.locale=OE;_e.localeData=FE;_e.max=IK;_e.min=DK;_e.parsingFlags=jJ;_e.set=vq;_e.startOf=CJ;_e.subtract=eJ;_e.toArray=EJ;_e.toObject=MJ;_e.toDate=NJ;_e.toISOString=gJ;_e.inspect=yJ;typeof Symbol!="undefined"&&Symbol.for!=null&&(_e[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});_e.toJSON=DJ;_e.toString=pJ;_e.unix=TJ;_e.valueOf=bJ;_e.creationData=PJ;_e.eraName=FJ;_e.eraNarrow=$J;_e.eraAbbr=UJ;_e.eraYear=VJ;_e.year=mE;_e.isLeapYear=gq;_e.weekYear=qJ;_e.isoWeekYear=KJ;_e.quarter=_e.quarters=tZ;_e.month=xE;_e.daysInMonth=Nq;_e.week=_e.weeks=Rq;_e.isoWeek=_e.isoWeeks=Oq;_e.weeksInYear=QJ;_e.weeksInWeekYear=XJ;_e.isoWeeksInYear=JJ;_e.isoWeeksInISOWeekYear=ZJ;_e.date=zE;_e.day=_e.days=Kq;_e.weekday=Jq;_e.isoWeekday=Zq;_e.dayOfYear=nZ;_e.hour=_e.hours=sK;_e.minute=_e.minutes=rZ;_e.second=_e.seconds=sZ;_e.millisecond=_e.milliseconds=WE;_e.utcOffset=UK;_e.utc=BK;_e.local=zK;_e.parseZone=WK;_e.hasAlignedHourOffset=HK;_e.isDST=GK;_e.isLocal=qK;_e.isUtcOffset=KK;_e.isUtc=jE;_e.isUTC=jE;_e.zoneAbbr=iZ;_e.zoneName=aZ;_e.dates=Yr("dates accessor is deprecated. Use date instead.",zE);_e.months=Yr("months accessor is deprecated. Use month instead",xE);_e.years=Yr("years accessor is deprecated. Use year instead",mE);_e.zone=Yr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",VK);_e.isDSTShifted=Yr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",YK);function lZ(n){return sn(n*1e3)}function cZ(){return sn.apply(null,arguments).parseZone()}function HE(n){return n}var Pt=Ev.prototype;Pt.calendar=qY;Pt.longDateFormat=QY;Pt.invalidDate=eq;Pt.ordinal=rq;Pt.preparse=HE;Pt.postformat=HE;Pt.relativeTime=oq;Pt.pastFuture=iq;Pt.set=GY;Pt.eras=RJ;Pt.erasParse=OJ;Pt.erasConvertYear=LJ;Pt.erasAbbrRegex=zJ;Pt.erasNameRegex=BJ;Pt.erasNarrowRegex=WJ;Pt.months=Cq;Pt.monthsShort=Sq;Pt.monthsParse=Tq;Pt.monthsRegex=Mq;Pt.monthsShortRegex=Eq;Pt.week=Iq;Pt.firstDayOfYear=Pq;Pt.firstDayOfWeek=Aq;Pt.weekdays=Wq;Pt.weekdaysMin=Gq;Pt.weekdaysShort=Hq;Pt.weekdaysParse=qq;Pt.weekdaysRegex=Qq;Pt.weekdaysShortRegex=Xq;Pt.weekdaysMinRegex=eK;Pt.isPM=nK;Pt.meridiem=oK;function nh(n,e,t,r){var s=Po(),o=Ks().set(r,e);return s[t](o,n)}function GE(n,e,t){if(Io(n)&&(e=n,n=void 0),n=n||"",e!=null)return nh(n,e,t,"month");var r,s=[];for(r=0;r<12;r++)s[r]=nh(n,r,t,"month");return s}function Gv(n,e,t,r){typeof n=="boolean"?(Io(e)&&(t=e,e=void 0),e=e||""):(e=n,t=e,n=!1,Io(e)&&(t=e,e=void 0),e=e||"");var s=Po(),o=n?s._week.dow:0,l,u=[];if(t!=null)return nh(e,(t+o)%7,r,"day");for(l=0;l<7;l++)u[l]=nh(e,(l+o)%7,r,"day");return u}function uZ(n,e){return GE(n,e,"months")}function dZ(n,e){return GE(n,e,"monthsShort")}function fZ(n,e,t){return Gv(n,e,t,"weekdays")}function hZ(n,e,t){return Gv(n,e,t,"weekdaysShort")}function mZ(n,e,t){return Gv(n,e,t,"weekdaysMin")}xi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var e=n%10,t=_t(n%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return n+t}});Te.lang=Yr("moment.lang is deprecated. Use moment.locale instead.",xi);Te.langData=Yr("moment.langData is deprecated. Use moment.localeData instead.",Po);var co=Math.abs;function pZ(){var n=this._data;return this._milliseconds=co(this._milliseconds),this._days=co(this._days),this._months=co(this._months),n.milliseconds=co(n.milliseconds),n.seconds=co(n.seconds),n.minutes=co(n.minutes),n.hours=co(n.hours),n.months=co(n.months),n.years=co(n.years),this}function YE(n,e,t,r){var s=Cs(e,t);return n._milliseconds+=r*s._milliseconds,n._days+=r*s._days,n._months+=r*s._months,n._bubble()}function gZ(n,e){return YE(this,n,e,1)}function yZ(n,e){return YE(this,n,e,-1)}function Lk(n){return n<0?Math.floor(n):Math.ceil(n)}function vZ(){var n=this._milliseconds,e=this._days,t=this._months,r=this._data,s,o,l,u,d;return n>=0&&e>=0&&t>=0||n<=0&&e<=0&&t<=0||(n+=Lk(_y(t)+e)*864e5,e=0,t=0),r.milliseconds=n%1e3,s=Br(n/1e3),r.seconds=s%60,o=Br(s/60),r.minutes=o%60,l=Br(o/60),r.hours=l%24,e+=Br(l/24),d=Br(qE(e)),t+=d,e-=Lk(_y(d)),u=Br(t/12),t%=12,r.days=e,r.months=t,r.years=u,this}function qE(n){return n*4800/146097}function _y(n){return n*146097/4800}function xZ(n){if(!this.isValid())return NaN;var e,t,r=this._milliseconds;if(n=qr(n),n==="month"||n==="quarter"||n==="year")switch(e=this._days+r/864e5,t=this._months+qE(e),n){case"month":return t;case"quarter":return t/3;case"year":return t/12}else switch(e=this._days+Math.round(_y(this._months)),n){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return e*24+r/36e5;case"minute":return e*1440+r/6e4;case"second":return e*86400+r/1e3;case"millisecond":return Math.floor(e*864e5)+r;default:throw new Error("Unknown unit "+n)}}function Ro(n){return function(){return this.as(n)}}var KE=Ro("ms"),wZ=Ro("s"),_Z=Ro("m"),kZ=Ro("h"),CZ=Ro("d"),SZ=Ro("w"),bZ=Ro("M"),TZ=Ro("Q"),NZ=Ro("y"),EZ=KE;function MZ(){return Cs(this)}function DZ(n){return n=qr(n),this.isValid()?this[n+"s"]():NaN}function ma(n){return function(){return this.isValid()?this._data[n]:NaN}}var IZ=ma("milliseconds"),jZ=ma("seconds"),AZ=ma("minutes"),PZ=ma("hours"),RZ=ma("days"),OZ=ma("months"),LZ=ma("years");function FZ(){return Br(this.days()/7)}var ho=Math.round,fl={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function $Z(n,e,t,r,s){return s.relativeTime(e||1,!!t,n,r)}function UZ(n,e,t,r){var s=Cs(n).abs(),o=ho(s.as("s")),l=ho(s.as("m")),u=ho(s.as("h")),d=ho(s.as("d")),f=ho(s.as("M")),g=ho(s.as("w")),y=ho(s.as("y")),x=o<=t.ss&&["s",o]||o<t.s&&["ss",o]||l<=1&&["m"]||l<t.m&&["mm",l]||u<=1&&["h"]||u<t.h&&["hh",u]||d<=1&&["d"]||d<t.d&&["dd",d];return t.w!=null&&(x=x||g<=1&&["w"]||g<t.w&&["ww",g]),x=x||f<=1&&["M"]||f<t.M&&["MM",f]||y<=1&&["y"]||["yy",y],x[2]=e,x[3]=+n>0,x[4]=r,$Z.apply(null,x)}function VZ(n){return n===void 0?ho:typeof n=="function"?(ho=n,!0):!1}function BZ(n,e){return fl[n]===void 0?!1:e===void 0?fl[n]:(fl[n]=e,n==="s"&&(fl.ss=e-1),!0)}function zZ(n,e){if(!this.isValid())return this.localeData().invalidDate();var t=!1,r=fl,s,o;return typeof n=="object"&&(e=n,n=!1),typeof n=="boolean"&&(t=n),typeof e=="object"&&(r=Object.assign({},fl,e),e.s!=null&&e.ss==null&&(r.ss=e.s-1)),s=this.localeData(),o=UZ(this,!t,r,s),t&&(o=s.pastFuture(+this,o)),s.postformat(o)}var fg=Math.abs;function rl(n){return(n>0)-(n<0)||+n}function Bh(){if(!this.isValid())return this.localeData().invalidDate();var n=fg(this._milliseconds)/1e3,e=fg(this._days),t=fg(this._months),r,s,o,l,u=this.asSeconds(),d,f,g,y;return u?(r=Br(n/60),s=Br(r/60),n%=60,r%=60,o=Br(t/12),t%=12,l=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=u<0?"-":"",f=rl(this._months)!==rl(u)?"-":"",g=rl(this._days)!==rl(u)?"-":"",y=rl(this._milliseconds)!==rl(u)?"-":"",d+"P"+(o?f+o+"Y":"")+(t?f+t+"M":"")+(e?g+e+"D":"")+(s||r||n?"T":"")+(s?y+s+"H":"")+(r?y+r+"M":"")+(n?y+l+"S":"")):"P0D"}var Tt=Uh.prototype;Tt.isValid=OK;Tt.abs=pZ;Tt.add=gZ;Tt.subtract=yZ;Tt.as=xZ;Tt.asMilliseconds=KE;Tt.asSeconds=wZ;Tt.asMinutes=_Z;Tt.asHours=kZ;Tt.asDays=CZ;Tt.asWeeks=SZ;Tt.asMonths=bZ;Tt.asQuarters=TZ;Tt.asYears=NZ;Tt.valueOf=EZ;Tt._bubble=vZ;Tt.clone=MZ;Tt.get=DZ;Tt.milliseconds=IZ;Tt.seconds=jZ;Tt.minutes=AZ;Tt.hours=PZ;Tt.days=RZ;Tt.weeks=FZ;Tt.months=OZ;Tt.years=LZ;Tt.humanize=zZ;Tt.toISOString=Bh;Tt.toString=Bh;Tt.toJSON=Bh;Tt.locale=OE;Tt.localeData=FE;Tt.toIsoString=Yr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Bh);Tt.lang=LE;Je("X",0,0,"unix");Je("x",0,0,"valueOf");je("x",Oh);je("X",uq);Ht("X",function(n,e,t){t._d=new Date(parseFloat(n)*1e3)});Ht("x",function(n,e,t){t._d=new Date(_t(n))});//! moment.js
Te.version="2.30.1";WY(sn);Te.fn=_e;Te.min=jK;Te.max=AK;Te.now=PK;Te.utc=Ks;Te.unix=lZ;Te.months=uZ;Te.isDate=Ru;Te.locale=xi;Te.invalid=jh;Te.duration=Cs;Te.isMoment=xs;Te.weekdays=fZ;Te.parseZone=cZ;Te.localeData=Po;Te.isDuration=Nf;Te.monthsShort=dZ;Te.weekdaysMin=mZ;Te.defineLocale=Fv;Te.updateLocale=cK;Te.locales=uK;Te.weekdaysShort=hZ;Te.normalizeUnits=qr;Te.relativeTimeRounding=VZ;Te.relativeTimeThreshold=BZ;Te.calendarFormat=oJ;Te.prototype=_e;Te.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var zh="Switch",[WZ,YQ]=ws(zh),[HZ,GZ]=WZ(zh),JE=k.forwardRef((n,e)=>{const I=n,{__scopeSwitch:t,name:r,checked:s,defaultChecked:o,required:l,disabled:u,value:d="on",onCheckedChange:f,form:g}=I,y=Q(I,["__scopeSwitch","name","checked","defaultChecked","required","disabled","value","onCheckedChange","form"]),[x,w]=k.useState(null),C=Dt(e,A=>w(A)),S=k.useRef(!1),T=x?g||!!x.closest("form"):!0,[E,P]=No({prop:s,defaultProp:o!=null?o:!1,onChange:f,caller:zh});return a.jsxs(HZ,{scope:t,checked:E,disabled:u,children:[a.jsx(lt.button,U(b({type:"button",role:"switch","aria-checked":E,"aria-required":l,"data-state":e2(E),"data-disabled":u?"":void 0,disabled:u,value:d},y),{ref:C,onClick:Ie(n.onClick,A=>{P(D=>!D),T&&(S.current=A.isPropagationStopped(),S.current||A.stopPropagation())})})),T&&a.jsx(XE,{control:x,bubbles:!S.current,name:r,value:d,checked:E,required:l,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});JE.displayName=zh;var ZE="SwitchThumb",QE=k.forwardRef((n,e)=>{const o=n,{__scopeSwitch:t}=o,r=Q(o,["__scopeSwitch"]),s=GZ(ZE,t);return a.jsx(lt.span,U(b({"data-state":e2(s.checked),"data-disabled":s.disabled?"":void 0},r),{ref:e}))});QE.displayName=ZE;var YZ="SwitchBubbleInput",XE=k.forwardRef((l,o)=>{var u=l,{__scopeSwitch:n,control:e,checked:t,bubbles:r=!0}=u,s=Q(u,["__scopeSwitch","control","checked","bubbles"]);const d=k.useRef(null),f=Dt(d,o),g=yv(t),y=Vy(e);return k.useEffect(()=>{const x=d.current;if(!x)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set;if(g!==t&&S){const T=new Event("click",{bubbles:r});S.call(x,t),x.dispatchEvent(T)}},[g,t,r]),a.jsx("input",U(b({type:"checkbox","aria-hidden":!0,defaultChecked:t},s),{tabIndex:-1,ref:f,style:U(b(b({},s.style),y),{position:"absolute",pointerEvents:"none",opacity:0,margin:0})}))});XE.displayName=YZ;function e2(n){return n?"checked":"unchecked"}var qZ=JE,KZ=QE;function ky(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx(qZ,U(b({"data-slot":"switch",className:ae("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",n)},e),{children:a.jsx(KZ,{"data-slot":"switch-thumb",className:ae("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})}))}function Si({task:n,isOpen:e,onClose:t,onSave:r,onCreate:s,onDelete:o,isAllTasksBoard:l=!1,boards:u=[],isCreating:d=!1}){var ee,X,se,ce,ke,xe,me,pe,j,H,$,F,q,W,ne;const[f,g]=k.useState({}),[y,x]=k.useState({}),[w,C]=k.useState(!1),[S,T]=k.useState(!1),E=k.useMemo(()=>{if(!y||Object.keys(y).length===0)return!1;const G=["title","description","timeEstimate","priority","status","category","scheduledDate","recurring"];for(const oe of G)if(oe==="recurring"){const le=f.recurring,Y=y.recurring;if(!le&&!Y)continue;if(!le||!Y||le.pattern!==Y.pattern||le.interval!==Y.interval||JSON.stringify(le.daysOfWeek)!==JSON.stringify(Y.daysOfWeek)||JSON.stringify(le.daysOfMonth)!==JSON.stringify(Y.daysOfMonth)||JSON.stringify(le.monthsOfYear)!==JSON.stringify(Y.monthsOfYear)||le.endDate!==Y.endDate)return!0}else if(f[oe]!==y[oe])return!0;return!1},[f,y]);k.useEffect(()=>{const G=n?{title:n.title,description:n.description||"",timeEstimate:n.timeEstimate,priority:n.priority,status:n.status,scheduledDate:n.scheduledDate,startDate:n.startDate,dueDate:n.dueDate,category:n.category||"",progressPercentage:n.progressPercentage,timeSpent:n.timeSpent,boardId:n.boardId,recurring:n.recurring}:{title:"",description:"",timeEstimate:0,priority:2,status:"backlog",progressPercentage:0,timeSpent:0,category:""};g(G),x(G),T(!!G.recurring)},[n,e,d]),k.useEffect(()=>{if(!e&&d){const G={title:"",description:"",timeEstimate:0,priority:2,status:"backlog",progressPercentage:0,timeSpent:0,category:""};g(G),x(G),T(!1)}},[e,d]),k.useEffect(()=>{const G=oe=>{var le;if(!w){if((oe.ctrlKey||oe.metaKey)&&oe.key==="Enter"&&E)oe.preventDefault(),I();else if(oe.key==="Enter"&&!oe.ctrlKey&&!oe.metaKey&&!oe.shiftKey){const Y=oe.target;Y.tagName!=="TEXTAREA"&&Y.tagName!=="BUTTON"&&!Y.closest('[role="combobox"]')&&!Y.closest('[role="listbox"]')&&((le=f.title)!=null&&le.trim())&&E&&(oe.preventDefault(),I())}}};if(e)return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[e,E,f.title,w]);const P=G=>{var oe;w||G.key==="Enter"&&!G.shiftKey&&((oe=f.title)!=null&&oe.trim())&&(G.preventDefault(),I())},I=()=>M(null,null,function*(){var G,oe,le,Y,he,Me,Be;if(!(!((G=f.title)!=null&&G.trim())||w)){C(!0);try{const $e=b({},f);if(S&&f.recurring){const et=f.scheduledDate?new Date(f.scheduledDate):new Date;if($e.recurring={pattern:((oe=f.recurring)==null?void 0:oe.pattern)||"daily",interval:((le=f.recurring)==null?void 0:le.interval)||1,daysOfWeek:((Y=f.recurring)==null?void 0:Y.daysOfWeek)||[],daysOfMonth:((he=f.recurring)==null?void 0:he.daysOfMonth)||[],monthsOfYear:((Me=f.recurring)==null?void 0:Me.monthsOfYear)||[],endDate:(Be=f.recurring)==null?void 0:Be.endDate},$e.scheduledDate){const Ut=new Date($e.scheduledDate);Ut.setHours(et.getHours(),et.getMinutes(),et.getSeconds()),$e.scheduledDate=Ut.toISOString()}}else $e.recurring=void 0;n&&!d&&r?yield r(n.id,$e):d&&s&&(yield s($e)),x(b({},$e)),t()}catch($e){console.error("Failed to save task:",$e)}finally{C(!1)}}}),A=()=>M(null,null,function*(){if(n){C(!0);try{yield o(n.id),t()}catch(G){console.error("Failed to delete task:",G)}finally{C(!1)}}}),D=(G,oe)=>{g(le=>U(b({},le),{[G]:oe}))},O=()=>M(null,null,function*(){if(!n)return;const G=n.status==="done"?"backlog":"done",oe={status:G,completedAt:G==="done"?new Date().toISOString():void 0,progressPercentage:G==="done"?100:n.progressPercentage};D("status",G),G==="done"&&D("progressPercentage",100),C(!0);try{r&&(yield r(n.id,oe))}catch(le){console.error("Failed to toggle task completion:",le),D("status",n.status),D("progressPercentage",n.progressPercentage)}finally{C(!1)}}),L=G=>{switch(G){case"backlog":return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200";case"this-week":return"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200";case"today":return"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200";case"done":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}},V=G=>{switch(G){case 1:return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200";case 2:return"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200";case 3:return"bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200";case 4:return"bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200";default:return"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200"}},B=({value:G,onChange:oe,min:le=0,max:Y=999,step:he=1,placeholder:Me="0",className:Be="",onKeyDown:$e})=>{const et=()=>{const Vt=Math.min(G+he,Y);oe(Vt)},Ut=()=>{const Vt=Math.max(G-he,le);oe(Vt)},Yt=Vt=>{const gn=parseInt(Vt.target.value)||le,an=Math.min(Math.max(gn,le),Y);oe(an)};return a.jsxs("div",{className:`flex items-center ${Be}`,children:[a.jsx(de,{type:"button",variant:"outline",size:"sm",className:"h-9 w-9 p-0 rounded-r-none border-r-0 shrink-0",onClick:Ut,disabled:G<=le,children:a.jsx(Yk,{className:"h-4 w-4"})}),a.jsx(xt,{type:"number",value:G,onChange:Yt,onKeyDown:$e,placeholder:Me,className:"h-9 rounded-none border-x-0 text-center [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",min:le,max:Y}),a.jsx(de,{type:"button",variant:"outline",size:"sm",className:"h-9 w-9 p-0 rounded-l-none border-l-0 shrink-0",onClick:et,disabled:G>=Y,children:a.jsx(go,{className:"h-4 w-4"})})]})};return a.jsx(Us,{open:e,onOpenChange:t,children:a.jsxs(Vs,{className:"sm:max-w-5xl max-h-[90vh] overflow-hidden p-0 bg-background [&>button]:hidden",children:[a.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border bg-background",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[n&&a.jsx("button",{onClick:O,disabled:w,className:"flex items-center hover:scale-110 transition-transform disabled:opacity-50",children:f.status==="done"?a.jsx(or,{className:"h-5 w-5 text-green-600"}):a.jsx(qD,{className:"h-5 w-5 text-muted-foreground hover:text-green-600 transition-colors"})}),a.jsxs("div",{children:[a.jsx(_o,{className:"text-xl font-semibold text-foreground",children:d?"Create New Task":"Task Details"}),!d&&n&&a.jsxs(ko,{className:"text-sm text-muted-foreground mt-1",children:["Created ",Te(n.createdAt).format("MMM D, YYYY"),n.completedAt&&` • Completed ${Te(n.completedAt).format("MMM D, YYYY")}`]})]})]})," ",a.jsxs("div",{className:"flex gap-2",children:[a.jsx(de,{onClick:I,disabled:w||!((ee=f.title)!=null&&ee.trim()),size:"sm",children:w?"Saving...":d?"Create Task":"Save Changes"}),n&&!d&&a.jsx(de,{variant:"destructive",size:"sm",onClick:A,disabled:w,children:a.jsx(ui,{className:"h-4 w-4"})}),a.jsx(de,{variant:"ghost",size:"sm",onClick:t,children:a.jsx(ms,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex h-[calc(90vh-120px)]",children:[a.jsxs("div",{className:"flex-1 p-8 overflow-y-auto bg-background",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-3",children:"Task Title"}),a.jsx(xt,{value:f.title||"",onChange:G=>D("title",G.target.value),placeholder:"Enter task title...",className:"text-2xl font-semibold border-none shadow-none p-4 h-auto focus-visible:ring-0 bg-transparent text-foreground placeholder:text-muted-foreground",onKeyDown:P})]}),a.jsxs("div",{className:"mb-10",children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-3",children:"Description"}),a.jsx(uh,{value:f.description||"",onChange:G=>D("description",G.target.value),placeholder:"Add a description for this task...",className:"min-h-[140px] border-none shadow-none p-4 resize-none focus-visible:ring-0 bg-transparent text-base text-foreground placeholder:text-muted-foreground",onKeyDown:P})]}),n&&a.jsx("div",{className:"mb-8",children:a.jsx(sE,{taskId:n.id,className:"m-0"})}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-3",children:"Category"}),a.jsx(xt,{value:f.category||"",onChange:G=>D("category",G.target.value),placeholder:"e.g., Work, Personal, Health",className:"bg-muted/50 border-border text-foreground",onKeyDown:P})]}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Recurring Task"}),a.jsx(ky,{checked:S,onCheckedChange:G=>{T(G),G?f.recurring||D("recurring",{pattern:"daily",interval:1,daysOfWeek:[],daysOfMonth:[],monthsOfYear:[],endDate:void 0}):D("recurring",void 0)}})]}),S&&a.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-2",children:"Pattern"}),a.jsxs(dn,{value:((X=f.recurring)==null?void 0:X.pattern)||"daily",onValueChange:G=>D("recurring",U(b({},f.recurring),{pattern:G})),children:[a.jsx(nn,{children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"daily",children:"Daily"}),a.jsx(Ye,{value:"weekly",children:"Weekly"}),a.jsx(Ye,{value:"monthly",children:"Monthly"}),a.jsx(Ye,{value:"yearly",children:"Yearly"})]})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium text-muted-foreground block mb-2",children:["Every X ",((se=f.recurring)==null?void 0:se.pattern)==="daily"?"days":((ce=f.recurring)==null?void 0:ce.pattern)==="weekly"?"weeks":((ke=f.recurring)==null?void 0:ke.pattern)==="monthly"?"months":((xe=f.recurring)==null?void 0:xe.pattern)==="yearly"?"years":"days"]}),a.jsx(B,{value:((me=f.recurring)==null?void 0:me.interval)||1,onChange:G=>D("recurring",U(b({},f.recurring),{interval:G})),onKeyDown:P})]})]}),((pe=f.recurring)==null?void 0:pe.pattern)==="weekly"&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-2",children:"Days of Week"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((G,oe)=>{var le,Y;return a.jsx(de,{variant:(Y=(le=f.recurring)==null?void 0:le.daysOfWeek)!=null&&Y.includes(oe)?"default":"outline",size:"sm",onClick:()=>{var Be;const he=((Be=f.recurring)==null?void 0:Be.daysOfWeek)||[],Me=he.includes(oe)?he.filter($e=>$e!==oe):[...he,oe];D("recurring",U(b({},f.recurring),{daysOfWeek:Me}))},children:G},G)})})]}),((j=f.recurring)==null?void 0:j.pattern)==="monthly"&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-2",children:"Days of Month"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:31},(G,oe)=>oe+1).map(G=>{var oe,le;return a.jsx(de,{variant:(le=(oe=f.recurring)==null?void 0:oe.daysOfMonth)!=null&&le.includes(G)?"default":"outline",size:"sm",onClick:()=>{var Me;const Y=((Me=f.recurring)==null?void 0:Me.daysOfMonth)||[],he=Y.includes(G)?Y.filter(Be=>Be!==G):[...Y,G];D("recurring",U(b({},f.recurring),{daysOfMonth:he}))},children:G},G)})})]}),((H=f.recurring)==null?void 0:H.pattern)==="yearly"&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-2",children:"Months of Year"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"].map((G,oe)=>{var le,Y;return a.jsx(de,{variant:(Y=(le=f.recurring)==null?void 0:le.monthsOfYear)!=null&&Y.includes(oe+1)?"default":"outline",size:"sm",onClick:()=>{var $e;const he=(($e=f.recurring)==null?void 0:$e.monthsOfYear)||[],Me=oe+1,Be=he.includes(Me)?he.filter(et=>et!==Me):[...he,Me];D("recurring",U(b({},f.recurring),{monthsOfYear:Be}))},children:G},G)})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-2",children:"End Date (Optional)"}),a.jsx(xt,{type:"date",value:((F=($=f.recurring)==null?void 0:$.endDate)==null?void 0:F.split("T")[0])||"",onChange:G=>D("recurring",U(b({},f.recurring),{endDate:G.target.value?`${G.target.value}T00:00:00Z`:void 0}))})]})]})]})]}),a.jsx("div",{className:"w-80 border-l border-border bg-muted/30 p-6 overflow-y-auto",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-3",children:"Status"}),a.jsxs(dn,{value:f.status||"backlog",onValueChange:G=>D("status",G),children:[a.jsx(nn,{className:"w-full mb-2",children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"backlog",children:"Backlog"}),a.jsx(Ye,{value:"this-week",children:"This Week"}),a.jsx(Ye,{value:"today",children:"Today"}),a.jsx(Ye,{value:"done",children:"Done"})]})]}),a.jsx(Ot,{className:L(f.status||"backlog"),children:((q=f.status)==null?void 0:q.replace(/-/g," ").toUpperCase())||"BACKLOG"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-3",children:"Priority"}),a.jsxs(dn,{value:((W=f.priority)==null?void 0:W.toString())||"2",onValueChange:G=>D("priority",parseInt(G)),children:[a.jsx(nn,{className:"w-full mb-2",children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"1",children:"1 - Low"}),a.jsx(Ye,{value:"2",children:"2 - Medium"}),a.jsx(Ye,{value:"3",children:"3 - High"}),a.jsx(Ye,{value:"4",children:"4 - Critical"})]})]}),a.jsxs(Ot,{className:V(f.priority||2),children:["Priority ",f.priority||2]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"text-sm font-medium text-muted-foreground block mb-3",children:[a.jsx(wr,{className:"h-4 w-4 inline mr-1"}),"Time Estimate"]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(B,{value:f.timeEstimate||0,onChange:G=>D("timeEstimate",G),min:0,max:1440,step:15,placeholder:"0",className:"flex-1",onKeyDown:P}),a.jsx("span",{className:"self-center text-sm text-muted-foreground",children:"min"})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("label",{className:"text-sm font-medium text-muted-foreground",children:[a.jsx(tn,{className:"h-4 w-4 inline mr-1"}),"Scheduled Date & Time"]}),f.scheduledDate&&a.jsxs(de,{variant:"ghost",size:"sm",onClick:()=>D("scheduledDate",void 0),className:"text-xs text-muted-foreground hover:text-destructive",children:[a.jsx(ms,{className:"h-3 w-3 mr-1"}),"Clear"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Date"}),a.jsx("div",{className:"border rounded-md p-3 bg-background",children:a.jsx(Sv,{mode:"single",selected:f.scheduledDate?new Date(f.scheduledDate):void 0,onSelect:G=>{if(G){const oe=f.scheduledDate?new Date(f.scheduledDate):new Date,le=new Date(G);le.setHours(oe.getHours()||9,oe.getMinutes()||0,0,0),D("scheduledDate",le.toISOString())}else D("scheduledDate",void 0)},className:"w-full"})})]}),f.scheduledDate&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Time"}),a.jsx(xt,{type:"time",value:(()=>{const G=new Date(f.scheduledDate);return`${G.getHours().toString().padStart(2,"0")}:${G.getMinutes().toString().padStart(2,"0")}`})(),onChange:G=>{if(G.target.value&&f.scheduledDate){const[oe,le]=G.target.value.split(":").map(Number),Y=new Date(f.scheduledDate);Y.setHours(oe,le,0,0),D("scheduledDate",Y.toISOString())}},className:"bg-background",onKeyDown:P})]}),f.scheduledDate&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Quick Times"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{label:"9:00 AM",hour:9,minute:0},{label:"12:00 PM",hour:12,minute:0},{label:"2:00 PM",hour:14,minute:0},{label:"5:00 PM",hour:17,minute:0},{label:"7:00 PM",hour:19,minute:0},{label:"9:00 PM",hour:21,minute:0}].map(G=>a.jsx(de,{variant:"outline",size:"sm",onClick:()=>{if(f.scheduledDate){const oe=new Date(f.scheduledDate);oe.setHours(G.hour,G.minute,0,0),D("scheduledDate",oe.toISOString())}},className:"text-xs",children:G.label},G.label))})]})]})]})}),l&&u&&u.length>0&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-muted-foreground block mb-3",children:"Board"}),a.jsxs(dn,{value:((ne=f.boardId)==null?void 0:ne.toString())||"",onValueChange:G=>D("boardId",G?parseInt(G):void 0),children:[a.jsx(nn,{children:a.jsx(fn,{placeholder:"Select board (optional)"})}),a.jsx(rn,{children:u.map(G=>a.jsx(Ye,{value:G.id.toString(),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:G.color||"#3B82F6"}}),G.name]})},G.id))})]})]})]})})]})]})})}function JZ({board:n,tasks:e,onBack:t,onSelectBoard:r,onMoveTask:s,onAddTask:o,onUpdateTask:l,onDeleteTask:u,onDuplicateTask:d,onUpdateTimeEstimate:f,onStartSprint:g,isAllTasksBoard:y=!1,boards:x=[],user:w,onSignOut:C,onViewChange:S,onOpenSettings:T,userPreferences:E}){const[P,I]=k.useState(!1),[A,D]=k.useState(null),[O,L]=k.useState(!1),{filterTasks:V,sortTasks:B}=ha(E),ee=k.useCallback(F=>{const W=(y?e:e.filter(G=>G.boardId===n.id)).filter(G=>G.status===F),ne=V(W);return B(ne)},[e,V,B,y,n.id]),X=k.useCallback(F=>ee(F).reduce((q,W)=>q+(W.timeEstimate||0),0),[ee]),se=k.useCallback(()=>{const F=new Date().toISOString().split("T")[0];return ee("done").filter(q=>q.completedAt&&q.completedAt.startsWith(F)).length},[ee]),ce=F=>{D(F),I(!0)},ke=(F,q)=>M(null,null,function*(){yield l(F,q),I(!1),D(null)}),xe=F=>M(null,null,function*(){yield u(F),I(!1),D(null)}),me=F=>M(null,null,function*(){d&&(yield d(F))}),pe=F=>M(null,null,function*(){const q=y?F:U(b({},F),{boardId:n.id});yield o(q)}),j=()=>{L(!0)},H=F=>M(null,null,function*(){const q={title:F.title||"",description:F.description||"",timeEstimate:F.timeEstimate||0,priority:F.priority||2,status:F.status||"backlog",position:e.filter(W=>W.status===(F.status||"backlog")).length,boardId:y?F.boardId:n.id,progressPercentage:F.progressPercentage||0,timeSpent:F.timeSpent||0,labels:F.labels||[],attachments:F.attachments||[],category:F.category||"",scheduledDate:F.scheduledDate,startDate:F.startDate,dueDate:F.dueDate,recurring:F.recurring};yield o(q),L(!1)}),$=F=>!y||!x?null:x.find(q=>q.id===F)||null;return a.jsxs(ku,{children:[a.jsxs("div",{className:"h-screen bg-background flex w-full",children:[a.jsx(ju,{boards:x,currentBoard:n,currentView:"kanban",tasks:e,userPreferences:E,onSelectBoard:F=>{r?r(F):t()},onSelectBoardView:(F,q)=>{S?S(F,q):r?r(F):t()},onCreateTask:F=>{F.id!==n.id&&r&&r(F),L(!0)},onNavigateToBoards:()=>{t()},onTaskClick:F=>{ce(F)}}),a.jsxs(Cu,{children:[a.jsx(Dh,{title:n.name,subtitle:n.description,board:n,currentView:"kanban",tasks:e,boards:x,userPreferences:E,onViewChange:S,onCreateDetailedTask:j,user:w,onSignOut:C,onOpenSettings:T}),a.jsx("div",{className:"flex-1 flex flex-col min-h-0",children:a.jsx("div",{className:"flex-1 overflow-x-auto overflow-y-hidden kanban-scroll-container",children:a.jsxs("div",{className:"flex justify-center gap-8 p-4 min-w-fit h-full",children:[a.jsx(mf,{title:"Backlog",status:"backlog",tasks:ee("backlog"),onMoveTask:s,onEditTask:ce,onAddTask:pe,onUpdateTimeEstimate:f,onDuplicateTask:d,onDeleteTask:u,onUpdateTask:l,showAddButton:!0,showProgress:!1,totalTimeEstimate:X("backlog"),isAllTasksBoard:y,boards:x,getBoardInfo:$,currentBoard:n,userPreferences:E}),a.jsx(mf,{title:"This Week",status:"this-week",tasks:ee("this-week"),onMoveTask:s,onEditTask:ce,onAddTask:pe,onUpdateTimeEstimate:f,onDuplicateTask:d,onDeleteTask:u,onUpdateTask:l,showAddButton:!0,showProgress:!1,totalTimeEstimate:X("this-week"),isAllTasksBoard:y,boards:x,getBoardInfo:$,currentBoard:n,userPreferences:E}),a.jsx(mf,{title:"Today",status:"today",tasks:ee("today"),onMoveTask:s,onEditTask:ce,onAddTask:pe,onUpdateTimeEstimate:f,onDuplicateTask:d,onDeleteTask:u,onUpdateTask:l,showAddButton:!0,showProgress:!0,completedCount:se(),totalTimeEstimate:X("today"),onStartSprint:g,isAllTasksBoard:y,boards:x,getBoardInfo:$,currentBoard:n,userPreferences:E}),a.jsx(mf,{title:"Done",status:"done",tasks:ee("done"),onMoveTask:s,onEditTask:ce,onAddTask:pe,onUpdateTimeEstimate:f,onDuplicateTask:d,onDeleteTask:u,onUpdateTask:l,showAddButton:!1,showProgress:!1,isAllTasksBoard:y,boards:x,getBoardInfo:$,currentBoard:n,userPreferences:E})]})})})]})]}),a.jsx(Si,{task:A,isOpen:P,onClose:()=>I(!1),onSave:ke,onDelete:xe,onDuplicate:d?me:void 0,isAllTasksBoard:y,boards:x,userPreferences:E}),a.jsx(Si,{task:null,isOpen:O,onClose:()=>L(!1),onCreate:H,onDelete:()=>M(null,null,function*(){}),isAllTasksBoard:y,boards:x,isCreating:!0,userPreferences:E})]})}const Fk=n=>({id:n.id,originalTaskId:n.original_task_id,instanceDate:n.instance_date,completedAt:n.completed_at||void 0,createdAt:n.created_at,updatedAt:n.updated_at,userId:n.user_id});class ZZ{getCurrentUser(){return M(this,null,function*(){const{data:{user:e},error:t}=yield Ke.auth.getUser();if(t||!e)throw new Error("User not authenticated");return e})}markInstanceCompleted(e,t){return M(this,null,function*(){try{const r=yield this.getCurrentUser(),s=new Date().toISOString(),{error:o}=yield Ke.from("recurring_instances").upsert({original_task_id:e,instance_date:t,completed_at:s,user_id:r.id});return o?(console.error("Error marking instance as completed:",o),!1):!0}catch(r){return console.error("Error marking instance as completed:",r),!1}})}markInstanceIncomplete(e,t){return M(this,null,function*(){try{const r=yield this.getCurrentUser(),{error:s}=yield Ke.from("recurring_instances").delete().eq("original_task_id",e).eq("instance_date",t).eq("user_id",r.id);return s?(console.error("Error marking instance as incomplete:",s),!1):!0}catch(r){return console.error("Error marking instance as incomplete:",r),!1}})}isInstanceCompleted(e,t){return M(this,null,function*(){try{const r=yield this.getCurrentUser(),{data:s,error:o}=yield Ke.from("recurring_instances").select("id").eq("original_task_id",e).eq("instance_date",t).eq("user_id",r.id).not("completed_at","is",null).single();return o&&o.code!=="PGRST116"?(console.error("Error checking instance completion:",o),!1):!!s}catch(r){return console.error("Error checking instance completion:",r),!1}})}getCompletedInstancesForTask(e){return M(this,null,function*(){try{const t=yield this.getCurrentUser(),{data:r,error:s}=yield Ke.from("recurring_instances").select("*").eq("original_task_id",e).eq("user_id",t.id).not("completed_at","is",null).order("instance_date",{ascending:!0});return s?(console.error("Error fetching completed instances:",s),[]):r.map(Fk)}catch(t){return console.error("Error fetching completed instances:",t),[]}})}getCompletionMap(e){return M(this,null,function*(){try{const t=yield this.getCurrentUser(),{data:r,error:s}=yield Ke.from("recurring_instances").select("instance_date").eq("original_task_id",e).eq("user_id",t.id).not("completed_at","is",null);if(s)return console.error("Error fetching completion map:",s),new Map;const o=new Map;return r.forEach(l=>{const u=`${e}-${l.instance_date}`;o.set(u,!0)}),o}catch(t){return console.error("Error fetching completion map:",t),new Map}})}getInstancesForTaskInRange(e,t,r){return M(this,null,function*(){try{const s=yield this.getCurrentUser(),{data:o,error:l}=yield Ke.from("recurring_instances").select("*").eq("original_task_id",e).eq("user_id",s.id).gte("instance_date",t).lte("instance_date",r).order("instance_date",{ascending:!0});return l?(console.error("Error fetching instances in range:",l),[]):o.map(Fk)}catch(s){return console.error("Error fetching instances in range:",s),[]}})}cleanupOldInstances(){return M(this,null,function*(){try{const{data:e,error:t}=yield Ke.rpc("cleanup_old_recurring_instances");return t?(console.error("Error cleaning up old instances:",t),0):e||0}catch(e){return console.error("Error cleaning up old instances:",e),0}})}getTaskCompletionStats(e,t=30){return M(this,null,function*(){try{const r=yield this.getCurrentUser(),s=new Date;s.setDate(s.getDate()-t);const{data:o,error:l}=yield Ke.from("recurring_instances").select("completed_at").eq("original_task_id",e).eq("user_id",r.id).gte("instance_date",s.toISOString().split("T")[0]);if(l)return console.error("Error fetching completion stats:",l),{total:0,completed:0,completionRate:0};const u=o.length,d=o.filter(g=>g.completed_at).length,f=u>0?d/u*100:0;return{total:u,completed:d,completionRate:f}}catch(r){return console.error("Error fetching completion stats:",r),{total:0,completed:0,completionRate:0}}})}migrateFromLocalStorage(){return M(this,null,function*(){try{const e="dayflow_recurring_instances",t=localStorage.getItem(e);if(!t)return console.log("No localStorage data to migrate"),!0;const r=yield this.getCurrentUser(),s=JSON.parse(t),o=[];for(const[l,u]of Object.entries(s)){const d=l.split("-");if(d.length>=4){const f=parseInt(d[0]),g=d.slice(1).join("-");o.push({original_task_id:f,instance_date:g,completed_at:u.completedAt||new Date().toISOString(),user_id:r.id})}}if(o.length>0){const{error:l}=yield Ke.from("recurring_instances").insert(o);if(l)return console.error("Error migrating localStorage data:",l),!1;localStorage.removeItem(e),console.log(`Migrated ${o.length} recurring instances from localStorage`)}return!0}catch(e){return console.error("Error migrating from localStorage:",e),!1}})}}const mu=new ZZ;typeof window!="undefined"&&setTimeout(()=>M(null,null,function*(){try{yield mu.migrateFromLocalStorage();const n=yield mu.cleanupOldInstances();n>0&&console.log(`Cleaned up ${n} old recurring instance records`)}catch(n){console.error("Error during initialization:",n)}}),2e3);function QZ(n,e){return`${n}-${e.toISOString().split("T")[0]}`}function XZ(n,e,t,r){return M(this,null,function*(){var s;if(!n.recurring)return[n];try{const o=[],{pattern:l,interval:u,endDate:d}=n.recurring,f=d?new Date(d):t;if(!l||!u||u<1)return console.warn("Invalid recurring pattern:",n.recurring),[n];const g=365;let y=0;const x=r||(yield mu.getCompletionMap(n.id)),w=n.scheduledDate?new Date(n.scheduledDate):new Date;if(l==="weekly"&&((s=n.recurring.daysOfWeek)!=null&&s.length)){const C=new Date(w);C.setDate(C.getDate()-C.getDay());let S=new Date(C);for(;xr(S,6)<e&&y<g;)S=Oc(S,u),y++;for(;S<=t&&S<=f&&y<g;){for(const T of n.recurring.daysOfWeek){if(y>=g)break;const E=xr(S,T);if(E>=e&&E<=t&&E<=f&&E>=w){const P=hg(n,E,x);o.push(P),y++}}if(S=Oc(S,u),d&&S>new Date(d))break}}else{let C=new Date(w);if(w<e){let S=new Date(w);for(;S<e&&S<f&&y<g;){if(S>=e&&$k(S,n.recurring)){const T=hg(n,S,x);o.push(T),y++}switch(l){case"daily":S=xr(S,u);break;case"weekly":S=Oc(S,u);break;case"monthly":S=Gf(S,u);break;case"yearly":S=Jg(S,u);break;default:return console.warn("Unknown recurring pattern:",l),[n]}}C=new Date(S)}for(;C<=t&&C<=f&&y<g;){if($k(C,n.recurring)){const S=hg(n,C,x);o.push(S),y++}switch(l){case"daily":C=xr(C,u);break;case"weekly":C=Oc(C,u);break;case"monthly":C=Gf(C,u);break;case"yearly":C=Jg(C,u);break;default:console.warn("Unknown recurring pattern:",l);break}if(d&&C>new Date(d))break}}return y>=g&&console.warn("Reached maximum instance limit for recurring task:",n.title),o}catch(o){return console.error("Error generating recurring instances:",o),[n]}})}function $k(n,e){var o,l,u;const t=n.getDay(),r=n.getDate(),s=n.getMonth()+1;return e.pattern==="weekly"&&((o=e.daysOfWeek)!=null&&o.length)?e.daysOfWeek.includes(t):e.pattern==="monthly"&&((l=e.daysOfMonth)!=null&&l.length)?e.daysOfMonth.includes(r):e.pattern==="yearly"&&((u=e.monthsOfYear)!=null&&u.length)?e.monthsOfYear.includes(s):!0}function hg(n,e,t=new Map){const r=b({},n),s=QZ(n.id,e);r.id=n.id,r.recurringInstanceId=s,r.createdAt=e.toISOString();const o=n.scheduledDate?new Date(n.scheduledDate):new Date,l=new Date(e);return l.setHours(o.getHours(),o.getMinutes(),o.getSeconds()),r.scheduledDate=l.toISOString(),t.get(s)||!1?(r.completedAt=new Date().toISOString(),r.status="done",r.progressPercentage=100):(r.completedAt=void 0,r.progressPercentage=0,r.timeSpent=0,r.status==="done"&&(r.status="backlog")),r}const mg=[{label:"Compact",height:60,timeInterval:60},{label:"Comfortable",height:80,timeInterval:60},{label:"Spacious",height:120,timeInterval:60},{label:"Detailed",height:160,timeInterval:30}];function eQ({board:n,tasks:e,onAddTask:t,onUpdateTask:r,onDeleteTask:s,onDuplicateTask:o,isAllTasksBoard:l=!1,boards:u,user:d,onSignOut:f,onViewChange:g,onOpenSettings:y,userPreferences:x,onManualSyncTask:w,onManualUnsyncTask:C}){const{filterTasks:S,weekStartsOn:T,calendarDefaultZoom:E,calendarDefaultView:P,formatDate:I}=ha(x),[A,D]=k.useState(!1),[O,L]=k.useState(null),V=k.useCallback(()=>{const J=Zn(),ye=(x==null?void 0:x.googleCalendarAutoSync)||localStorage.getItem("google_calendar_auto_sync")==="true";return{isAuthenticated:(J==null?void 0:J.isUserAuthenticated())||!1,autoSync:ye,hasManualSync:!!(w&&C)}},[w,C,x]),B=k.useCallback(()=>M(null,null,function*(){if(w){D(!0),L(null);try{const ye=(l?e:e.filter(Pe=>Pe.boardId===n.id)).filter(Pe=>(Pe.scheduledDate||Pe.startDate)&&!Pe.googleCalendarSynced);if(ye.length===0){L("No unsynced scheduled tasks found");return}const ue=yield Promise.allSettled(ye.map(Pe=>w(Pe))),Ge=ue.filter(Pe=>Pe.status==="fulfilled").length,Ue=ue.filter(Pe=>Pe.status==="rejected").length;Ue>0&&L(`Synced ${Ge} tasks, ${Ue} failed`)}catch(J){L("Failed to sync tasks to Google Calendar"),console.error("Bulk sync error:",J)}finally{D(!1)}}}),[w,e,l,n.id]),[ee,X]=k.useState(0),[se,ce]=k.useState([]),[ke,xe]=k.useState(!1),me=J=>((x==null?void 0:x.timeFormat)||"12h")==="24h"?Kn(J,"HH:mm"):Kn(J,"h:mm a"),pe=J=>{switch(J){case 4:return"bg-red-500";case 3:return"bg-orange-500";case 2:return"bg-blue-500";case 1:return"bg-gray-400";default:return"bg-gray-400"}},[j,H]=k.useState(new Date),[$,F]=k.useState(P),[q,W]=k.useState(E),[ne,G]=k.useState(!1),[oe,le]=k.useState(null),[Y,he]=k.useState(null),[Me,Be]=k.useState(!1),[$e,et]=k.useState(!1),[Ut,Yt]=k.useState(!1),[Vt,gn]=k.useState({title:"",description:"",timeEstimate:60,priority:2,status:"backlog"}),an=k.useRef(null),[yn,Pn]=k.useState(!1),[tt,xn]=k.useState(null),qt=mg[q],Un=k.useMemo(()=>{if($==="3-day")return Array.from({length:3},(J,ye)=>xr(j,ye));{const J=ds(j,{weekStartsOn:T});return Array.from({length:7},(ye,ue)=>xr(J,ue))}},[j,$,T]);k.useEffect(()=>{const J=()=>M(null,null,function*(){try{const ue=l?e:e.filter(ht=>ht.boardId===n.id),Ge=S(ue),Ue=[],Pe=Ge.filter(ht=>ht.scheduledDate||ht.startDate||ht.dueDate).slice(0,100);for(const ht of Pe)try{let Gt=[ht];ht.recurring&&(Gt=(yield XZ(ht,yi(Un[0]),B1(Un[Un.length-1]))).slice(0,100)),Gt.forEach(gt=>{let Ze,Mn;if(gt.scheduledDate?Ze=new Date(gt.scheduledDate):gt.startDate?Ze=new Date(gt.startDate):gt.dueDate?Ze=new Date(gt.dueDate):Ze=new Date,isNaN(Ze.getTime())){console.warn("Invalid date for task:",gt.title);return}if(Mn=new Date(Ze),gt.timeEstimate&&gt.timeEstimate>0?Mn=V1(Ze,gt.timeEstimate):Mn=V1(Ze,60),gt.startDate&&gt.dueDate){const Jr=new Date(gt.startDate),ya=new Date(gt.dueDate);!isNaN(Jr.getTime())&&!isNaN(ya.getTime())&&(Ze=Jr,Mn=ya)}Ue.push({id:gt.id,task:gt,start:Ze,end:Mn,title:gt.title||"Untitled Task"})})}catch(Gt){console.error("Error processing task:",ht.title,Gt)}const Ct=Ue.filter(ht=>{try{return Un.some(Gt=>Gc(ht.start,Gt)||Gc(ht.end,Gt)||ht.start<=yi(Gt)&&ht.end>=B1(Gt))}catch(Gt){return console.error("Error filtering event:",ht.title,Gt),!1}});ce(Ct)}catch(ue){console.error("Error generating calendar events:",ue),ce([])}finally{xe(!1)}}),ye=setTimeout(()=>{xe(!0),J()},10);return()=>clearTimeout(ye)},[e,S,Un,l,n.id,ee]);const kr=k.useMemo(()=>{const ye=(l?e:e.filter(Ue=>Ue.boardId===n.id)).filter(Ue=>!Ue.scheduledDate&&!Ue.startDate&&!Ue.dueDate&&Ue.status!=="done"),ue=S(ye),Ge={today:0,"this-week":1,backlog:2};return ue.sort((Ue,Pe)=>{var Mn,Jr;const Ct=(Mn=Ge[Ue.status])!=null?Mn:2,ht=(Jr=Ge[Pe.status])!=null?Jr:2;if(Ct!==ht)return Ct-ht;const Gt=(x==null?void 0:x.taskSortBy)||"priority",gt=(x==null?void 0:x.taskSortOrder)||"asc";let Ze=0;switch(Gt){case"priority":Ze=(Pe.priority||2)-(Ue.priority||2);break;case"dueDate":const ya=Ue.dueDate?new Date(Ue.dueDate).getTime():1/0,$u=Pe.dueDate?new Date(Pe.dueDate).getTime():1/0;Ze=ya-$u;break;case"created":const Uu=new Date(Ue.createdAt).getTime();Ze=new Date(Pe.createdAt).getTime()-Uu;break;case"alphabetical":Ze=Ue.title.localeCompare(Pe.title);break;default:Ze=0}return gt==="desc"?-Ze:Ze})},[e,S,x==null?void 0:x.taskSortBy,x==null?void 0:x.taskSortOrder,l,n.id]),Pr=k.useMemo(()=>{const J=[],Ge=qt.timeInterval,Ue=(x==null?void 0:x.timeFormat)||"12h";for(let Pe=0;Pe<=23;Pe++)if(Ge===30){const Ct=new Date().setHours(Pe,0),ht=new Date().setHours(Pe,30);Ue==="24h"?(J.push({hour:Pe,minute:0,label:Kn(Ct,"HH:mm")}),Pe<23&&J.push({hour:Pe,minute:30,label:Kn(ht,"HH:mm")})):(J.push({hour:Pe,minute:0,label:Kn(Ct,"h:mm a")}),Pe<23&&J.push({hour:Pe,minute:30,label:Kn(ht,"h:mm a")}))}else{const Ct=new Date().setHours(Pe,0);Ue==="24h"?J.push({hour:Pe,minute:0,label:Kn(Ct,"HH:mm")}):J.push({hour:Pe,minute:0,label:Kn(Ct,"h a")})}return J},[qt.timeInterval,x==null?void 0:x.timeFormat]),Kr=(J,ye)=>{const ue=yi(Un[ye]),Ge=new Date(ue).setHours(0,0,0,0),Ue=Math.max(J.start.getTime(),Ge),Pe=Math.min(J.end.getTime(),new Date(ue).setHours(23,59,59,999)),Ct=(Ue-Ge)/(1e3*60),ht=(Pe-Ue)/(1e3*60),Gt=Ct/qt.timeInterval*qt.height,gt=Math.max(ht/qt.timeInterval*qt.height,24);return{top:Gt,height:gt}},Cr=(J,ye,ue)=>{const Ge=new Date(J);Ge.setHours(ye,ue,0,0),le(Ge),G(!0)},Ss=(J,ye,ue,Ge)=>M(null,null,function*(){try{const Ue=e.find(Mn=>Mn.id===parseInt(Ge));if(!Ue)return;const Pe=new Date(J);Pe.setHours(ye,ue,0,0);const Ct=new Date;Ct.setHours(0,0,0,0);const ht=new Date(Pe);ht.setHours(0,0,0,0);const Gt=ds(Ct,{weekStartsOn:T}),gt=dl(Ct,{weekStartsOn:T});let Ze="backlog";ht.getTime()===Ct.getTime()?Ze="today":ht>=Gt&&ht<=gt&&(Ze="this-week"),yield r(Ue.id,{scheduledDate:Pe.toISOString(),startDate:Pe.toISOString(),status:Ze})}catch(Ue){console.error("Failed to move task:",Ue)}}),He=J=>{J.preventDefault(),J.dataTransfer.dropEffect="move",J.currentTarget.classList.add("bg-primary/20","border-primary/50")},st=J=>{J.currentTarget.classList.remove("bg-primary/20","border-primary/50")},cr=()=>M(null,null,function*(){if(!(!Vt.title.trim()||!oe))try{const J=new Date;J.setHours(0,0,0,0);const ye=new Date(oe);ye.setHours(0,0,0,0);const ue=ds(J,{weekStartsOn:T}),Ge=dl(J,{weekStartsOn:T});let Ue="backlog";ye.getTime()===J.getTime()?Ue="today":ye>=ue&&ye<=Ge&&(Ue="this-week");const Pe=U(b({},Vt),{status:Ue,scheduledDate:oe.toISOString(),startDate:oe.toISOString(),position:e.length,progressPercentage:0,effortEstimate:2,impactEstimate:2,labels:[],attachments:[],timeSpent:0,boardId:l?void 0:n.id});yield t(Pe),G(!1),gn({title:"",description:"",timeEstimate:60,priority:2,status:"backlog"}),le(null)}catch(J){console.error("Failed to create task:",J)}}),tr=(J,ye)=>M(null,null,function*(){try{let ue=ye.status;if(ye.scheduledDate){const Ge=new Date;Ge.setHours(0,0,0,0);const Ue=new Date(ye.scheduledDate);Ue.setHours(0,0,0,0);const Pe=ds(Ge,{weekStartsOn:T}),Ct=dl(Ge,{weekStartsOn:T});Ue.getTime()===Ge.getTime()?ue="today":Ue>=Pe&&Ue<=Ct?ue="this-week":ye.status!=="done"&&(ue="backlog")}yield r(J,U(b({},ye),{status:ue}))}catch(ue){throw console.error("Failed to update task:",ue),ue}}),pa=J=>M(null,null,function*(){try{yield s(J)}catch(ye){throw console.error("Failed to delete task:",ye),ye}}),Hl=J=>{he(J),Be(!0)},Oo=J=>M(null,null,function*(){o&&(yield o(J))}),Di=J=>M(null,null,function*(){yield s(J)}),Zs=J=>M(null,null,function*(){if(J.recurring&&J.recurringInstanceId){const Ge=J.status==="done",Ue=(J.scheduledDate||new Date().toISOString()).split("T")[0];try{Ge?yield mu.markInstanceIncomplete(J.id,Ue):yield mu.markInstanceCompleted(J.id,Ue),X(Pe=>Pe+1)}catch(Pe){console.error("Error updating recurring instance:",Pe)}return}const ye=J.status==="done"?"today":"done",ue={status:ye,completedAt:ye==="done"?new Date().toISOString():void 0,progressPercentage:ye==="done"?100:J.progressPercentage};yield r(J.id,ue)}),bs=(J,ye)=>{J.stopPropagation(),Zs(ye)},ot=(J,ye)=>M(null,null,function*(){yield r(J.id,{status:ye})}),Nt=()=>{H($==="3-day"?J=>xr(J,-1):J=>xr(J,-7))},kt=()=>{H($==="3-day"?J=>xr(J,1):J=>xr(J,7))},Sr=()=>{W(J=>Math.min(J+1,mg.length-1))},zn=()=>{W(J=>Math.max(J-1,0))},Qs=(J,ye=!1)=>a.jsx(Wn,{task:J,children:a.jsxs("div",{className:`p-3 bg-background rounded-lg border border-border hover:shadow-sm transition-shadow cursor-pointer ${ye?"opacity-70":""}`,draggable:!ye,onDragStart:ue=>{ye||(ue.dataTransfer.setData("text/plain",J.id.toString()),ue.dataTransfer.effectAllowed="move",et(!0))},onDragEnd:()=>et(!1),onClick:()=>{he(J),Be(!0)},children:[a.jsxs("div",{className:"flex items-start justify-between",children:[" ",a.jsxs("div",{className:"flex-1 min-w-0",children:[" ",a.jsxs("div",{className:"flex items-center gap-2",children:[ye&&a.jsx(or,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),a.jsx("div",{className:`w-5 h-5 rounded-full ${pe(J.priority)} text-white text-xs flex items-center justify-center font-bold flex-shrink-0`,children:J.priority}),a.jsx("h4",{className:`text-sm font-medium truncate ${ye?"line-through text-muted-foreground":""}`,children:J.title})]}),J.description&&a.jsx("p",{className:"text-xs mt-1 line-clamp-2 text-muted-foreground",children:J.description}),a.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${J.status==="done"?"bg-green-100 text-green-800":J.status==="today"?"bg-red-100 text-red-800":J.status==="this-week"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:J.status.replace(/-/g," ")}),J.timeEstimate&&J.timeEstimate>0&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(wr,{className:"h-3 w-3"}),J.timeEstimate,"m"]})]})]})]}),!ye&&a.jsx("div",{className:"text-xs text-muted-foreground mt-2 pt-2 border-t border-border",children:"Drag to calendar or click to edit"})]},J.id)}),wn=J=>{if(J.status==="done")return"bg-gray-400 border-gray-500";switch(J.priority){case 4:return"bg-red-500 border-red-600";case 3:return"bg-orange-500 border-orange-600";case 2:return"bg-blue-500 border-blue-600";case 1:return"bg-green-500 border-green-600";default:return"bg-gray-500 border-gray-600"}},Wn=({task:J,children:ye})=>{const ue=Ze=>M(null,null,function*(){yield r(J.id,{priority:Ze})}),Ge=Ze=>M(null,null,function*(){yield r(J.id,{timeEstimate:Ze})}),Ue=Ze=>M(null,null,function*(){const Mn={pattern:Ze,interval:1,daysOfWeek:[],daysOfMonth:[],monthsOfYear:[]};yield r(J.id,{recurring:Mn})}),Pe=()=>M(null,null,function*(){yield r(J.id,{recurring:void 0})}),Ct=()=>M(null,null,function*(){const Ze=new Date;Ze.setHours(9,0,0,0),yield r(J.id,{scheduledDate:Ze.toISOString(),status:"today"})}),ht=()=>M(null,null,function*(){const Ze=new Date;Ze.setDate(Ze.getDate()+1),Ze.setHours(9,0,0,0),yield r(J.id,{scheduledDate:Ze.toISOString(),status:"this-week"})}),Gt=()=>M(null,null,function*(){const Ze=new Date,Mn=new Date(Ze),Jr=(6-Ze.getDay())%7;Mn.setDate(Ze.getDate()+(Jr===0?7:Jr)),Mn.setHours(10,0,0,0),yield r(J.id,{scheduledDate:Mn.toISOString(),status:"this-week"})}),gt=()=>M(null,null,function*(){yield r(J.id,{scheduledDate:void 0,startDate:void 0,dueDate:void 0})});return a.jsxs(Jc,{children:[a.jsx(Zc,{asChild:!0,children:ye}),a.jsxs(Qc,{className:"w-64",children:[a.jsxs(Ne,{onClick:()=>Hl(J),children:[a.jsx(as,{className:"mr-2 h-4 w-4"}),"Edit Task"]}),o&&a.jsxs(Ne,{onClick:()=>Oo(J),children:[a.jsx(Vc,{className:"mr-2 h-4 w-4"}),"Duplicate Task"]}),a.jsx(un,{}),a.jsxs(Ne,{onClick:()=>Zs(J),children:[a.jsx($s,{className:"mr-2 h-4 w-4"}),J.status==="done"?"Mark as Incomplete":"Mark as Complete"]}),a.jsx(un,{}),a.jsxs(ls,{children:[a.jsxs(cs,{children:[a.jsx(sh,{className:"mr-2 h-4 w-4"}),"Priority"]}),a.jsxs(us,{children:[a.jsx(Ne,{onClick:()=>ue(4),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),"Critical (4)"]})}),a.jsx(Ne,{onClick:()=>ue(3),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),"High (3)"]})}),a.jsx(Ne,{onClick:()=>ue(2),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),"Medium (2)"]})}),a.jsx(Ne,{onClick:()=>ue(1),children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"Low (1)"]})})]})]},"priority-submenu"),a.jsxs(ls,{children:[a.jsxs(cs,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4"}),"Time Estimate"]}),a.jsxs(us,{children:[a.jsx(Ne,{onClick:()=>Ge(15),children:"15 minutes"}),a.jsx(Ne,{onClick:()=>Ge(30),children:"30 minutes"}),a.jsx(Ne,{onClick:()=>Ge(60),children:"1 hour"}),a.jsx(Ne,{onClick:()=>Ge(120),children:"2 hours"}),a.jsx(Ne,{onClick:()=>Ge(240),children:"4 hours"}),a.jsx(un,{}),a.jsx(Ne,{onClick:()=>Ge(0),children:"Clear"})]})]},"time-estimate-submenu"),a.jsxs(ls,{children:[a.jsxs(cs,{children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Schedule"]}),a.jsxs(us,{children:[a.jsxs(Ne,{onSelect:Ze=>{Ze.preventDefault(),Ze.stopPropagation(),xn(J),Pn(!0)},children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Pick a date..."]}),a.jsx(un,{}),a.jsxs(Ne,{onClick:Ct,children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Today (9 AM)"]}),a.jsxs(Ne,{onClick:ht,children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Tomorrow (9 AM)"]}),a.jsxs(Ne,{onClick:Gt,children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"This Weekend (10 AM)"]}),a.jsx(un,{}),a.jsxs(Ne,{onClick:gt,children:[a.jsx(ms,{className:"mr-2 h-4 w-4"}),"Clear Schedule"]})]})]},"schedule-submenu"),a.jsxs(ls,{children:[a.jsxs(cs,{children:[a.jsx(Ki,{className:"mr-2 h-4 w-4"}),"Recurring"]}),a.jsxs(us,{children:[a.jsx(Ne,{onClick:()=>Ue("daily"),children:"Daily"}),a.jsx(Ne,{onClick:()=>Ue("weekly"),children:"Weekly"}),a.jsx(Ne,{onClick:()=>Ue("monthly"),children:"Monthly"}),a.jsx(Ne,{onClick:()=>Ue("yearly"),children:"Yearly"}),a.jsx(un,{}),a.jsx(Ne,{onClick:Pe,children:"Clear Recurring"})]})]},"recurring-submenu"),a.jsx(un,{}),a.jsxs(ls,{children:[a.jsxs(cs,{children:[a.jsx(Wk,{className:"mr-2 h-4 w-4"}),"Move to..."]}),a.jsxs(us,{children:[J.status!=="backlog"&&a.jsxs(Ne,{onClick:()=>ot(J,"backlog"),children:[a.jsx(hl,{className:"mr-2 h-4 w-4"}),"Backlog"]}),J.status!=="this-week"&&a.jsxs(Ne,{onClick:()=>ot(J,"this-week"),children:[a.jsx(Df,{className:"mr-2 h-4 w-4"}),"This Week"]}),J.status!=="today"&&a.jsxs(Ne,{onClick:()=>ot(J,"today"),children:[a.jsx(Df,{className:"mr-2 h-4 w-4"}),"Today"]}),J.status!=="done"&&a.jsxs(Ne,{onClick:()=>ot(J,"done"),children:[a.jsx($s,{className:"mr-2 h-4 w-4"}),"Done"]})]})]},"move-to-submenu"),a.jsx(un,{}),a.jsxs(Ne,{onClick:()=>Di(J.id),className:"text-destructive",children:[a.jsx(ui,{className:"mr-2 h-4 w-4"}),"Delete Task"]})]})]})},wt=k.useCallback(()=>{const J=an.current;if(!J)return;const ye=new Date;of(j)||H(ye);const ue=ye.getHours(),Ge=ye.getMinutes(),Ue=ue*60+Ge,Pe=qt.timeInterval/qt.height,Ct=Ue/Pe,ht=J.clientHeight,Gt=Math.max(0,Ct-ht/3);J.scrollTo({top:Gt,behavior:"smooth"})},[j,qt.height,qt.timeInterval]);k.useEffect(()=>{if(!an.current)return;const J=setTimeout(()=>wt(),100);return()=>clearTimeout(J)},[]);const ga=()=>{Yt(!0)},Xs=J=>M(null,null,function*(){const ye={title:J.title||"",description:J.description||"",timeEstimate:J.timeEstimate||0,priority:J.priority||2,status:J.status||"backlog",position:e.filter(ue=>ue.status===(J.status||"backlog")).length,boardId:l?J.boardId:n.id,progressPercentage:J.progressPercentage||0,timeSpent:J.timeSpent||0,labels:J.labels||[],attachments:J.attachments||[],category:J.category||"",scheduledDate:J.scheduledDate,startDate:J.startDate,dueDate:J.dueDate,recurring:J.recurring};yield t(ye),Yt(!1)});return a.jsxs("div",{className:"h-screen bg-background flex flex-col overflow-hidden",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Dh,{title:n.name,subtitle:n.description,board:n,currentView:"calendar",tasks:e,boards:u,userPreferences:x,onViewChange:g,onCreateDetailedTask:ga,user:d,onSignOut:f,onOpenSettings:y,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-sm font-medium mr-3",children:$==="3-day"?`${I(j)} - ${I(xr(j,2))}`:`${I(ds(j,{weekStartsOn:T}))} - ${I(dl(j,{weekStartsOn:T}))}`}),a.jsxs("div",{className:"flex items-center gap-1 mr-2",children:[a.jsx(de,{variant:"outline",size:"sm",onClick:zn,disabled:q===0,className:"h-7 w-7 p-0",children:a.jsx($A,{className:"h-3.5 w-3.5"})}),a.jsx("span",{className:"text-xs text-muted-foreground px-2",children:qt.label}),a.jsx(de,{variant:"outline",size:"sm",onClick:Sr,disabled:q===mg.length-1,className:"h-7 w-7 p-0",children:a.jsx(LA,{className:"h-3.5 w-3.5"})})]}),a.jsxs(de,{variant:"outline",size:"sm",onClick:wt,className:"mr-2 gap-1.5",title:"Scroll to current time",children:[a.jsx(wr,{className:"h-3.5 w-3.5"}),"Now"]}),a.jsx("div",{className:"flex gap-1 mr-2 bg-muted/30 p-1 rounded-lg border border-border/50",children:["3-day","week"].map(J=>a.jsx(de,{variant:$===J?"default":"ghost",size:"sm",onClick:()=>F(J),className:"capitalize h-7",children:J},J))}),(()=>{const J=V();if(!J.isAuthenticated)return null;if(!J.autoSync&&J.hasManualSync){const ye=(l?e:e.filter(ue=>ue.boardId===n.id)).filter(ue=>(ue.scheduledDate||ue.startDate)&&!ue.googleCalendarSynced).length;return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(de,{variant:"outline",size:"sm",onClick:B,disabled:A||ye===0,className:"gap-1.5",title:ye===0?"No unsynced scheduled tasks":`Sync ${ye} scheduled tasks to Google Calendar`,children:[A?a.jsx(Yj,{className:"h-3.5 w-3.5 animate-spin"}):a.jsx(na,{className:"h-3.5 w-3.5"}),A?"Syncing...":`Sync (${ye})`]}),O&&a.jsx("span",{className:"text-xs text-red-600 max-w-40 truncate",title:O,children:O})]})}return J.autoSync?a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(na,{className:"h-4 w-4 text-green-600"}),"Auto-sync enabled"]}):null})()]})})}),a.jsxs("div",{className:"flex-1 flex min-h-0 overflow-hidden",children:[a.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[a.jsxs("div",{className:"flex border-b border-border bg-muted/30 flex-shrink-0 items-center",children:[a.jsx("div",{className:"w-16 border-r border-border p-2 text-xs text-muted-foreground text-center",children:"Time"}),a.jsx(de,{variant:"ghost",size:"sm",onClick:Nt,className:"h-8 w-8 p-0",children:a.jsx(Ty,{className:"h-4 w-4"})}),Un.map((J,ye)=>a.jsxs("div",{className:"flex-1  p-2 text-center",children:[" ",a.jsx("div",{className:`text-sm font-medium ${of(J)?"text-primary":""}`,children:Kn(J,$==="3-day"?"EEEE":"EEE")}),a.jsx("div",{className:`text-xs ${of(J)?"text-primary font-semibold":"text-muted-foreground"}`,children:Kn(J,$==="3-day"?"MMM d":"d")})]},ye)),a.jsx(de,{variant:"ghost",size:"sm",onClick:kt,className:"h-8 w-8 p-0",children:a.jsx(pu,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto min-h-0 relative",ref:an,children:[ke&&a.jsx("div",{className:"absolute inset-0 bg-background/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-primary border-t-transparent rounded-full animate-spin"}),"Loading events..."]})}),a.jsxs("div",{className:"flex min-h-full",children:[a.jsx("div",{className:"w-16 border-r border-border bg-muted/10",children:Pr.map((J,ye)=>a.jsx("div",{className:"time-slot border-b border-border text-xs text-muted-foreground text-center py-1",style:{height:`${qt.height}px`},"data-hour":J.hour,"data-minute":J.minute,children:J.minute===0?J.label:""},ye))}),Un.map((J,ye)=>a.jsxs("div",{className:"flex-1 border-r border-border relative",children:[" ",Pr.map((ue,Ge)=>a.jsx("div",{className:`border-b border-border hover:bg-muted/20 cursor-pointer transition-colors ${$e?"border-dashed border-primary/30 hover:bg-primary/10":""}`,style:{height:`${qt.height}px`},onClick:()=>Cr(J,ue.hour,ue.minute),onDragOver:He,onDragLeave:st,onDrop:Ue=>{Ue.preventDefault(),Ue.currentTarget.classList.remove("bg-primary/20","border-primary/50");const Ct=Ue.dataTransfer.getData("text/plain");Ct&&Ss(J,ue.hour,ue.minute,Ct)},children:of(J)&&(()=>{const Ue=new Date,Pe=Ue.getHours(),Ct=Ue.getMinutes();if(ue.hour===Pe&&(qt.timeInterval===60&&ue.minute===0||qt.timeInterval===30&&Math.abs(ue.minute-(Ct>=30?30:0))<15)){const Gt=(Ct-ue.minute)/qt.timeInterval*qt.height;return a.jsx("div",{className:"absolute left-0 right-0 h-0.5 bg-red-500 z-10",style:{top:`${Gt}px`}})}return null})()},Ge)),se.filter(ue=>Gc(ue.start,J)).map(ue=>{const Ge=Kr(ue,ye),Ue=wn(ue.task),Pe=Ge.height<30,Ct=Ge.height<50,ht=Ge.height>=50&&Ge.height<80,Gt=Ge.height>=80;return a.jsx(Wn,{task:ue.task,children:a.jsxs("div",{className:`absolute left-1 right-1 ${Ue} text-white rounded cursor-pointer hover:shadow-lg transition-all duration-200 border-l-4 overflow-hidden ${Pe?"hover:scale-105":"hover:scale-[1.02]"}`,style:{top:`${Ge.top}px`,height:`${Ge.height}px`,zIndex:5},draggable:ue.task.status!=="done",onDragStart:gt=>{ue.task.status!=="done"&&(gt.dataTransfer.setData("text/plain",ue.task.id.toString()),gt.dataTransfer.effectAllowed="move",et(!0))},onDragEnd:()=>et(!1),onClick:()=>{he(ue.task),Be(!0)},children:[Pe&&a.jsxs("div",{className:"px-1.5 py-0.5 h-full flex items-center",children:[a.jsxs("div",{className:"text-xs font-medium truncate leading-none flex items-center gap-1",children:[ue.task.recurring&&a.jsx(Ki,{className:"h-2.5 w-2.5 opacity-60"}),ue.title]}),ue.task.status==="done"&&a.jsx(or,{className:"h-3 w-3 text-green-300 ml-1 flex-shrink-0"})]}),Ct&&!Pe&&a.jsxs("div",{className:"p-1.5 h-full flex flex-col justify-center",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-xs font-semibold truncate flex-1 leading-tight flex items-center gap-1",children:[ue.task.recurring&&a.jsx(Ki,{className:"h-2.5 w-2.5 opacity-60"}),ue.title]}),a.jsx("button",{onClick:gt=>bs(gt,ue.task),className:`ml-1 flex-shrink-0 w-3 h-3 rounded-sm border transition-all duration-200 flex items-center justify-center ${ue.task.status==="done"?"bg-green-500 border-green-500 text-white":"border-white/50 hover:border-white hover:bg-white/10"}`,title:ue.task.status==="done"?"Mark as incomplete":"Mark as complete",children:ue.task.status==="done"&&a.jsx(or,{className:"h-2.5 w-2.5"})})]}),a.jsx("div",{className:"text-xs opacity-90 leading-none mt-0.5",children:me(ue.start)})]}),ht&&a.jsxs("div",{className:"p-2 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsxs("div",{className:"font-semibold text-sm leading-tight truncate flex-1 flex items-center gap-1",children:[ue.task.recurring&&a.jsx(Ki,{className:"h-3 w-3 opacity-60"}),ue.title]}),a.jsx("button",{onClick:gt=>bs(gt,ue.task),className:`ml-1 flex-shrink-0 w-4 h-4 rounded border transition-all duration-200 flex items-center justify-center ${ue.task.status==="done"?"bg-green-500 border-green-500 text-white":"border-white/50 hover:border-white hover:bg-white/10"}`,title:ue.task.status==="done"?"Mark as incomplete":"Mark as complete",children:ue.task.status==="done"&&a.jsx(or,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"text-xs opacity-90 mb-1",children:[me(ue.start)," - ",me(ue.end)]}),a.jsx("div",{className:"mt-auto flex items-center justify-between text-xs",children:ue.task.timeEstimate&&ue.task.timeEstimate>0&&a.jsxs("div",{className:"flex items-center gap-1 opacity-90",children:[a.jsx(wr,{className:"h-3 w-3"}),a.jsxs("span",{children:[ue.task.timeEstimate,"m"]})]})})]}),Gt&&a.jsxs("div",{className:"p-2 h-full flex flex-col",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsxs("div",{className:"font-semibold text-sm leading-tight truncate flex-1 flex items-center gap-1",children:[ue.task.recurring&&a.jsx(Ki,{className:"h-3 w-3 opacity-60"}),ue.title]}),a.jsx("button",{onClick:gt=>bs(gt,ue.task),className:`ml-1 flex-shrink-0 w-4 h-4 rounded border transition-all duration-200 flex items-center justify-center ${ue.task.status==="done"?"bg-green-500 border-green-500 text-white":"border-white/50 hover:border-white hover:bg-white/10"}`,title:ue.task.status==="done"?"Mark as incomplete":"Mark as complete",children:ue.task.status==="done"&&a.jsx(or,{className:"h-3 w-3"})})]}),a.jsxs("div",{className:"text-xs opacity-90 mb-2",children:[me(ue.start)," - ",me(ue.end)]}),ue.task.description&&a.jsx("div",{className:"text-xs opacity-85 line-clamp-2 mb-2 leading-relaxed flex-1",children:ue.task.description}),a.jsxs("div",{className:"mt-auto flex items-center justify-between text-xs opacity-90",children:[a.jsx("div",{className:"flex items-center gap-1",children:ue.task.timeEstimate&&ue.task.timeEstimate>0&&a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"h-3 w-3"}),a.jsxs("span",{children:[ue.task.timeEstimate,"m"]})]})}),a.jsx("div",{className:`px-1.5 py-0.5 rounded text-xs font-medium ${ue.task.status==="done"?"bg-green-500/20 text-green-100":ue.task.status==="today"?"bg-orange-500/20 text-orange-100":ue.task.status==="this-week"?"bg-blue-500/20 text-blue-100":"bg-gray-500/20 text-gray-100"}`,children:ue.task.status==="this-week"?"This Week":ue.task.status})]})]})]})},ue.id)})]},ye))]})]})]}),kr.length>0&&a.jsxs("div",{className:"w-80 border-l border-border bg-muted/20 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"flex-shrink-0 p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[a.jsx(tn,{className:"h-4 w-4"}),"Unscheduled Tasks (",kr.length,")"]}),$e&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Drop on a time slot to schedule the task"})]}),a.jsx("div",{className:"flex-1 p-4 overflow-y-auto",children:a.jsx("div",{className:"space-y-2",children:kr.map(J=>Qs(J,!1))})})]})]}),a.jsx(Us,{open:ne,onOpenChange:G,children:a.jsxs(Vs,{className:"sm:max-w-md",children:[a.jsxs(pi,{children:[a.jsx(_o,{children:"Create New Task"}),a.jsx(ko,{children:oe&&`Scheduled for ${I(oe,!0)}`})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx(xt,{placeholder:"Task title",value:Vt.title,onChange:J=>gn(ye=>U(b({},ye),{title:J.target.value})),className:"w-full"})}),a.jsx("div",{children:a.jsx(uh,{placeholder:"Description (optional)",value:Vt.description,onChange:J=>gn(ye=>U(b({},ye),{description:J.target.value})),className:"w-full",rows:3})}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Time Estimate (minutes)"}),a.jsx(xt,{type:"number",value:Vt.timeEstimate,onChange:J=>gn(ye=>U(b({},ye),{timeEstimate:parseInt(J.target.value)||0})),min:"0",step:"15"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Priority"}),a.jsxs(dn,{value:Vt.priority.toString(),onValueChange:J=>gn(ye=>U(b({},ye),{priority:parseInt(J)})),children:[a.jsx(nn,{children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"1",children:"Low"}),a.jsx(Ye,{value:"2",children:"Medium"}),a.jsx(Ye,{value:"3",children:"High"}),a.jsx(Ye,{value:"4",children:"Critical"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(de,{variant:"outline",onClick:()=>G(!1),children:"Cancel"}),a.jsx(de,{onClick:cr,children:"Create Task"})]})]})]})}),a.jsx(Si,{task:Y,isOpen:Me,onClose:()=>{he(null),Be(!1)},onSave:tr,onDelete:pa}),a.jsx(Si,{task:null,isOpen:Ut,onClose:()=>Yt(!1),onCreate:Xs,onDelete:()=>M(null,null,function*(){}),isAllTasksBoard:l,boards:u,isCreating:!0,userPreferences:x}),a.jsx(Us,{open:yn,onOpenChange:Pn,children:a.jsxs(Vs,{className:"max-w-md",children:[a.jsxs(pi,{children:[a.jsx(_o,{children:"Schedule Task"}),a.jsx(ko,{children:tt&&`Set date and time for "${tt.title}"`})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Date"}),a.jsx("div",{className:"border rounded-md p-3 bg-background",children:a.jsx(Sv,{mode:"single",selected:tt!=null&&tt.scheduledDate?new Date(tt.scheduledDate):void 0,onSelect:J=>{if(J&&tt){const ye=tt.scheduledDate?new Date(tt.scheduledDate):new Date,ue=new Date(J);ue.setHours(ye.getHours()||9,ye.getMinutes()||0,0,0),xn(U(b({},tt),{scheduledDate:ue.toISOString()}))}},className:"w-full"})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Select Time"}),a.jsx(xt,{type:"time",value:tt!=null&&tt.scheduledDate?(()=>{const J=new Date(tt.scheduledDate);return`${J.getHours().toString().padStart(2,"0")}:${J.getMinutes().toString().padStart(2,"0")}`})():"09:00",onChange:J=>{if(tt&&J.target.value){const[ye,ue]=J.target.value.split(":").map(Number),Ge=tt.scheduledDate?new Date(tt.scheduledDate):new Date;Ge.setHours(ye,ue,0,0),xn(U(b({},tt),{scheduledDate:Ge.toISOString()}))}},className:"bg-background"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Quick Times"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{label:"9:00 AM",hour:9,minute:0},{label:"12:00 PM",hour:12,minute:0},{label:"2:00 PM",hour:14,minute:0},{label:"5:00 PM",hour:17,minute:0},{label:"7:00 PM",hour:19,minute:0},{label:"9:00 PM",hour:21,minute:0}].map(J=>a.jsx(de,{variant:"outline",size:"sm",onClick:()=>{if(tt){const ye=tt.scheduledDate?new Date(tt.scheduledDate):new Date;ye.setHours(J.hour,J.minute,0,0),xn(U(b({},tt),{scheduledDate:ye.toISOString()}))}},className:"text-xs",children:J.label},J.label))})]})]}),a.jsxs(Xi,{children:[a.jsx(de,{variant:"outline",onClick:()=>{Pn(!1),xn(null)},children:"Cancel"}),a.jsx(de,{onClick:()=>M(null,null,function*(){if(tt&&tt.scheduledDate){const J=new Date(tt.scheduledDate),ye=new Date;ye.setHours(0,0,0,0);const ue=new Date(J);ue.setHours(0,0,0,0);let Ge="backlog";ue.getTime()===ye.getTime()?Ge="today":ue>ye&&ue<=new Date(ye.getTime()+7*24*60*60*1e3)&&(Ge="this-week"),yield r(tt.id,{scheduledDate:J.toISOString(),status:Ge}),Pn(!1),xn(null)}}),disabled:!(tt!=null&&tt.scheduledDate),children:"Schedule Task"})]})]})})]})}function tQ(n){return a.jsx(ku,{children:a.jsxs("div",{className:"h-screen bg-background flex w-full",children:[a.jsx(ju,{boards:n.boards||[],currentBoard:n.board,currentView:"calendar",tasks:n.tasks,userPreferences:n.userPreferences,onSelectBoard:e=>{n.onSelectBoard?n.onSelectBoard(e):n.onBack()},onSelectBoardView:(e,t)=>{n.onViewChange?n.onViewChange(e,t):n.onSelectBoard?n.onSelectBoard(e):n.onBack()},onNavigateToBoards:()=>{n.onBack()},onTaskClick:e=>{console.log("Task clicked from upcoming preview:",e)}}),a.jsx(Cu,{className:"flex flex-col",children:a.jsx(eQ,b({},n))})]})})}function yf({task:n,onToggleComplete:e,onEditTask:t,onMoveTask:r,onUpdateTask:s,onUpdateTimeEstimate:o,onDuplicateTask:l,onDeleteTask:u,boardInfo:d,userPreferences:f,isDone:g=!1}){const{formatDate:y}=ha(f),[x,w]=k.useState(!1),[C,S]=k.useState(n.timeEstimate.toString()),T=()=>{e(n.id)},E=()=>{t(n)},P=L=>{L.stopPropagation(),t(n)},I=L=>{L.stopPropagation(),w(!0)},A=()=>{const L=parseInt(C)||0;o==null||o(n.id,L),w(!1)},D=L=>{L.key==="Enter"?A():L.key==="Escape"&&(S(n.timeEstimate.toString()),w(!1))},O={1:"text-green-500",2:"text-yellow-500",3:"text-orange-500",4:"text-red-500"};return a.jsx(rE,{task:n,onEdit:t,onDuplicate:l,onDelete:u,onUpdateTask:s,onMoveTask:r,onUpdateTimeEstimate:o,onToggleComplete:e,boardInfo:d,userPreferences:f,children:a.jsxs("div",{className:ae("grid items-center mb-3 px-4 py-2 bg-background rounded-md shadow-sm hover:bg-muted cursor-pointer transition-all duration-200 gap-x-2",n.status==="done"?"opacity-60":""),style:{gridTemplateColumns:"2rem 1fr 8rem 8rem 6rem 8rem 3rem"},onClick:E,children:[a.jsx(En,{checked:n.status==="done",onCheckedChange:T,onClick:L=>L.stopPropagation(),className:"mr-2","aria-label":`Mark task ${n.title} as ${n.status==="done"?"incomplete":"complete"}`}),a.jsx("span",{className:"truncate font-medium text-left",children:n.title}),d&&a.jsx("span",{className:"text-sm text-muted-foreground text-center",children:d.name}),a.jsx("span",{className:"text-sm text-muted-foreground text-center",children:n.dueDate?y(n.dueDate):"--"}),a.jsx("span",{className:ae("font-medium text-center",O[n.priority]),title:`Priority: ${n.priority}`,children:n.priority}),x?a.jsx("input",{placeholder:"--",type:"number",value:C,onChange:L=>S(L.target.value),onBlur:A,onKeyDown:D,className:"text-sm text-muted-foreground bg-transparent border-none outline-none w-full p-0 focus:text-foreground text-center",autoFocus:!0,min:"0"}):a.jsx("button",{onClick:L=>{L.stopPropagation(),I(L)},className:ae("text-sm text-muted-foreground hover:text-foreground transition-colors duration-200 font-medium text-center",g&&"text-muted-foreground/60"),title:"Click to edit time estimate",children:n.timeEstimate>0?`${n.timeEstimate} min`:"--"}),a.jsx(de,{size:"sm",variant:"ghost",className:"p-1 text-muted-foreground hover:text-foreground justify-self-center",onClick:P,title:"Edit task",children:a.jsx(as,{className:"h-4 w-4"})})]})})}function nQ({board:n,tasks:e,onUpdateTask:t,onDeleteTask:r,onDuplicateTask:s,onMoveTask:o,onUpdateTimeEstimate:l,isAllTasksBoard:u=!1,boards:d,userPreferences:f}){const[g,y]=k.useState(null),[x,w]=k.useState(!1),{filterTasks:C,sortTasks:S}=ha(f),T=k.useMemo(()=>{const O=u?e:e.filter(V=>V.boardId===n.id),L=C(O);return S(L)},[e,C,S,u,n.id]),E=k.useMemo(()=>({today:T.filter(O=>O.status==="today"),thisWeek:T.filter(O=>O.status==="this-week"),backlog:T.filter(O=>O.status==="backlog"),done:T.filter(O=>O.status==="done")}),[T]),P=O=>{y(O),w(!0)},I=O=>M(null,null,function*(){yield r(O),w(!1),y(null)}),A=O=>M(null,null,function*(){const L=O.status==="done"?"today":"done",V=L==="done"?new Date().toISOString():void 0;yield t(O.id,{status:L,completedAt:V})}),D=(O,L)=>M(null,null,function*(){yield o(O,L)});return a.jsxs("div",{className:"flex flex-col h-full bg-muted/40",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[E.today.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-3 text-foreground border-b border-border pb-2",children:["Today (",E.today.length,")"]}),a.jsxs("div",{className:"grid items-center px-4 py-2 gap-x-2 text-xs font-semibold text-muted-foreground bg-background rounded-md",style:{gridTemplateColumns:"2rem 1fr 8rem 8rem 6rem 8rem 3rem"},children:[a.jsx("span",{}),a.jsx("span",{className:"text-left",children:"Title"}),a.jsx("span",{className:"text-center",children:"Board"}),a.jsx("span",{className:"text-center",children:"Due"}),a.jsx("span",{className:"text-center",children:"Priority"}),a.jsx("span",{className:"text-center",children:"Estimate"}),a.jsx("span",{className:"text-center",children:"Action"})]}),a.jsx("div",{className:"space-y-3 mt-1",children:E.today.map(O=>a.jsx(yf,{task:O,onToggleComplete:()=>A(O),onEditTask:()=>P(O),onMoveTask:D,onUpdateTask:t,onUpdateTimeEstimate:l,onDuplicateTask:s,onDeleteTask:I,boardInfo:u?d==null?void 0:d.find(L=>L.id===O.boardId):n,userPreferences:f},O.id))})]}),E.thisWeek.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-3 text-foreground border-b border-border pb-2",children:["This Week (",E.thisWeek.length,")"]}),a.jsxs("div",{className:"grid items-center px-4 py-2 gap-x-2 text-xs font-semibold text-muted-foreground bg-background rounded-md",style:{gridTemplateColumns:"2rem 1fr 8rem 8rem 6rem 8rem 3rem"},children:[a.jsx("span",{}),a.jsx("span",{className:"text-left",children:"Title"}),a.jsx("span",{className:"text-center",children:"Board"}),a.jsx("span",{className:"text-center",children:"Due"}),a.jsx("span",{className:"text-center",children:"Priority"}),a.jsx("span",{className:"text-center",children:"Estimate"}),a.jsx("span",{className:"text-center",children:"Action"})]}),a.jsx("div",{className:"space-y-3 mt-1",children:E.thisWeek.map(O=>a.jsx(yf,{task:O,onToggleComplete:()=>A(O),onEditTask:()=>P(O),onMoveTask:D,onUpdateTask:t,onUpdateTimeEstimate:l,onDuplicateTask:s,onDeleteTask:I,boardInfo:u?d==null?void 0:d.find(L=>L.id===O.boardId):n,userPreferences:f},O.id))})]}),E.backlog.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-3 text-foreground border-b border-border pb-2",children:["Backlog (",E.backlog.length,")"]}),a.jsxs("div",{className:"grid items-center px-4 py-2 gap-x-2 text-xs font-semibold text-muted-foreground bg-background rounded-md",style:{gridTemplateColumns:"2rem 1fr 8rem 8rem 6rem 8rem 3rem"},children:[a.jsx("span",{}),a.jsx("span",{className:"text-left",children:"Title"}),a.jsx("span",{className:"text-center",children:"Board"}),a.jsx("span",{className:"text-center",children:"Due"}),a.jsx("span",{className:"text-center",children:"Priority"}),a.jsx("span",{className:"text-center",children:"Estimate"}),a.jsx("span",{className:"text-center",children:"Action"})]}),a.jsx("div",{className:"space-y-3 mt-1",children:E.backlog.map(O=>a.jsx(yf,{task:O,onToggleComplete:()=>A(O),onEditTask:()=>P(O),onMoveTask:D,onUpdateTask:t,onUpdateTimeEstimate:l,onDuplicateTask:s,onDeleteTask:I,boardInfo:u?d==null?void 0:d.find(L=>L.id===O.boardId):n,userPreferences:f},O.id))})]}),E.done.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsxs("h3",{className:"text-lg font-semibold mb-3 text-foreground border-b border-border pb-2",children:["Done (",E.done.length,")"]}),a.jsxs("div",{className:"grid items-center px-4 py-2 gap-x-2 text-xs font-semibold text-muted-foreground bg-background rounded-md",style:{gridTemplateColumns:"2rem 1fr 8rem 8rem 6rem 8rem 3rem"},children:[a.jsx("span",{}),a.jsx("span",{className:"text-left",children:"Title"}),a.jsx("span",{className:"text-center",children:"Board"}),a.jsx("span",{className:"text-center",children:"Due"}),a.jsx("span",{className:"text-center",children:"Priority"}),a.jsx("span",{className:"text-center",children:"Estimate"}),a.jsx("span",{className:"text-center",children:"Action"})]}),a.jsx("div",{className:"space-y-3 mt-1",children:E.done.map(O=>a.jsx(yf,{task:O,onToggleComplete:()=>A(O),onEditTask:()=>P(O),onMoveTask:D,onUpdateTask:t,onUpdateTimeEstimate:l,onDuplicateTask:s,onDeleteTask:I,boardInfo:u?d==null?void 0:d.find(L=>L.id===O.boardId):n,userPreferences:f,isDone:!0},O.id))})]}),T.length===0&&a.jsx("div",{className:"text-center text-muted-foreground py-8",children:a.jsx("p",{children:"No tasks in this list. Add some!"})})]}),x&&a.jsx(Si,{task:g||null,isOpen:x,onClose:()=>{w(!1),y(null)},onSave:g?(O,L)=>M(null,null,function*(){yield t(O,L)}):void 0,onDelete:O=>M(null,null,function*(){yield I(O)}),isAllTasksBoard:u,boards:d||[],isCreating:!1,userPreferences:f})]})}function rQ(n){const[e,t]=k.useState(!1),[r,s]=k.useState(null),[o,l]=k.useState(!1),u=()=>{t(!0)},d=w=>{s(w),l(!0)},f=(w,C)=>M(null,null,function*(){yield n.onUpdateTask(w,C),l(!1),s(null)}),g=w=>M(null,null,function*(){yield n.onDeleteTask(w),l(!1),s(null)}),y=w=>M(null,null,function*(){n.onDuplicateTask&&(yield n.onDuplicateTask(w)),l(!1),s(null)}),x=w=>M(null,null,function*(){const C={title:w.title||"",description:w.description||"",timeEstimate:w.timeEstimate||0,priority:w.priority||2,status:w.status||"backlog",position:n.tasks.filter(S=>S.status===(w.status||"backlog")).length,boardId:n.isAllTasksBoard?w.boardId:n.board.id,progressPercentage:w.progressPercentage||0,timeSpent:w.timeSpent||0,labels:w.labels||[],attachments:w.attachments||[],category:w.category||"",scheduledDate:w.scheduledDate,startDate:w.startDate,dueDate:w.dueDate,recurring:w.recurring};yield n.onAddTask(C),t(!1)});return a.jsxs(ku,{children:[a.jsxs("div",{className:"h-screen bg-background flex w-full",children:[a.jsx(ju,{boards:n.boards||[],currentBoard:n.board,currentView:"list",tasks:n.tasks,userPreferences:n.userPreferences,onSelectBoard:w=>{n.onSelectBoard?n.onSelectBoard(w):n.onBack()},onSelectBoardView:(w,C)=>{n.onViewChange?n.onViewChange(w,C):n.onSelectBoard?n.onSelectBoard(w):n.onBack()},onCreateTask:w=>{w.id!==n.board.id&&n.onSelectBoard&&n.onSelectBoard(w),t(!0)},onNavigateToBoards:()=>{n.onBack()},onTaskClick:w=>{d(w)}}),a.jsxs(Cu,{className:"flex flex-col flex-1 overflow-y-auto",children:[a.jsx(Dh,{title:n.board.name,subtitle:n.board.description,board:n.board,currentView:"list",tasks:n.tasks,boards:n.boards,userPreferences:n.userPreferences,onViewChange:n.onViewChange,onCreateDetailedTask:u,user:n.user,onSignOut:n.onSignOut,onOpenSettings:n.onOpenSettings}),a.jsx(nQ,b({},n))]})]}),a.jsx(Si,{task:r,isOpen:o,onClose:()=>l(!1),onSave:f,onDelete:g,onDuplicate:n.onDuplicateTask?y:void 0,isAllTasksBoard:n.isAllTasksBoard,boards:n.boards,userPreferences:n.userPreferences}),a.jsx(Si,{task:null,isOpen:e,onClose:()=>t(!1),onCreate:x,onDelete:()=>M(null,null,function*(){}),isAllTasksBoard:n.isAllTasksBoard,boards:n.boards,isCreating:!0,userPreferences:n.userPreferences})]})}function sQ({tasks:n,timerType:e,pomodoroMinutes:t,countdownMinutes:r,onTaskComplete:s,onExit:o,onViewModeChange:l,boards:u,onTaskClick:d}){const[f,g]=k.useState(0),[y,x]=k.useState([]),[w,C]=k.useState(!1),[S,T]=k.useState("work"),[E,P]=k.useState("sidebar"),[I,A]=k.useState(0),[D,O]=k.useState(!1),L=k.useRef(null);k.useEffect(()=>{const G=xe();G.type==="stopwatch"?A(0):A(G.duration||0),O(!0)},[f,w,S,e,t,r]),k.useEffect(()=>(D?L.current=setInterval(()=>{A(G=>{if(xe().type==="stopwatch")return G+1;{const le=G-1;return le<=0?(O(!1),j(),0):le}})},1e3):L.current&&(clearInterval(L.current),L.current=null),()=>{L.current&&clearInterval(L.current)}),[D]);const V=n[f],B=n.length,ee=n.reduce((G,oe)=>G+oe.timeEstimate,0),X=y.reduce((G,oe)=>{const le=n.find(Y=>Y.id===oe);return G+((le==null?void 0:le.timeEstimate)||0)},0),se=B>0?y.length/B*100:0;k.useEffect(()=>{let G;return M(null,null,function*(){try{xf(),(E==="sidebar"||E==="focus")&&(yield St.setAlwaysOnTop(!0),yield St.setVisibleOnAllWorkspaces(!0),G=setInterval(()=>M(null,null,function*(){try{(yield St.isAlwaysOnTop())||(yield St.setAlwaysOnTop(!0),yield St.setFocus())}catch(le){}}),2e3))}catch(le){console.error("Failed to setup always-on-top maintenance:",le)}}),()=>{G&&clearInterval(G)}},[E]),k.useEffect(()=>{M(null,null,function*(){try{switch(xf(),E){case"sidebar":yield St.setSize(220,500),yield St.setResizable(!1),yield St.setPosition(0,0),yield St.setAlwaysOnTop(!0),yield St.setVisibleOnAllWorkspaces(!0),yield St.setMinimizable(!0),yield St.setFullscreen(!1);break;case"focus":yield St.setSize(220,60),yield St.setResizable(!1),yield St.setPosition(0,0),yield St.setAlwaysOnTop(!0),yield St.setVisibleOnAllWorkspaces(!0),yield St.setMinimizable(!0),yield St.setDecorations(!1),yield St.setFullscreen(!1);break;case"fullscreen":yield St.setSize(1376,800),yield St.setResizable(!0),yield St.setAlwaysOnTop(!1),yield St.setVisibleOnAllWorkspaces(!1),yield St.setMinimizable(!0),yield St.setDecorations(!0),yield St.setFullscreen(!1),yield St.center();break}}catch(oe){console.error("Failed to resize window:",oe)}})},[E]),k.useEffect(()=>{l==null||l(E)},[E,l]);const ce=()=>M(null,null,function*(){try{P("fullscreen"),setTimeout(()=>{o()},100)}catch(G){console.error("Failed to restore window size:",G),o()}}),ke=()=>M(null,null,function*(){try{xf(),(E==="sidebar"||E==="focus")&&(yield St.setAlwaysOnTop(!1),yield St.setVisibleOnAllWorkspaces(!1)),yield St.minimize()}catch(G){console.error("Failed to minimize window:",G)}});k.useEffect(()=>{y.length===B&&B>0&&(P("fullscreen"),setTimeout(()=>{g(B)},1e3))},[y.length,B]);const xe=()=>{if(w)return{type:"countdown",duration:S==="long-break"?15*60:5*60,label:S==="long-break"?"Long Break":"Short Break"};switch(e){case"pomodoro":return{type:"pomodoro",duration:(t||25)*60,label:`Pomodoro: ${(V==null?void 0:V.title)||"Work Session"}`};case"stopwatch":return{type:"stopwatch",label:`Tracking: ${(V==null?void 0:V.title)||"Work Session"}`};case"countdown":default:return{type:"countdown",duration:r?r*60:V?Math.max(V.timeEstimate,1)*60:25*60,label:`Focus: ${(V==null?void 0:V.title)||"Work Session"}`}}},me=G=>{const oe=Math.floor(Math.abs(G)/60),le=Math.abs(G)%60;return`${oe.toString().padStart(2,"0")}:${le.toString().padStart(2,"0")}`},pe=()=>{O(!D)},j=()=>{w?(C(!1),T("work")):V&&H(V.id)},H=G=>{if(y.includes(G))return;const oe=[...y,G];if(x(oe),s(G),oe.length===B)return;const le=f+1;if(le<B){g(le);const he=oe.length%4===0;C(!0),T(he?"long-break":"short-break")}},$=()=>{const G=f+1;G<B&&g(G)},F=()=>{C(!1),T("work")};if(!V&&!w)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-accent/20 to-primary/10 flex items-center justify-center p-4",children:a.jsxs(pt,{className:"max-w-md w-full",children:[a.jsxs(Lt,{className:"text-center",children:[a.jsx(Ft,{className:"text-2xl text-primary",children:"🎉 Sprint Complete!"}),a.jsx(Wt,{children:"Great job! You've completed all your tasks for today."})]}),a.jsxs(Mt,{className:"text-center space-y-4",children:[a.jsxs("div",{className:"bg-accent/50 border border-primary/20 p-4 rounded-lg",children:[a.jsxs("p",{className:"text-lg font-semibold text-primary",children:[y.length," tasks completed"]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[Math.floor(X/60),"h ",X%60,"m of focused work"]})]}),a.jsx(de,{onClick:ce,className:"w-full",children:"Return to Dashboard"})]})]})});const q=()=>a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-accent/20 to-primary/10 p-4 pt-8",children:a.jsxs("div",{className:"max-w-lg mx-auto space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Sprint Mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Stay focused and get things done"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(de,{variant:"outline",size:"sm",onClick:()=>P("sidebar"),children:a.jsx(jw,{className:"w-4 h-4"})}),a.jsx(de,{variant:"outline",onClick:ce,children:"Exit Sprint"})]})]}),a.jsxs(pt,{children:[a.jsx(Lt,{className:"pb-3",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Ft,{className:"text-lg",children:"Progress"}),a.jsxs(Ot,{variant:"secondary",children:[y.length," / ",B," tasks"]})]})}),a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"w-full bg-muted rounded-full h-3",children:a.jsx("div",{className:"bg-primary h-3 rounded-full transition-all duration-500",style:{width:`${se}%`}})}),a.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:[Math.floor(X/60),"h ",X%60,"m completed"]}),a.jsxs("span",{children:[Math.floor(ee/60),"h ",ee%60,"m total"]})]})]})})]}),V&&!w&&a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{className:"flex items-center gap-2",children:"🎯 Current Task"}),a.jsx(Wt,{children:V.title})]}),a.jsxs(Mt,{children:[V.description&&a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:V.description})," ",a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(de,{onClick:()=>H(V.id),disabled:y.includes(V.id),className:"flex-1",children:[a.jsx($s,{className:"w-4 h-4 mr-2"}),y.includes(V.id)?"Completed":"Mark Complete"]}),a.jsx(de,{variant:"outline",onClick:$,disabled:f>=B-1,children:a.jsx(jp,{className:"w-4 h-4"})})]})]})]}),w&&a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsxs(Ft,{className:"flex items-center gap-2",children:["☕ Time for a Break",a.jsx(Ot,{variant:"secondary",children:S==="long-break"?"Long Break":"Short Break"})]}),a.jsx(Wt,{children:S==="long-break"?"Take a longer break, you've earned it!":"Take a quick break to recharge"})]}),a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("p",{children:"• Stretch your body"}),a.jsx("p",{children:"• Drink some water"}),a.jsx("p",{children:"• Rest your eyes"})]}),a.jsx(de,{variant:"outline",onClick:F,className:"w-full",children:"Skip Break"})]})})," "]})," ",!w&&a.jsxs(pt,{children:[a.jsx(Lt,{children:a.jsx(Ft,{className:"text-lg",children:"Up Next"})}),a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-2",children:[n.slice(f+1,f+4).map(G=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-accent/30 border border-border/30 rounded text-sm",children:[a.jsx("span",{className:"truncate text-foreground",children:G.title}),a.jsxs(Ot,{variant:"outline",className:"text-xs",children:[G.timeEstimate,"min"]})]},G.id)),n.length>f+4&&a.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:["+",n.length-f-4," more tasks"]})]})})]})]})}),W=()=>a.jsxs("div",{className:"fixed left-0 top-0 w-full bg-background/95 backdrop-blur border-r border-border z-50 overflow-y-auto",children:[a.jsx(ju,{boards:u||[],tasks:n,onSelectBoard:G=>o(),onTaskClick:d,onNavigateToBoards:()=>o()}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-2 border-b border-border/30","data-tauri-drag-region":!0,children:[a.jsx("h2",{className:"text-sm font-semibold text-foreground",children:"Sprint Mode"}),a.jsx(de,{variant:"ghost",size:"sm",onClick:ke,className:"h-6 w-6 p-0 opacity-50 hover:opacity-100",title:"Minimize window",children:a.jsx(jw,{className:"w-3 h-3"})})]}),a.jsxs("div",{className:"p-3 space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Progress"}),a.jsxs(Ot,{variant:"secondary",className:"text-xs",children:[y.length,"/",B]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-1.5",children:a.jsx("div",{className:"bg-primary h-1.5 rounded-full transition-all duration-500",style:{width:`${se}%`}})})," "]}),V&&!w&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs font-medium text-foreground truncate",children:"Current Task: "}),a.jsx("div",{className:"text-sm font-medium text-foreground ",children:V.title}),a.jsxs("div",{className:"grid grid-cols-2 gap-1",children:[" ",a.jsx(de,{size:"sm",onClick:()=>H(V.id),disabled:y.includes(V.id),className:"h-7 text-xs",children:(y.includes(V.id),"✓ Done")}),a.jsx(de,{variant:"outline",size:"sm",onClick:$,disabled:f>=B-1,className:"h-7 text-xs",children:"Skip"})]})]}),w&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-xs font-medium text-foreground",children:"Break Time"}),a.jsx(Ot,{variant:"secondary",className:"text-xs",children:S==="long-break"?"Long":"Short"}),a.jsx(de,{variant:"outline",size:"sm",onClick:F,className:"w-full h-7 text-xs",children:"Skip Break"})]})," ",a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Timer"}),a.jsxs("div",{className:"bg-accent/30 rounded p-2 text-center space-y-2",children:[a.jsx("div",{className:"text-lg font-mono text-primary font-bold",children:me(I)}),a.jsxs(de,{size:"sm",onClick:pe,className:"h-6 w-full text-xs",variant:D?"outline":"default",children:[D?a.jsx(Aw,{className:"w-3 h-3 mr-1"}):a.jsx(Pw,{className:"w-3 h-3 mr-1"}),D?"Pause":"Start"]})]})]}),!w&&n.slice(f+1,f+3).length>0&&a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Coming Up"}),n.slice(f+1,f+3).map(G=>a.jsx(a.Fragment,{children:a.jsx("div",{className:"text-xs bg-accent/30 rounded p-1.5 truncate text-foreground",children:G.title},G.id)}))]}),a.jsxs("div",{className:"pt-2 border-t border-border space-y-1",children:[a.jsx(de,{size:"sm",onClick:()=>P("focus"),className:"w-full h-7 text-xs",variant:"outline",children:"Focus Mode"}),a.jsx(de,{size:"sm",onClick:ce,className:"w-full h-7 text-xs",variant:"outline",children:"Exit Sprint"})]})]})]})," "]}),ne=()=>a.jsxs("div",{className:`w-full h-full border border-border rounded-lg shadow-lg group relative overflow-hidden ${w?"bg-green-50 dark:bg-green-950":"bg-card"}`,children:[a.jsx(de,{variant:"ghost",size:"sm",onClick:ke,className:"absolute top-0.5 right-0.5 h-3 w-3 p-0 opacity-20 hover:opacity-80 text-xs z-10",title:"Minimize",children:"−"}),a.jsxs("div",{className:"w-full h-full flex items-center justify-between px-3 py-2 group-hover:opacity-0 transition-opacity duration-200","data-tauri-drag-region":!0,children:[a.jsx("div",{className:`font-medium text-sm truncate flex-1 mr-2 ${w?"text-green-700 dark:text-green-300":"text-foreground"}`,children:V?V.title:w?`🌿 ${S==="long-break"?"Long Break":"Short Break"}`:"Sprint"}),a.jsx("div",{className:"text-sm font-mono text-primary font-bold",children:me(I)})]}),a.jsx("div",{className:"absolute inset-0 bg-card/95 backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-200 flex items-center justify-center",children:a.jsxs("div",{className:"flex gap-1",children:[V&&!w&&a.jsxs(a.Fragment,{children:[a.jsx(de,{size:"sm",onClick:()=>H(V.id),disabled:y.includes(V.id),className:"h-6 w-6 p-0 text-xs",title:"Mark Done",children:a.jsx($s,{size:12})}),a.jsx(de,{variant:"outline",size:"sm",onClick:$,disabled:f>=B-1,className:"h-6 w-6 p-0 text-xs",title:"Skip Task",children:a.jsx(jp,{size:12})})]}),w&&a.jsx(de,{variant:"outline",size:"sm",onClick:F,className:"h-6 w-6 p-0 text-xs",title:"Skip Break",children:a.jsx(jp,{size:12})}),a.jsx(de,{variant:"outline",size:"sm",onClick:pe,className:"h-6 w-6 p-0 text-xs",title:D?"Pause Timer":"Start Timer",children:D?a.jsx(Aw,{size:12}):a.jsx(Pw,{size:12})}),a.jsx(de,{variant:"outline",size:"sm",onClick:()=>P("sidebar"),className:"h-6 w-6 p-0 text-xs",title:"Expand to Sidebar",children:a.jsx(mj,{size:12})}),a.jsx(de,{variant:"outline",size:"sm",onClick:ce,className:"h-6 w-6 p-0 text-xs",title:"End Sprint",children:a.jsx(ms,{size:12})})]})})]});return a.jsxs(a.Fragment,{children:[E==="sidebar"&&W(),E==="focus"&&ne(),E==="fullscreen"&&q()]})}const t2=k.createContext(void 0);function oQ({children:n}){const[e,t]=k.useState(()=>{const s=localStorage.getItem("dayflow-theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});k.useEffect(()=>{const s=window.document.documentElement;s.classList.remove("light","dark"),s.classList.add(e),localStorage.setItem("dayflow-theme",e)},[e]);const r=()=>{t(s=>s==="light"?"dark":"light")};return a.jsx(t2.Provider,{value:{theme:e,setTheme:t,toggleTheme:r},children:n})}function iQ(){const n=k.useContext(t2);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n}const aQ=yu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),bo=k.forwardRef((s,r)=>{var o=s,{className:n,variant:e}=o,t=Q(o,["className","variant"]);return a.jsx("div",b({ref:r,role:"alert",className:ae(aQ({variant:e}),n)},t))});bo.displayName="Alert";const To=k.forwardRef((r,t)=>{var s=r,{className:n}=s,e=Q(s,["className"]);return a.jsx("div",b({ref:t,className:ae("text-sm [&_p]:leading-relaxed",n)},e))});To.displayName="AlertDescription";const lQ=n=>{var s,o;const e=((s=n.summary)==null?void 0:s.toLowerCase())||"",t=((o=n.id)==null?void 0:o.toLowerCase())||"";return!["holiday","holidays","observance","phases of the moon","week numbers","#contacts@group.v.calendar.google.com","@import.calendar.google.com"].some(l=>e.includes(l)||t.includes(l))};function cQ({userPreferences:n,onUpdateUserPreferences:e,isAuthenticated:t,isLoading:r,error:s,calendars:o,handleAuthCallback:l,disconnect:u,setSelectedCalendarId:d,authenticate:f}){const[g,y]=k.useState(!1),[x,w]=k.useState(!0),[C,S]=k.useState(""),[T,E]=k.useState(!1),[P,I]=k.useState("idle"),[A,D]=k.useState(null),O=o.filter(lQ);k.useEffect(()=>{const X=new URLSearchParams(window.location.search),se=X.get("code"),ce=X.get("error");se&&!t?(console.log("Found OAuth authorization code in URL, processing..."),window.history.replaceState({},document.title,window.location.pathname),l(se)):ce&&(console.error("OAuth error:",ce),window.history.replaceState({},document.title,window.location.pathname))},[t,l]),k.useEffect(()=>{M(null,null,function*(){if(!t){D(null);return}try{const se=Zn();if(se){const ce=yield se.hasTasksScope();D(ce)}}catch(se){console.warn("Failed to check Tasks scope:",se),D(!1)}})},[t]),k.useEffect(()=>{n&&(y(n.googleCalendarAutoSync),w(n.googleCalendarSyncOnlyScheduled),n.googleCalendarSelectedCalendar&&(S(n.googleCalendarSelectedCalendar),d(n.googleCalendarSelectedCalendar)))},[n,d]),k.useEffect(()=>{if(!n)return;const X=n.googleCalendarAutoSync!==g||n.googleCalendarSyncOnlyScheduled!==x||n.googleCalendarSelectedCalendar!==C;E(X),X&&I("idle")},[g,x,C,n]);const L=()=>M(null,null,function*(){if(!e){console.error("onUpdateUserPreferences not provided");return}try{I("saving"),yield e({googleCalendarEnabled:t,googleCalendarAutoSync:g,googleCalendarSyncOnlyScheduled:x,googleCalendarSelectedCalendar:C||void 0}),I("saved"),E(!1),setTimeout(()=>I("idle"),2e3)}catch(X){console.error("Failed to save settings:",X),I("error"),setTimeout(()=>I("idle"),3e3)}}),V=()=>{console.log("Starting Google Calendar OAuth flow..."),f()},B=X=>{S(X),d(X)},ee=()=>M(null,null,function*(){yield u(),e&&(yield e({googleCalendarEnabled:!1,googleCalendarSelectedCalendar:void 0}))});return a.jsxs(pt,{className:"w-full",children:[a.jsxs(Lt,{children:[a.jsxs(Ft,{className:"flex items-center gap-2",children:[a.jsx(tn,{className:"h-5 w-5"}),"Google Calendar Integration"]}),a.jsx(Wt,{children:"Connect once and your scheduled tasks will automatically sync with Google Calendar forever."})]}),a.jsxs(Mt,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:"Connection Status"}),t?a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Ot,{variant:"default",className:"flex items-center gap-1",children:[a.jsx(or,{className:"h-3 w-3"}),"Connected & Persistent"]}),A===!1&&a.jsxs(Ot,{variant:"destructive",className:"flex items-center gap-1",children:[a.jsx(_r,{className:"h-3 w-3"}),"No Tasks Access"]}),A===!0&&a.jsxs(Ot,{variant:"outline",className:"flex items-center gap-1 text-green-700 border-green-200 bg-green-50",children:[a.jsx(or,{className:"h-3 w-3"}),"Tasks Enabled"]})]}):a.jsxs(Ot,{variant:"secondary",className:"flex items-center gap-1",children:[a.jsx(_r,{className:"h-3 w-3"}),"Not Connected"]})]}),t?a.jsxs(de,{variant:"outline",onClick:ee,disabled:r,className:"flex items-center gap-2",children:[a.jsx(EA,{className:"h-4 w-4"}),"Disconnect"]}):a.jsxs(de,{onClick:V,disabled:r,className:"flex items-center gap-2",children:[a.jsx(Gk,{className:"h-4 w-4"}),r?"Connecting...":"Connect to Google Calendar"]})]}),s&&a.jsxs(bo,{children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsx(To,{className:"text-sm",children:s})]}),!t&&a.jsxs(bo,{children:[a.jsx(tn,{className:"h-4 w-4"}),a.jsxs(To,{children:[a.jsx("strong",{children:"One-time setup:"})," Connect your Google Calendar once and your tasks will automatically sync forever. No need to reconnect or worry about expired sessions."]})]}),t&&A===!1&&a.jsxs(bo,{children:[a.jsx(VI,{className:"h-4 w-4"}),a.jsxs(To,{children:[a.jsx("strong",{children:"Google Tasks Import:"})," Your connection doesn't have access to Google Tasks. To enable importing from Google Tasks, please disconnect and reconnect to grant additional permissions."]})]}),t&&a.jsxs(a.Fragment,{children:[a.jsx(ea,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Mr,{htmlFor:"calendar-select",className:"text-sm font-medium",children:"Target Calendar"}),a.jsxs(dn,{value:C,onValueChange:B,disabled:r,children:[a.jsx(nn,{children:a.jsx(fn,{placeholder:"Select a calendar for syncing tasks"})}),a.jsx(rn,{children:O.map(X=>a.jsx(Ye,{value:X.id,children:a.jsxs("div",{className:"flex items-center justify-between w-full",children:[a.jsx("span",{children:X.summary}),X.primary&&a.jsx(Ot,{variant:"outline",className:"ml-2 text-xs",children:"Primary"})]})},X.id))})]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[O.length," calendars available"]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Mr,{htmlFor:"auto-sync",className:"text-sm font-medium",children:"Auto-sync"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically sync tasks to Google Calendar when scheduled"})]}),a.jsx(ky,{id:"auto-sync",checked:g,onCheckedChange:y})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Mr,{htmlFor:"sync-only-scheduled",className:"text-sm font-medium",children:"Sync only scheduled tasks"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Only sync tasks that have a scheduled date or time"})]}),a.jsx(ky,{id:"sync-only-scheduled",checked:x,onCheckedChange:w})]})]}),T&&a.jsxs(a.Fragment,{children:[a.jsx(ea,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"You have unsaved changes"}),a.jsxs(de,{onClick:L,disabled:P==="saving",variant:"default",className:"flex items-center gap-2",children:[a.jsx(qk,{className:"h-4 w-4"}),P==="saving"?"Saving...":P==="saved"?"Saved!":P==="error"?"Error - Try Again":"Save Settings"]})]})]})]})]})]})}function uQ(n,e=[]){const[t,r]=k.useState(!1),[s,o]=k.useState(null),[l,u]=k.useState([]),d=k.useCallback(w=>e.some(C=>C.googleCalendarEventId===w),[e]),f=k.useCallback((w,C,S,T,E=!0,P="@default",I=!1)=>M(null,null,function*(){const A=Zn();if(!A||!A.isUserAuthenticated())throw new Error("Not authenticated with Google Calendar");r(!0),o(null);try{console.log("🔄 Starting calendar import preview...");const D=yield A.importEvents(w,C,S,T,E,P,I),O=D.filter(V=>V.googleCalendarEventId&&!d(V.googleCalendarEventId));console.log(`📋 ${O.length} new tasks ready for import (${D.length-O.length} duplicates filtered)`);const L=O.map(V=>({title:V.title,description:V.description,scheduledDate:V.scheduledDate,timeEstimate:V.timeEstimate,priority:V.priority,status:V.status,category:V.category,tags:V.tags||[],originalEventId:V.googleCalendarEventId}));return u(L),L}catch(D){const O=D instanceof Error?D.message:"Failed to import calendar events";throw console.error("❌ Calendar import failed:",D),o(O),D}finally{r(!1)}}),[d]),g=k.useCallback((w,C)=>M(null,null,function*(){r(!0),o(null);try{console.log(`🚀 Importing ${w.length} tasks from calendar...`);let S=0;const T=[];for(const E of w)try{const P={title:E.title,description:E.description,timeEstimate:E.timeEstimate,priority:E.priority,status:E.status,position:0,scheduledDate:E.scheduledDate,startDate:E.scheduledDate,category:E.category,tags:E.tags,boardId:C,progressPercentage:E.status==="done"?100:0,timeSpent:0,labels:[],attachments:[],googleCalendarEventId:E.originalEventId,googleCalendarSynced:!0};yield n(P),S++}catch(P){console.error(`Failed to import task "${E.title}":`,P),T.push(`"${E.title}": ${P instanceof Error?P.message:"Unknown error"}`)}if(T.length>0)throw new Error(`Imported ${S} tasks successfully, but ${T.length} failed:
${T.join(`
`)}`);console.log(`✅ Successfully imported ${S} tasks from Google Calendar`),u([])}catch(S){const T=S instanceof Error?S.message:"Failed to import some tasks";throw console.error("❌ Import confirmation failed:",S),o(T),S}finally{r(!1)}}),[n]),y=k.useCallback(()=>{u([]),o(null)},[]),x=k.useCallback(()=>M(null,null,function*(){const w=Zn();if(!w||!w.isUserAuthenticated())throw new Error("Not authenticated with Google Tasks");try{return yield w.getTaskLists()}catch(C){throw console.error("❌ Failed to fetch task lists:",C),C}}),[]);return{isLoading:t,error:s,previewTasks:l,importEvents:f,confirmImport:g,clearPreview:y,getTaskLists:x}}function dQ({calendars:n,boards:e,tasks:t,onAddTask:r,selectedBoardId:s}){const[o,l]=k.useState("primary"),[u,d]=k.useState(s),[f,g]=k.useState(!1),[y,x]=k.useState(new Set),[w,C]=k.useState("month"),[S,T]=k.useState(!0),[E,P]=k.useState("@default"),[I,A]=k.useState(!1),[D,O]=k.useState([]),{isLoading:L,error:V,previewTasks:B,importEvents:ee,confirmImport:X,clearPreview:se,getTaskLists:ce}=uQ(r,t);k.useEffect(()=>{M(null,null,function*(){if(S)try{const ne=yield ce();O(ne),console.log(`✅ Loaded ${ne.length} Google Task Lists`)}catch(ne){console.warn("Failed to load task lists:",ne),ne instanceof Error&&ne.message.includes("Google Tasks access not granted")?Rt.error("Google Tasks access not available. Please reconnect to Google Calendar to enable Google Tasks import."):ne instanceof Error&&ne.message.includes("Authentication expired")?Rt.error("Google authentication expired. Please reconnect to Google Calendar."):console.error("Unexpected error loading task lists:",ne),T(!1)}})},[ce,S]);const ke=()=>M(null,null,function*(){try{const W=new Date;let ne,G;switch(w){case"week":ne=new Date(W.getTime()-7*24*60*60*1e3),G=new Date(W.getTime()+7*24*60*60*1e3);break;case"month":ne=new Date(W.getTime()-30*24*60*60*1e3),G=new Date(W.getTime()+30*24*60*60*1e3);break;default:ne=new Date(W.getTime()-30*24*60*60*1e3),G=new Date(W.getTime()+30*24*60*60*1e3)}const oe=yield ee(o,u,ne,G,S,E,I);if(oe.length===0){const le=S?"events or tasks":"events";Rt.info(`No new ${le} found to import`);return}x(new Set(oe.map(le=>le.originalEventId))),g(!0)}catch(W){Rt.error("Failed to load calendar events"),console.error("Import preview failed:",W)}}),xe=()=>M(null,null,function*(){try{const W=B.filter(G=>y.has(G.originalEventId));if(W.length===0){Rt.error("No tasks selected for import");return}yield X(W,u);const ne=S?"Google Calendar & Tasks":"Google Calendar";Rt.success(`Successfully imported ${W.length} items from ${ne}`),g(!1),x(new Set)}catch(W){Rt.error("Failed to import selected tasks"),console.error("Import confirmation failed:",W)}}),me=W=>{const ne=new Set(y);ne.has(W)?ne.delete(W):ne.add(W),x(ne)},pe=()=>{y.size===B.length?x(new Set):x(new Set(B.map(W=>W.originalEventId)))},j=y.size,H=j===B.length,$=W=>({1:"bg-gray-100 text-gray-800",2:"bg-blue-100 text-blue-800",3:"bg-yellow-100 text-yellow-800",4:"bg-red-100 text-red-800"})[W],F=W=>({1:"Low",2:"Medium",3:"High",4:"Critical"})[W],q=W=>({backlog:"bg-gray-100 text-gray-800","this-week":"bg-blue-100 text-blue-800",today:"bg-green-100 text-green-800",done:"bg-purple-100 text-purple-800"})[W];return a.jsxs(a.Fragment,{children:[a.jsxs(pt,{className:"w-full",children:[a.jsxs(Lt,{children:[a.jsxs(Ft,{className:"flex items-center gap-2",children:[a.jsx(vg,{className:"h-5 w-5"}),"Import from Google Calendar"]}),a.jsx(Wt,{children:"Import existing calendar events and Google Tasks into DayFlow. Duplicates and DayFlow-created items are automatically filtered out."})]}),a.jsxs(Mt,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium",children:"Source Calendar"}),a.jsxs(dn,{value:o,onValueChange:l,children:[a.jsx(nn,{children:a.jsx(fn,{placeholder:"Select calendar to import from"})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"primary",children:"Primary Calendar"}),n.map(W=>a.jsx(Ye,{value:W.id,children:W.summary||W.id},W.id))]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium",children:"Target Board"}),a.jsxs(dn,{value:(u==null?void 0:u.toString())||"",onValueChange:W=>d(W?parseInt(W):void 0),children:[a.jsx(nn,{children:a.jsx(fn,{placeholder:"Select board for imported tasks"})}),a.jsx(rn,{children:e.map(W=>a.jsx(Ye,{value:W.id.toString(),children:a.jsxs("div",{className:"flex items-center gap-2",children:[W.icon&&a.jsx("span",{children:W.icon}),a.jsx("span",{children:W.name})]})},W.id))})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"text-sm font-medium",children:"Date Range"}),a.jsxs(dn,{value:w,onValueChange:W=>C(W),children:[a.jsx(nn,{children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"week",children:"Past & Next Week"}),a.jsx(Ye,{value:"month",children:"Past & Next Month"})]})]})]}),a.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("label",{className:"text-sm font-medium",children:"Import Sources"}),a.jsx(Ot,{variant:"outline",children:"Enhanced Import"})]}),a.jsxs(bo,{children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsxs(To,{className:"text-xs",children:[a.jsx("strong",{children:"Note:"})," Google Tasks import requires additional permissions. If you connected to Google Calendar before this feature was added, you may need to reconnect in Settings to enable Google Tasks access."]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("label",{className:"text-sm font-medium",children:"Include Google Tasks"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Import tasks from Google Tasks in addition to calendar events"})]}),a.jsx(En,{checked:S,onCheckedChange:W=>T(W===!0)})]}),S&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Google Task List"}),a.jsxs(dn,{value:E,onValueChange:P,children:[a.jsx(nn,{children:a.jsx(fn,{placeholder:"Select task list"})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"@default",children:"My Tasks (Default)"}),D.map(W=>a.jsx(Ye,{value:W.id,children:W.title},W.id))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("label",{className:"text-sm font-medium",children:"Include Completed Tasks"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Import tasks that are already marked as completed"})]}),a.jsx(En,{checked:I,onCheckedChange:W=>A(W===!0)})]})]})]})]}),V&&a.jsxs(bo,{children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsx(To,{children:V})]}),a.jsx(de,{onClick:ke,disabled:L||!o,className:"w-full",children:L?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading Events..."]}):a.jsxs(a.Fragment,{children:[a.jsx(vg,{className:"h-4 w-4 mr-2"}),"Preview Import"]})})]})]}),a.jsx(Us,{open:f,onOpenChange:W=>{g(W),W||(se(),x(new Set))},children:a.jsxs(Vs,{className:"max-w-4xl max-h-[80vh] overflow-hidden flex flex-col",children:[a.jsxs(pi,{children:[a.jsx(_o,{children:"Import Preview"}),a.jsxs(ko,{children:["Review and select events to import as tasks. ",B.length," events found."]})]}),a.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{checked:H,onCheckedChange:pe}),a.jsxs("span",{className:"text-sm font-medium",children:["Select All (",j," of ",B.length,")"]})]}),a.jsxs(Ot,{variant:"outline",children:[j," task",j!==1?"s":""," selected"]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:B.map(W=>a.jsx("div",{className:`border rounded-lg p-4 space-y-3 ${y.has(W.originalEventId)?"border-primary bg-primary/5":"border-border"}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(En,{checked:y.has(W.originalEventId),onCheckedChange:()=>me(W.originalEventId),className:"mt-1"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"font-medium",children:W.title}),W.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:W.description}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(Ot,{className:$(W.priority),children:[a.jsx(Jk,{className:"h-3 w-3 mr-1"}),F(W.priority)]}),a.jsxs(Ot,{className:q(W.status),children:[a.jsx(xI,{className:"h-3 w-3 mr-1"}),W.status.replace("-"," ")]}),a.jsxs(Ot,{variant:"outline",children:[a.jsx(wr,{className:"h-3 w-3 mr-1"}),W.timeEstimate,"m"]}),W.scheduledDate&&a.jsxs(Ot,{variant:"outline",children:[a.jsx(tn,{className:"h-3 w-3 mr-1"}),Kn(new Date(W.scheduledDate),"MMM d, h:mm a")]}),W.category&&a.jsxs(Ot,{variant:"outline",children:[a.jsx(xA,{className:"h-3 w-3 mr-1"}),W.category]})]}),W.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1",children:W.tags.map((ne,G)=>a.jsx("span",{className:"text-xs bg-muted px-2 py-1 rounded",children:ne},G))})]})]})},W.originalEventId))})]}),a.jsxs(Xi,{children:[a.jsx(de,{variant:"outline",onClick:()=>g(!1),disabled:L,children:"Cancel"}),a.jsx(de,{onClick:xe,disabled:L||j===0,children:L?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"h-4 w-4 mr-2 animate-spin"}),"Importing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(or,{className:"h-4 w-4 mr-2"}),"Import ",j," Task",j!==1?"s":""]})})]})]})})]})}function fQ(n,e,t){const[r,s]=k.useState(!1),[o,l]=k.useState(!1),[u,d]=k.useState(null),[f,g]=k.useState([]),[y,x]=k.useState("primary"),w=k.useCallback(D=>{},[t]),C=k.useCallback(()=>M(null,null,function*(){const D=Zn();if(!D){console.log("Cannot load calendars: service not initialized");return}if(!D.isUserAuthenticated()){console.log("Cannot load calendars: service not authenticated");return}try{l(!0),d(null),console.log("Loading calendars...");const O=yield D.getCalendarList();console.log("Calendars loaded:",O),g(O)}catch(O){console.error("Failed to load calendars:",O),O instanceof Error&&O.message.includes("Authentication expired")?(d("Your Google Calendar session has expired. Please reconnect to continue."),s(!1)):d("Failed to load calendars. Please try reconnecting.")}finally{l(!1)}}),[]);k.useEffect(()=>{M(null,null,function*(){const O=nE(n),{data:{user:L}}=yield Ke.auth.getUser();if(!L){console.log("No authenticated user found");return}O.setUserId(L.id);const V=yield O.loadStoredTokens(),B=O.isUserAuthenticated();if(console.log("Google Calendar initialization:",{hasStoredTokens:V,isServiceAuthenticated:B,userId:L.id,config:{hasClientId:!!n.clientId,redirectUri:n.redirectUri}}),s(B),B)try{l(!0),d(null),console.log("Loading calendars...");const ee=yield O.getCalendarList();console.log("Calendars loaded:",ee),g(ee)}catch(ee){console.error("Failed to load calendars:",ee),ee instanceof Error&&ee.message.includes("Authentication expired")?(d("Your Google Calendar session has expired. Please reconnect to continue."),s(!1)):d("Failed to load calendars. Please try reconnecting.")}finally{l(!1)}})},[n]);const S=k.useCallback(()=>{const D=Zn();if(!D)throw new Error("Google Calendar service not initialized");return D.getAuthUrl()},[]),T=k.useCallback(()=>{const D=S();window.location.href=D},[S]),E=k.useCallback(D=>M(null,null,function*(){const O=Zn();if(!O){d("Google Calendar service not initialized");return}try{l(!0),d(null),console.log("Processing Google Calendar authorization code...");const{data:{user:L}}=yield Ke.auth.getUser();if(!L)throw new Error("User not authenticated");console.log("User authenticated, setting user ID:",L.id),O.setUserId(L.id),console.log("Calling exchangeCodeForTokens..."),yield O.exchangeCodeForTokens(D);const V=O.isUserAuthenticated();console.log("Authentication result:",V),s(V),V&&(yield C(),console.log("✅ Google Calendar connected successfully"))}catch(L){console.error("Authentication failed:",L),d(`Authentication failed: ${L instanceof Error?L.message:"Unknown error"}`),s(!1)}finally{l(!1)}}),[C]),P=k.useCallback(()=>M(null,null,function*(){const D=Zn();if(D)try{l(!0),console.log("Disconnecting from Google Calendar"),yield D.disconnect(),s(!1),g([]),x("primary"),d(null),console.log("✅ Google Calendar disconnected successfully")}catch(O){console.error("Failed to disconnect from Google Calendar:",O),d("Failed to disconnect from Google Calendar")}finally{l(!1)}}),[]),I=k.useCallback(D=>M(null,null,function*(){const O=Zn();if(!O||!O.isUserAuthenticated())throw new Error("Not authenticated with Google Calendar");if(!D.scheduledDate&&!D.startDate)throw new Error("Task must have a scheduled date or start date to sync");try{let L=null;const V=w(D);D.googleCalendarEventId?(console.log("🔄 Updating existing Google Calendar event:",D.googleCalendarEventId),yield O.updateEvent(D,D.googleCalendarEventId,y,V),L=D.googleCalendarEventId):(console.log("➕ Creating new Google Calendar event"),L=yield O.createEvent(D,y,V)),e&&L&&(yield e(D.id,{googleCalendarEventId:L,googleCalendarSynced:!0}),console.log("✅ Successfully linked task to Google Calendar event"))}catch(L){throw console.error("❌ Failed to sync task to Google Calendar:",L),e&&(yield e(D.id,{googleCalendarSynced:!1})),L}}),[y,e,w]),A=k.useCallback(D=>M(null,null,function*(){const O=Zn();if(!O||!O.isUserAuthenticated())throw new Error("Not authenticated with Google Calendar");if(!D.googleCalendarEventId)throw new Error("Task is not synced with Google Calendar");try{yield O.deleteEvent(D.googleCalendarEventId,y),e&&(yield e(D.id,{googleCalendarEventId:void 0,googleCalendarSynced:!1}))}catch(L){throw console.error("❌ Failed to remove task from Google Calendar:",L),L}}),[y,e]);return{isAuthenticated:r,isLoading:o,error:u,calendars:f,selectedCalendarId:y,authenticate:T,handleAuthCallback:E,disconnect:P,syncTask:I,unsyncTask:A,setSelectedCalendarId:x,getAuthUrl:S}}const Cy={clientId:"396651979133-t41mkb1t8imdj64a6avnjjjnjpn8qaad.apps.googleusercontent.com",redirectUri:"http://localhost:1420"};function hQ(){return!!(Cy.clientId&&Cy.redirectUri)}const fi={googleCalendar:Cy,validateGoogleCalendar:hQ};function mQ({tasks:n,onTaskUpdate:e,onAddTask:t,onManualSyncTask:r,onManualUnsyncTask:s,boards:o,userPreferences:l,onUpdateUserPreferences:u}){const[d,f]=k.useState(!1),[g,y]=k.useState({totalScheduledTasks:0,syncedTasks:0,unsyncedTasks:0}),x=(L,V)=>M(null,null,function*(){yield e(L,V)}),{isAuthenticated:w,calendars:C,isLoading:S,error:T,handleAuthCallback:E,disconnect:P,setSelectedCalendarId:I,authenticate:A}=fQ(fi.googleCalendar,x);k.useEffect(()=>{f(fi.validateGoogleCalendar())},[]),k.useEffect(()=>{const L=n.filter(B=>B.scheduledDate||B.startDate),V=n.filter(B=>B.googleCalendarSynced);y({totalScheduledTasks:L.length,syncedTasks:V.length,unsyncedTasks:L.length-V.length})},[n]);const D=()=>M(null,null,function*(){if(!r){Rt.error("Sync function not available");return}const L=n.filter(B=>(B.scheduledDate||B.startDate)&&!B.googleCalendarSynced);if(L.length===0){Rt.info("No tasks to sync");return}const V=Rt.loading(`Syncing ${L.length} tasks...`);try{const B=yield Promise.allSettled(L.map(se=>r(se))),ee=B.filter(se=>se.status==="fulfilled").length,X=B.filter(se=>se.status==="rejected").length;ee>0&&Rt.success(`Successfully synced ${ee} tasks`,{id:V}),X>0&&Rt.error(`Failed to sync ${X} tasks`,{id:V})}catch(B){Rt.error("Failed to sync tasks",{id:V})}}),O=()=>M(null,null,function*(){if(!s){Rt.error("Unsync function not available");return}const L=n.filter(B=>B.googleCalendarSynced);if(L.length===0){Rt.info("No synced tasks to remove");return}const V=Rt.loading(`Removing ${L.length} tasks from calendar...`);try{const B=yield Promise.allSettled(L.map(se=>s(se))),ee=B.filter(se=>se.status==="fulfilled").length,X=B.filter(se=>se.status==="rejected").length;ee>0&&Rt.success(`Successfully removed ${ee} tasks from calendar`,{id:V}),X>0&&Rt.error(`Failed to remove ${X} tasks`,{id:V})}catch(B){Rt.error("Failed to remove tasks from calendar",{id:V})}});return d?a.jsxs("div",{className:"space-y-6",children:[a.jsx(cQ,{userPreferences:l,onUpdateUserPreferences:u,isAuthenticated:w,isLoading:S,error:T,calendars:C,handleAuthCallback:E,disconnect:P,setSelectedCalendarId:I,authenticate:A}),w?a.jsx(dQ,{calendars:C,boards:o,tasks:n,onAddTask:t}):a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsxs(Ft,{className:"flex items-center gap-2",children:[a.jsx(vg,{className:"h-5 w-5"}),"Import from Google Calendar"]}),a.jsx(Wt,{children:"Connect to Google Calendar to import existing events as tasks"})]}),a.jsx(Mt,{children:a.jsxs(bo,{children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsx(To,{children:"Please connect to Google Calendar above to use import features."})]})})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsxs(Ft,{className:"flex items-center gap-2",children:[a.jsx(Zk,{className:"h-5 w-5"}),"Sync Manager"]}),a.jsx(Wt,{children:"Manage synchronization between your tasks and Google Calendar"})]}),a.jsxs(Mt,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(pt,{children:a.jsxs(Mt,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:g.totalScheduledTasks}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Scheduled Tasks"})]})}),a.jsx(pt,{children:a.jsxs(Mt,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:g.syncedTasks}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Synced to Calendar"})]})}),a.jsx(pt,{children:a.jsxs(Mt,{className:"p-4 text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:g.unsyncedTasks}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Not Synced"})]})})]}),a.jsx(ea,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Bulk Actions"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs(de,{onClick:D,disabled:!w||g.unsyncedTasks===0,className:"flex-1",children:[a.jsx(na,{className:"h-4 w-4 mr-2"}),"Sync All Unsynced Tasks"]}),a.jsxs(de,{variant:"outline",onClick:O,disabled:!w||g.syncedTasks===0,className:"flex-1",children:[a.jsx(na,{className:"h-4 w-4 mr-2"}),"Remove All from Calendar"]})]})]}),!w&&a.jsxs(bo,{children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsx(To,{children:"Connect to Google Calendar above to use sync features."})]})]})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsxs(Ft,{className:"flex items-center gap-2",children:[a.jsx(tn,{className:"h-5 w-5"}),"Integration Overview"]}),a.jsx(Wt,{children:"How the Google Calendar integration works with your tasks"})]}),a.jsxs(Mt,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${w?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:"font-medium",children:"Google Calendar"})]}),a.jsx(Ot,{variant:w?"default":"secondary",children:w?"Connected & Persistent":"Not Connected"})]}),a.jsx(ea,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Features"}),a.jsx("div",{className:"grid gap-3",children:[{icon:or,title:"Automatic Sync",description:"Tasks are automatically synced when scheduled or updated",enabled:!0},{icon:or,title:"Manual Control",description:"Right-click any task to manually sync or unsync",enabled:!0},{icon:or,title:"Bulk Operations",description:"Sync or unsync multiple tasks at once",enabled:!0},{icon:or,title:"Smart Filtering",description:"Only scheduled tasks are synced by default",enabled:!0}].map((L,V)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-muted/50 rounded-lg",children:[a.jsx(L.icon,{className:"h-5 w-5 text-green-600 mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:L.title}),a.jsx("div",{className:"text-sm text-muted-foreground",children:L.description})]})]},V))})]}),a.jsx(ea,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Usage Tips"}),a.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsx("li",{children:"• Schedule tasks with specific dates and times for automatic sync"}),a.jsx("li",{children:"• Use the context menu (right-click) to manually sync individual tasks"}),a.jsx("li",{children:"• Task updates (title, description, time) automatically sync to Google Calendar"}),a.jsx("li",{children:"• Deleting a task will remove it from Google Calendar"}),a.jsx("li",{children:"• Use the Sync Manager to handle multiple tasks at once"})]})]})]})]})]}):a.jsxs(pt,{className:"w-full",children:[a.jsxs(Lt,{children:[a.jsxs(Ft,{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"h-5 w-5 text-orange-500"}),"Google Calendar Setup Required"]}),a.jsx(Wt,{children:"Google Calendar integration is not configured. Please set up your API credentials."})]}),a.jsxs(Mt,{className:"space-y-4",children:[a.jsxs(bo,{children:[a.jsx(_r,{className:"h-4 w-4"}),a.jsx(To,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{children:"To use Google Calendar integration, you need to:"}),a.jsxs("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[a.jsxs("li",{children:["Go to ",a.jsx("a",{href:"https://console.developers.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Google Cloud Console"})]}),a.jsx("li",{children:"Create a new project or select an existing one"}),a.jsx("li",{children:"Enable the Google Calendar API"}),a.jsx("li",{children:a.jsx("strong",{children:'Create credentials (OAuth 2.0 Client ID) - Select "Web application" type'})}),a.jsx("li",{children:'Add your domain to "Authorized JavaScript origins" (e.g., https://yourdomain.com)'}),a.jsxs("li",{children:["For development, add: ",a.jsx("code",{children:"http://localhost:1420"})]}),a.jsx("li",{children:"Add the Client ID to your environment variables"})]}),a.jsx("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-md border border-blue-200 dark:border-blue-800",children:a.jsx("p",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"ℹ️ This integration uses Google Identity Services (GIS) - the modern, secure approach for web applications that doesn't require exposing client secrets."})})]})})]}),a.jsxs("div",{className:"bg-muted p-4 rounded-md",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Required Environment Variables:"}),a.jsx("pre",{className:"text-sm bg-background p-2 rounded border",children:`VITE_GOOGLE_CLIENT_ID=your_web_application_client_id
VITE_GOOGLE_REDIRECT_URI=http://localhost:1420`}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Note: No client secret required! Google Identity Services handles authentication securely."})]}),a.jsx(de,{asChild:!0,className:"w-full",children:a.jsxs("a",{href:"https://developers.google.com/calendar/api/quickstart",target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Gk,{className:"h-4 w-4 mr-2"}),"View Setup Guide"]})})]})]})}function pQ(e){var n=Q(e,[]);return a.jsx("nav",b({"aria-label":"breadcrumb","data-slot":"breadcrumb"},n))}function gQ(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("ol",b({"data-slot":"breadcrumb-list",className:ae("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",n)},e))}function Uk(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("li",b({"data-slot":"breadcrumb-item",className:ae("inline-flex items-center gap-1.5",n)},e))}function yQ(t){var r=t,{className:n}=r,e=Q(r,["className"]);return a.jsx("span",b({"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:ae("text-foreground font-normal",n)},e))}function vQ({activeSection:n,onSectionChange:e,onBackToBoards:t}){const r=[{id:"profile",name:"Profile",icon:wg,description:"Personal information and account"},{id:"appearance",name:"Appearance",icon:Dj,description:"Theme and visual preferences"},{id:"datetime",name:"Date & Time",icon:tn,description:"Date, time and timezone settings"},{id:"calendar",name:"Calendar",icon:Hk,description:"Calendar view and behavior"},{id:"tasks",name:"Tasks",icon:tu,description:"Task management preferences"},{id:"ai",name:"AI Scheduling",icon:ci,description:"Automatic task scheduling with AI"}];return a.jsxs(TS,{variant:"inset",children:[a.jsx(ES,{children:a.jsx(Zi,{children:a.jsx(js,{children:a.jsx(po,{size:"lg",asChild:!0,children:a.jsxs("div",{className:"cursor-default",children:[a.jsx("div",{className:"bg-sidebar-primary text-sidebar-primary-foreground flex aspect-square size-8 items-center justify-center rounded-lg",children:a.jsx(wg,{className:"size-4"})}),a.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[a.jsx("span",{className:"truncate font-medium",children:"Settings"}),a.jsx("span",{className:"truncate text-xs",children:"Customize your experience"})]})]})})})})}),a.jsxs(MS,{children:[a.jsxs(Bc,{children:[a.jsx(zc,{children:"Navigation"}),a.jsx(Wc,{children:a.jsx(Zi,{children:a.jsx(js,{children:a.jsxs(po,{onClick:t,tooltip:"Return to boards view",children:[a.jsx(ZI,{className:"size-4"}),a.jsx("span",{children:"Back to Boards"})]})})})})]}),a.jsxs(Bc,{children:[a.jsx(zc,{children:"Configuration"}),a.jsx(Wc,{children:a.jsx(Zi,{children:r.map(s=>{const o=s.icon;return a.jsx(js,{children:a.jsxs(po,{onClick:()=>e(s.id),isActive:n===s.id,tooltip:s.description,children:[a.jsx(o,{className:"size-4"}),a.jsx("span",{children:s.name})]})},s.id)})})})]})]})]})}function xQ({user:n,userPreferences:e,userProfile:t,onBack:r,onUpdatePreferences:s,onUpdateProfile:o,onSignOut:l,onUpdatePassword:u,onUpdateTask:d,onAddTask:f,tasks:g,boards:y}){const{setTheme:x}=iQ(),[w,C]=k.useState("profile"),[S,T]=k.useState(!1),[E,P]=k.useState(!1),[I,A]=k.useState(!1),[D,O]=k.useState(b({theme:"system",language:"en",dateFormat:"MM/DD/YYYY",timeFormat:"12h",weekStartsOn:0,autoSave:!0,showCompletedTasks:!1,taskSortBy:"priority",taskSortOrder:"asc",calendarDefaultZoom:1,calendarDefaultView:"3-day",boardDefaultView:"compact"},e)),[L,V]=k.useState(b({firstName:"",lastName:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},t));k.useEffect(()=>{e&&O(b({},e))},[e]),k.useEffect(()=>{t&&V(b({},t))},[t]);const B=(j,H)=>{O($=>U(b({},$),{[j]:H})),P(!0),j==="theme"&&x(H)},ee=(j,H)=>{V($=>U(b({},$),{[j]:H})),P(!0)},X=()=>M(null,null,function*(){T(!0);try{yield Promise.all([s(D),o(L)]),P(!1)}catch(j){console.error("Failed to save settings:",j)}finally{T(!1)}}),se=()=>{E?A(!0):r()},ce=()=>M(null,null,function*(){yield X(),A(!1),r()}),ke=()=>{P(!1),A(!1),r()},xe=()=>{A(!1)},me=()=>M(null,null,function*(){if(l){T(!0);try{const{error:j}=yield l();j&&console.error("Sign out error:",j)}catch(j){console.error("Sign out error:",j)}finally{T(!1)}}}),pe=()=>({profile:"Profile",appearance:"Appearance",datetime:"Date & Time",calendar:"Calendar",tasks:"Tasks",ai:"AI Scheduling"})[w];return a.jsxs(ku,{children:[a.jsx(vQ,{activeSection:w,onSectionChange:C,onBackToBoards:se}),a.jsxs(Cu,{children:[a.jsxs("header",{className:"flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12",children:[a.jsxs("div",{className:"flex items-center gap-2 px-4",children:[a.jsx(NS,{className:"-ml-1"}),a.jsx(ea,{orientation:"vertical",className:"mr-2 h-4"}),a.jsx(pQ,{children:a.jsxs(gQ,{children:[a.jsx(Uk,{children:a.jsxs(de,{variant:"ghost",size:"sm",onClick:se,className:"h-auto p-0 text-muted-foreground hover:text-foreground",children:[a.jsx(hl,{className:"h-4 w-4 mr-1"}),"Back"]})}),a.jsx(Uk,{children:a.jsx(yQ,{children:pe()})})]})})]}),a.jsxs("div",{className:"ml-auto flex items-center gap-2 px-4",children:[E&&a.jsx(Ot,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Unsaved changes"}),a.jsxs(de,{onClick:X,disabled:!E||S,size:"sm",className:"gap-2",children:[a.jsx(qk,{className:"h-4 w-4"}),S?"Saving...":"Save Changes"]})]})]}),a.jsxs("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:[w==="profile"&&a.jsx(wQ,{profile:L,user:n,onUpdateProfile:ee,onSignOut:me,onUpdatePassword:u,isLoading:S}),w==="appearance"&&a.jsx(_Q,{preferences:D,onUpdatePreference:B}),w==="datetime"&&a.jsx(kQ,{preferences:D,onUpdatePreference:B}),w==="calendar"&&a.jsx(CQ,{preferences:D,onUpdatePreference:B,onUpdateTask:d,onAddTask:f,tasks:g,boards:y}),w==="tasks"&&a.jsx(SQ,{preferences:D,onUpdatePreference:B}),w==="ai"&&a.jsx(bQ,{preferences:D,onUpdatePreference:B})]})]}),a.jsx(Us,{open:I,onOpenChange:A,children:a.jsxs(Vs,{children:[a.jsxs(pi,{children:[a.jsxs(_o,{className:"flex items-center gap-2",children:[a.jsx(sh,{className:"h-5 w-5 text-amber-500"}),"Unsaved Changes"]}),a.jsx(ko,{children:"You have unsaved changes that will be lost if you leave this page. What would you like to do?"})]}),a.jsx(Xi,{className:"sm:justify-start",children:a.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[a.jsx(de,{variant:"default",onClick:ce,disabled:S,className:"flex-1 sm:flex-none",children:S?"Saving...":"Save & Exit"}),a.jsx(de,{variant:"destructive",onClick:ke,disabled:S,className:"flex-1 sm:flex-none",children:"Discard Changes"}),a.jsx(de,{variant:"outline",onClick:xe,disabled:S,className:"flex-1 sm:flex-none",children:"Cancel"})]})})]})})]})}function wQ({profile:n,user:e,onUpdateProfile:t,onSignOut:r,onUpdatePassword:s,isLoading:o}){var D,O;const l=["America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Europe/London","Europe/Paris","Europe/Berlin","Asia/Tokyo","Asia/Shanghai","Australia/Sydney","UTC"],[u,d]=k.useState(!1),[f,g]=k.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[y,x]=k.useState({current:!1,new:!1,confirm:!1}),[w,C]=k.useState(!1),[S,T]=k.useState(""),E=((D=e==null?void 0:e.app_metadata)==null?void 0:D.provider)==="google"||((O=e==null?void 0:e.identities)==null?void 0:O.some(L=>L.provider==="google")),P=()=>M(null,null,function*(){if(!s){T("Password update function not available");return}if(f.newPassword!==f.confirmPassword){T("New passwords do not match");return}if(f.newPassword.length<6){T("Password must be at least 6 characters long");return}C(!0),T("");try{const{error:L}=yield s(f.newPassword);if(L){T(L.message||"Failed to change password. Please try again.");return}g({currentPassword:"",newPassword:"",confirmPassword:""}),d(!1)}catch(L){T("Failed to change password. Please try again."),console.error("Password change error:",L)}finally{C(!1)}}),A=E?{provider:"Google",icon:a.jsx(ll,{className:"h-4 w-4"}),description:"You signed in with your Google account",canChangePassword:!1}:{provider:"Email & Password",icon:a.jsx(xg,{className:"h-4 w-4"}),description:"You signed in with email and password",canChangePassword:!0};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Profile Information"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your personal information and account settings."})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Personal Details"}),a.jsx(Wt,{children:"Your name and basic information"})]}),a.jsxs(Mt,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"First Name"}),a.jsx(xt,{value:n.firstName||"",onChange:L=>t("firstName",L.target.value),placeholder:"Enter your first name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Last Name"}),a.jsx(xt,{value:n.lastName||"",onChange:L=>t("lastName",L.target.value),placeholder:"Enter your last name"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Email"}),a.jsx(xt,{value:(e==null?void 0:e.email)||"",disabled:!0,className:"bg-muted"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Email cannot be changed from this page"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Timezone"}),a.jsxs(dn,{value:n.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone,onValueChange:L=>t("timezone",L),children:[a.jsx(nn,{children:a.jsx(fn,{})}),a.jsx(rn,{className:"max-h-60",children:l.map(L=>a.jsx(Ye,{value:L,children:L.replace(/_/g," ")},L))})]})]})]})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsxs(Ft,{className:"flex items-center gap-2",children:[a.jsx(Kk,{className:"h-5 w-5"}),"Authentication Method"]}),a.jsx(Wt,{children:"How you sign in to your account"})]}),a.jsxs(Mt,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[A.icon,a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:A.provider}),a.jsx("p",{className:"text-xs text-muted-foreground",children:A.description})]}),E&&a.jsx(Ot,{variant:"secondary",className:"text-xs",children:"OAuth"})]}),A.canChangePassword&&a.jsx("div",{className:"space-y-3",children:u?a.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Change Password"}),a.jsx(de,{variant:"ghost",size:"sm",onClick:()=>{d(!1),g({currentPassword:"",newPassword:"",confirmPassword:""}),T("")},children:"Cancel"})]}),S&&a.jsx("div",{className:"text-sm text-red-600 bg-red-50 dark:bg-red-950/20 p-2 rounded",children:S}),a.jsxs("div",{className:"space-y-3",children:[!E&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{type:y.current?"text":"password",value:f.currentPassword,onChange:L=>g(V=>U(b({},V),{currentPassword:L.target.value})),placeholder:"Enter current password"}),a.jsx(de,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(L=>U(b({},L),{current:!L.current})),children:y.current?a.jsx(Ip,{className:"h-4 w-4"}):a.jsx(vf,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{type:y.new?"text":"password",value:f.newPassword,onChange:L=>g(V=>U(b({},V),{newPassword:L.target.value})),placeholder:"Enter new password"}),a.jsx(de,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(L=>U(b({},L),{new:!L.new})),children:y.new?a.jsx(Ip,{className:"h-4 w-4"}):a.jsx(vf,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(xt,{type:y.confirm?"text":"password",value:f.confirmPassword,onChange:L=>g(V=>U(b({},V),{confirmPassword:L.target.value})),placeholder:"Confirm new password"}),a.jsx(de,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(L=>U(b({},L),{confirm:!L.confirm})),children:y.confirm?a.jsx(Ip,{className:"h-4 w-4"}):a.jsx(vf,{className:"h-4 w-4"})})]})]}),a.jsx(de,{onClick:P,disabled:w||!E&&!f.currentPassword||!f.newPassword||!f.confirmPassword,className:"w-full",children:w?"Changing Password...":"Change Password"})]})]}):a.jsxs(de,{variant:"outline",onClick:()=>d(!0),className:"gap-2",children:[a.jsx(xg,{className:"h-4 w-4"}),"Change Password"]})}),E&&a.jsx("div",{className:"text-xs text-muted-foreground p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:a.jsx("p",{children:"Since you signed in with Google, your password is managed by Google. You can change it in your Google account settings."})})]})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Account Actions"}),a.jsx(Wt,{children:"Manage your account and session"})]}),a.jsx(Mt,{children:a.jsx(de,{variant:"outline",onClick:r,disabled:o,className:"text-red-600 border-red-200 hover:bg-red-50 dark:hover:bg-red-950",children:o?"Signing Out...":"Sign Out"})})]})]})}function _Q({preferences:n,onUpdatePreference:e}){return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Appearance"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Customize the look and feel of your workspace."})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Theme"}),a.jsx(Wt,{children:"Choose your preferred color scheme"})]}),a.jsx(Mt,{children:a.jsxs(dn,{value:n.theme||"system",onValueChange:t=>e("theme",t),children:[a.jsx(nn,{className:"w-48",children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"light",children:"Light"}),a.jsx(Ye,{value:"dark",children:"Dark"}),a.jsx(Ye,{value:"system",children:"System"})]})]})})]})]})}function kQ({preferences:n,onUpdatePreference:e}){var t;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Date & Time"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure how dates and times are displayed throughout the app."})," "]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Date Format"}),a.jsx(Wt,{children:"Choose how dates are displayed (limited implementation)"})]}),a.jsx(Mt,{children:a.jsxs(dn,{value:n.dateFormat||"MM/DD/YYYY",onValueChange:r=>e("dateFormat",r),children:[a.jsx(nn,{className:"w-48 text-left",children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"MM/DD/YYYY",className:"text-left",children:"MM/DD/YYYY (12/31/2024)"}),a.jsx(Ye,{value:"DD/MM/YYYY",className:"text-left",children:"DD/MM/YYYY (31/12/2024)"}),a.jsx(Ye,{value:"YYYY-MM-DD",className:"text-left",children:"YYYY-MM-DD (2024-12-31)"})]})]})})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Time Format"}),a.jsx(Wt,{children:"Choose 12-hour or 24-hour time display (limited implementation)"})]}),a.jsx(Mt,{children:a.jsxs(dn,{value:n.timeFormat||"12h",onValueChange:r=>e("timeFormat",r),children:[a.jsx(nn,{className:"w-48",children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"12h",children:"12-hour (2:30 PM)"}),a.jsx(Ye,{value:"24h",children:"24-hour (14:30)"})]})]})})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Week Start"}),a.jsx(Wt,{children:"Choose which day your week starts on (used in calendar)"})]}),a.jsx(Mt,{children:a.jsxs(dn,{value:((t=n.weekStartsOn)==null?void 0:t.toString())||"0",onValueChange:r=>e("weekStartsOn",parseInt(r)),children:[a.jsx(nn,{className:"w-48",children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"0",children:"Sunday"}),a.jsx(Ye,{value:"1",children:"Monday"})]})]})})]})]})}function CQ({preferences:n,onUpdatePreference:e,onUpdateTask:t,onAddTask:r,tasks:s,boards:o}){var u;const l=[{value:0,label:"Compact"},{value:1,label:"Comfortable"},{value:2,label:"Spacious"},{value:3,label:"Detailed"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Calendar Settings"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure default settings for the calendar view and external integrations."})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Default View Mode"}),a.jsx(Wt,{children:"Choose the default calendar view when opening the calendar"})]}),a.jsx(Mt,{children:a.jsxs(dn,{value:n.calendarDefaultView||"3-day",onValueChange:d=>e("calendarDefaultView",d),children:[a.jsx(nn,{className:"w-48",children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"3-day",children:"3-Day View"}),a.jsx(Ye,{value:"week",children:"Weekly View"})]})]})})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Default Zoom Level"}),a.jsx(Wt,{children:"Choose the default zoom level for the calendar timeline"})]}),a.jsx(Mt,{children:a.jsxs(dn,{value:((u=n.calendarDefaultZoom)==null?void 0:u.toString())||"1",onValueChange:d=>e("calendarDefaultZoom",parseInt(d)),children:[a.jsx(nn,{className:"w-64 text-left",children:a.jsx(fn,{})}),a.jsx(rn,{children:l.map(d=>a.jsx(Ye,{value:d.value.toString(),className:"text-left",children:a.jsx("div",{className:"flex flex-col items-start",children:a.jsx("span",{className:"font-medium",children:d.label})})},d.value))})]})})]}),t&&r&&s&&a.jsx(mQ,{tasks:s,onTaskUpdate:t,onAddTask:r,config:fi.googleCalendar,boards:o,userPreferences:n,onUpdateUserPreferences:d=>M(null,null,function*(){for(const[f,g]of Object.entries(d))e(f,g)})})]})}function SQ({preferences:n,onUpdatePreference:e}){const t=[{value:"compact",label:"Compact Grid",description:"Square cards in a dense grid layout",preview:a.jsxs("div",{className:"w-full h-16 bg-muted/30 rounded-md p-2 flex flex-col gap-1",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-primary/60 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-primary/60 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-primary/60 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-primary/60 rounded-sm"})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-4 h-4 bg-primary/60 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-primary/60 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-primary/60 rounded-sm"}),a.jsx("div",{className:"w-4 h-4 bg-primary/60 rounded-sm"})]})]})},{value:"grid",label:"Grid View",description:"Larger cards with more details",preview:a.jsxs("div",{className:"w-full h-16 bg-muted/30 rounded-md p-2 flex flex-col gap-1",children:[a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-8 h-6 bg-primary/60 rounded-sm"}),a.jsx("div",{className:"w-8 h-6 bg-primary/60 rounded-sm"})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx("div",{className:"w-8 h-6 bg-primary/60 rounded-sm"}),a.jsx("div",{className:"w-8 h-6 bg-primary/60 rounded-sm"})]})]})},{value:"list",label:"List View",description:"Horizontal layout for easy scanning",preview:a.jsxs("div",{className:"w-full h-16 bg-muted/30 rounded-md p-2 flex flex-col gap-1",children:[a.jsx("div",{className:"w-full h-2 bg-primary/60 rounded-sm"}),a.jsx("div",{className:"w-full h-2 bg-primary/60 rounded-sm"}),a.jsx("div",{className:"w-full h-2 bg-primary/60 rounded-sm"}),a.jsx("div",{className:"w-full h-2 bg-primary/60 rounded-sm"})]})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Task Management"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure how tasks are displayed and organized."})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Board View Layout"}),a.jsx(Wt,{children:"Choose your preferred layout for the board selection screen"})]}),a.jsx(Mt,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map(r=>a.jsx("div",{className:`relative cursor-pointer rounded-lg border-2 p-4 transition-all hover:shadow-md ${n.boardDefaultView===r.value?"border-primary bg-primary/5 shadow-sm":"border-border hover:border-primary/50"}`,onClick:()=>e("boardDefaultView",r.value),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium text-sm",children:r.label}),n.boardDefaultView===r.value&&a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"})]}),r.preview,a.jsx("p",{className:"text-xs text-muted-foreground leading-relaxed",children:r.description})]})},r.value))})})]}),a.jsxs(pt,{children:[" ",a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Task Sorting"}),a.jsx(Wt,{children:"Choose how unscheduled tasks are sorted in calendar view"})]}),a.jsxs(Mt,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Sort By"}),a.jsxs(dn,{value:n.taskSortBy||"priority",onValueChange:r=>e("taskSortBy",r),children:[a.jsx(nn,{className:"w-48",children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"priority",children:"Priority"}),a.jsx(Ye,{value:"dueDate",children:"Due Date"}),a.jsx(Ye,{value:"created",children:"Created Date"}),a.jsx(Ye,{value:"alphabetical",children:"Alphabetical"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Sort Order"}),a.jsxs(dn,{value:n.taskSortOrder||"asc",onValueChange:r=>e("taskSortOrder",r),children:[a.jsx(nn,{className:"w-48",children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"asc",children:"Ascending"}),a.jsx(Ye,{value:"desc",children:"Descending"})]})]})]})]})]}),a.jsxs(pt,{children:[" ",a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Display Options"}),a.jsx(Wt,{children:"Control what tasks are visible in all views"})]}),a.jsxs(Mt,{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{id:"show-completed",checked:n.showCompletedTasks||!1,onCheckedChange:r=>e("showCompletedTasks",r)}),a.jsx("label",{htmlFor:"show-completed",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Show completed tasks"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"When enabled, completed tasks will remain visible in task lists and calendar"})]})]})," "]})}function bQ({preferences:n,onUpdatePreference:e}){const t=[{key:"monday",label:"Monday"},{key:"tuesday",label:"Tuesday"},{key:"wednesday",label:"Wednesday"},{key:"thursday",label:"Thursday"},{key:"friday",label:"Friday"},{key:"saturday",label:"Saturday"},{key:"sunday",label:"Sunday"}];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"AI Scheduling"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure how AI automatically schedules your tasks."})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{children:"AI Scheduling"}),a.jsx(Wt,{children:"Enable automatic task scheduling with Google Gemini AI"})]}),a.jsxs(Mt,{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{id:"auto-schedule-enabled",checked:n.autoScheduleEnabled||!1,onCheckedChange:r=>e("autoScheduleEnabled",r)}),a.jsx("label",{htmlFor:"auto-schedule-enabled",className:"text-sm font-medium",children:"Enable AI Scheduling"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"When enabled, AI can automatically schedule your tasks based on your preferences and working hours."})]})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Working Hours"}),a.jsx(Wt,{children:"Set your availability for each day of the week"})]}),a.jsx(Mt,{className:"space-y-4",children:t.map(r=>{const s=`workingHours${r.key.charAt(0).toUpperCase()+r.key.slice(1)}Enabled`,o=`workingHours${r.key.charAt(0).toUpperCase()+r.key.slice(1)}Start`,l=`workingHours${r.key.charAt(0).toUpperCase()+r.key.slice(1)}End`,u=n[s],d=n[o]||"09:00",f=n[l]||"17:00";return a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 w-24",children:[a.jsx(En,{id:`${r.key}-enabled`,checked:u,onCheckedChange:g=>e(s,g)}),a.jsx("label",{htmlFor:`${r.key}-enabled`,className:"text-sm font-medium",children:r.label})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(xt,{type:"time",value:d,onChange:g=>e(o,g.target.value),disabled:!u,className:"w-32"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"to"}),a.jsx(xt,{type:"time",value:f,onChange:g=>e(l,g.target.value),disabled:!u,className:"w-32"})]})]},r.key)})})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Scheduling Preferences"}),a.jsx(Wt,{children:"Configure how tasks are automatically scheduled"})]}),a.jsxs(Mt,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Max Daily Work Hours"}),a.jsx(xt,{type:"number",min:"1",max:"16",step:"0.5",value:n.maxDailyWorkHours||8,onChange:r=>e("maxDailyWorkHours",parseFloat(r.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Buffer Time Between Tasks (minutes)"}),a.jsx(xt,{type:"number",min:"0",max:"120",value:n.bufferTimeBetweenTasks||15,onChange:r=>e("bufferTimeBetweenTasks",parseInt(r.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Minimum Task Chunk (minutes)"}),a.jsx(xt,{type:"number",min:"15",max:"120",value:n.minTaskChunkSize||30,onChange:r=>e("minTaskChunkSize",parseInt(r.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Maximum Task Chunk (minutes)"}),a.jsx(xt,{type:"number",min:"30",max:"480",value:n.maxTaskChunkSize||120,onChange:r=>e("maxTaskChunkSize",parseInt(r.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Focus Time Minimum (minutes)"}),a.jsx(xt,{type:"number",min:"30",max:"240",value:n.focusTimeMinimumMinutes||90,onChange:r=>e("focusTimeMinimumMinutes",parseInt(r.target.value))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Scheduling Lookahead (days)"}),a.jsx(xt,{type:"number",min:"1",max:"90",value:n.schedulingLookaheadDays||14,onChange:r=>e("schedulingLookaheadDays",parseInt(r.target.value))})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"AI Suggestion Style"}),a.jsxs(dn,{value:n.aiSuggestionPreference||"balanced",onValueChange:r=>e("aiSuggestionPreference",r),children:[a.jsx(nn,{className:"w-48",children:a.jsx(fn,{})}),a.jsxs(rn,{children:[a.jsx(Ye,{value:"conservative",children:"Conservative"}),a.jsx(Ye,{value:"balanced",children:"Balanced"}),a.jsx(Ye,{value:"aggressive",children:"Aggressive"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Conservative: More realistic time estimates. Balanced: Standard estimates. Aggressive: Optimistic estimates."})]})]})]}),a.jsxs(pt,{children:[a.jsxs(Lt,{children:[a.jsx(Ft,{children:"Advanced Options"}),a.jsx(Wt,{children:"Fine-tune AI scheduling behavior"})]}),a.jsxs(Mt,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{id:"respect-calendar-events",checked:n.respectCalendarEvents!==!1,onCheckedChange:r=>e("respectCalendarEvents",r)}),a.jsx("label",{htmlFor:"respect-calendar-events",className:"text-sm font-medium",children:"Respect calendar events"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Avoid scheduling tasks during existing calendar events."}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{id:"allow-overtime-scheduling",checked:n.allowOvertimeScheduling||!1,onCheckedChange:r=>e("allowOvertimeScheduling",r)}),a.jsx("label",{htmlFor:"allow-overtime-scheduling",className:"text-sm font-medium",children:"Allow overtime scheduling"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow tasks to be scheduled outside of normal working hours when necessary."}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{id:"auto-reschedule-on-conflict",checked:n.autoRescheduleOnConflict||!1,onCheckedChange:r=>e("autoRescheduleOnConflict",r)}),a.jsx("label",{htmlFor:"auto-reschedule-on-conflict",className:"text-sm font-medium",children:"Auto-reschedule on conflict"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically reschedule tasks when conflicts are detected."}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(En,{id:"priority-boost-for-overdue",checked:n.priorityBoostForOverdue!==!1,onCheckedChange:r=>e("priorityBoostForOverdue",r)}),a.jsx("label",{htmlFor:"priority-boost-for-overdue",className:"text-sm font-medium",children:"Priority boost for overdue tasks"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically increase priority for tasks that are past their due date."}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Deadline Buffer (days)"}),a.jsx(xt,{type:"number",min:"0",max:"7",value:n.deadlineBufferDays||1,onChange:r=>e("deadlineBufferDays",parseInt(r.target.value)),className:"w-32"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Days before deadline to finish tasks."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Context Switch Penalty (minutes)"}),a.jsx(xt,{type:"number",min:"0",max:"60",value:n.contextSwitchPenaltyMinutes||10,onChange:r=>e("contextSwitchPenaltyMinutes",parseInt(r.target.value)),className:"w-32"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Additional time added when switching between different types of tasks."})]})]})]})]})}function TQ({onSignUp:n,onSignIn:e,onGoogleSignIn:t,onResetPassword:r}){const[s,o]=k.useState(!1),[l,u]=k.useState(!1),[d,f]=k.useState(""),[g,y]=k.useState(""),[x,w]=k.useState(null),[C,S]=k.useState(!1),[T,E]=k.useState(""),[P,I]=k.useState(!1),[A,D]=k.useState(!1),[O,L]=k.useState(""),[V,B]=k.useState(!1),[ee,X]=k.useState(!1),se=[{label:"At least 6 characters",test:$=>$.length>=6},{label:"Contains uppercase letter (A-Z)",test:$=>/[A-Z]/.test($)},{label:"Contains lowercase letter (a-z)",test:$=>/[a-z]/.test($)},{label:"Contains number (0-9)",test:$=>/\d/.test($)},{label:"Contains symbol (!@#$%^&*)",test:$=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test($)}],ce=$=>se.filter(q=>q.test($)).length,ke=$=>se.every(F=>F.test($)),xe=()=>M(null,null,function*(){X(!0),w(null);try{const{error:$}=yield t();$&&w(H($.message))}catch($){w("Failed to sign in with Google. Please try again.")}finally{X(!1)}}),me=$=>M(null,null,function*(){if($.preventDefault(),o(!0),w(null),l&&!ke(g)){w("Please ensure your password meets all requirements listed below."),o(!1),I(!0);return}try{const{error:F}=l?yield n(d,g):yield e(d,g);F?w(H(F.message)):l&&(E(d),S(!0))}catch(F){w("An unexpected error occurred")}finally{o(!1)}}),pe=()=>{S(!1),D(!1),B(!1),u(!1),f(""),y(""),L(""),w(null),E("")},j=()=>M(null,null,function*(){if(!O.trim()){w("Please enter your email address");return}o(!0),w(null);try{if(r){const{error:$}=yield r(O);$?w(H($.message)):B(!0)}}catch($){w("An unexpected error occurred")}finally{o(!1)}}),H=$=>$.includes("Invalid login credentials")?"Invalid email or password. Please check your credentials and try again.":$.includes("Email not confirmed")?"Please check your email and click the confirmation link before signing in.":$.includes("signup is disabled")?"New account registration is currently disabled.":$.includes("Password should be at least")?"Password must be at least 6 characters long.":$.includes("already registered")?"An account with this email already exists. Try signing in instead.":$.includes("rate limit")?"Too many attempts. Please wait a moment before trying again.":$;return C?a.jsxs("div",{className:"h-screen bg-background flex flex-col",children:[a.jsx(cl,{title:"DayFlow - Email Confirmation"}),a.jsx("div",{className:"flex-1 flex items-center justify-center pt-8",children:a.jsxs(pt,{className:"w-full max-w-md p-6 space-y-6",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center",children:a.jsx(or,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Check Your Email"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"We've sent a confirmation link to"}),a.jsx("p",{className:"font-semibold text-foreground break-all",children:T})]})]}),a.jsx("div",{className:"bg-muted/50 p-4 rounded-lg space-y-3",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ll,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-foreground mb-1",children:"Next Steps:"}),a.jsxs("ol",{className:"text-muted-foreground space-y-1 list-decimal list-inside",children:[a.jsx("li",{children:"Open your email inbox"}),a.jsx("li",{children:"Find the email from DayFlow"}),a.jsx("li",{children:'Click the "Confirm Account" button'}),a.jsx("li",{children:"Return here to sign in"})]})]})]})}),a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 p-4 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[a.jsx("strong",{children:"Didn't receive the email?"})," Check your spam folder or wait a few minutes. The confirmation link will expire in 24 hours."]})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(de,{onClick:pe,variant:"outline",className:"w-full",children:[a.jsx(hl,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]}),a.jsx("button",{onClick:()=>{S(!1),f(T),y(""),w(null)},className:"w-full text-sm text-primary hover:underline",children:"Try signing up again"})]})]})})]}):V?a.jsxs("div",{className:"h-screen bg-background flex flex-col",children:[a.jsx(cl,{title:"DayFlow - Password Reset"}),a.jsx("div",{className:"flex-1 flex items-center justify-center pt-8",children:a.jsxs(pt,{className:"w-full max-w-md p-6 space-y-6",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:a.jsx(ll,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Reset Link Sent"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"We've sent a password reset link to"}),a.jsx("p",{className:"font-semibold text-foreground break-all",children:O})]})]}),a.jsx("div",{className:"bg-muted/50 p-4 rounded-lg space-y-3",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(ll,{className:"w-5 h-5 text-primary mt-0.5 flex-shrink-0"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium text-foreground mb-1",children:"Next Steps:"}),a.jsxs("ol",{className:"text-muted-foreground space-y-1 list-decimal list-inside",children:[a.jsx("li",{children:"Check your email inbox"}),a.jsx("li",{children:'Click the "Reset Password" link'}),a.jsx("li",{children:"Enter your new password"}),a.jsx("li",{children:"Return here to sign in"})]})]})]})}),a.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 p-4 rounded-lg",children:a.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:[a.jsx("strong",{children:"Security Note:"})," The reset link will expire in 1 hour for your security. If you don't see the email, check your spam folder."]})}),a.jsxs(de,{onClick:pe,variant:"outline",className:"w-full",children:[a.jsx(hl,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})})]}):A?a.jsxs("div",{className:"h-screen bg-background flex flex-col",children:[a.jsx(cl,{title:"DayFlow - Reset Password"}),a.jsx("div",{className:"flex-1 flex items-center justify-center pt-8",children:a.jsxs(pt,{className:"w-full max-w-md p-6 space-y-4",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Reset Password"}),a.jsx("p",{className:"text-muted-foreground",children:"Enter your email address and we'll send you a link to reset your password."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"reset-email",className:"text-sm font-medium text-foreground",children:"Email"}),a.jsx(xt,{id:"reset-email",type:"email",placeholder:"Enter your email",value:O,onChange:$=>{L($.target.value),w(null)},disabled:s,className:"w-full",autoComplete:"email"})]}),x&&a.jsxs("div",{className:"flex items-start space-x-2 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 rounded-md",children:[a.jsx(_r,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),a.jsx("div",{children:x})]}),a.jsx(de,{onClick:j,className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),"Sending Reset Link..."]}):"Send Reset Link"}),a.jsxs(de,{onClick:pe,variant:"outline",className:"w-full",children:[a.jsx(hl,{className:"w-4 h-4 mr-2"}),"Back to Sign In"]})]})]})})]}):a.jsxs("div",{className:"h-screen bg-background flex flex-col",children:[a.jsx(cl,{title:"DayFlow - Authentication"}),a.jsx("div",{className:"flex-1 flex items-center justify-center pt-8",children:a.jsxs(pt,{className:"w-full max-w-md p-6 space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Welcome to DayFlow"}),a.jsx("p",{className:"text-muted-foreground",children:l?"Create your account":"Sign in to your account"})]}),a.jsxs("form",{onSubmit:me,className:"space-y-3",children:[a.jsx("div",{children:a.jsx(xt,{type:"email",placeholder:"Email address",value:d,onChange:$=>f($.target.value),required:!0,disabled:s})})," ",a.jsxs("div",{children:[a.jsx(xt,{type:"password",placeholder:"Password",value:g,onChange:$=>y($.target.value),onFocus:()=>l&&I(!0),required:!0,disabled:s,minLength:6,className:l&&g&&!ke(g)?"border-orange-300 focus:border-orange-500":""}),l&&a.jsx("div",{className:"mt-3 space-y-3",children:a.jsx("div",{className:`transition-all duration-300 ${P||g?"opacity-100":"opacity-0 h-0 overflow-hidden"}`,children:a.jsxs("div",{className:"bg-muted/50 p-3 rounded-lg border",children:[a.jsx("p",{className:"text-sm font-medium text-foreground mb-2",children:"Password Requirements:"}),a.jsx("div",{className:"space-y-1",children:se.map(($,F)=>{const q=$.test(g);return a.jsxs("div",{className:`flex items-center gap-2 text-xs transition-colors duration-200 ${q?"text-green-600 dark:text-green-400":"text-muted-foreground"}`,children:[a.jsx("div",{className:`w-4 h-4 rounded-full flex items-center justify-center transition-colors duration-200 ${q?"bg-green-100 dark:bg-green-900/30 text-green-600 dark:text-green-400":"bg-muted text-muted-foreground"}`,children:q?"✓":"○"}),a.jsx("span",{className:q?"line-through":"",children:$.label})]},F)})}),g&&a.jsxs("div",{className:"mt-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-xs font-medium text-foreground",children:"Strength:"}),a.jsx("span",{className:`text-xs font-medium ${ce(g)<=2?"text-red-600 dark:text-red-400":ce(g)<=4?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`,children:ce(g)<=2?"Weak":ce(g)<=4?"Good":"Strong"})]}),a.jsx("div",{className:"flex gap-1",children:[...Array(5)].map(($,F)=>a.jsx("div",{className:`h-1 flex-1 rounded-full transition-colors duration-200 ${F<ce(g)?ce(g)<=2?"bg-red-400":ce(g)<=4?"bg-orange-400":"bg-green-400":"bg-muted"}`},F))})]})]})})})]}),x&&a.jsxs("div",{className:"flex items-start space-x-2 text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-3 rounded-md",children:[a.jsx(_r,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),a.jsx("div",{children:x})]}),l&&a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 p-3 rounded-md",children:a.jsxs("p",{className:"text-xs text-blue-800 dark:text-blue-200",children:[a.jsx(ll,{className:"w-4 h-4 inline mr-1"}),"We'll send you a confirmation email to verify your account."]})}),a.jsx(de,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),l?"Creating Account...":"Signing In..."]}):l?"Create Account":"Sign In"}),a.jsx(de,{type:"button",variant:"outline",onClick:xe,className:"w-full",disabled:s||ee,children:ee?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}),"Signing in with Google..."]}):a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})," "]}),a.jsxs("div",{className:"space-y-3",children:[!l&&a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>D(!0),className:"text-sm text-muted-foreground hover:text-primary hover:underline transition-colors",disabled:s,children:"Forgot your password?"})}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:()=>{u(!l),w(null)},className:"text-sm text-primary hover:underline",disabled:s,children:l?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})]})}function NQ({onAuthComplete:n}){const[e,t]=k.useState("loading"),[r,s]=k.useState("Processing authentication...");return k.useEffect(()=>{M(null,null,function*(){try{const l=new URLSearchParams(window.location.search),u=l.get("code"),d=l.get("error");if(d)throw new Error(d);if(u){const{data:f,error:g}=yield Ke.auth.exchangeCodeForSession(u);if(g)throw g;if(f!=null&&f.session)t("success"),s("Successfully signed in with Google!"),setTimeout(()=>{n()},2e3);else throw new Error("No session received")}else throw new Error("No authorization code received")}catch(l){console.error("Auth callback error:",l),t("error"),s(l instanceof Error?l.message:"Authentication failed"),setTimeout(()=>{n()},3e3)}})},[n]),a.jsxs("div",{className:"h-screen bg-background flex flex-col",children:[a.jsx(cl,{title:"DayFlow - Authentication"}),a.jsx("div",{className:"flex-1 flex items-center justify-center pt-8",children:a.jsxs(pt,{className:"w-full max-w-md p-6 space-y-6",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("div",{className:`mx-auto w-16 h-16 rounded-full flex items-center justify-center ${e==="loading"?"bg-blue-100 dark:bg-blue-900/20":e==="success"?"bg-green-100 dark:bg-green-900/20":"bg-red-100 dark:bg-red-900/20"}`,children:[e==="loading"&&a.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),e==="success"&&a.jsx(or,{className:"w-8 h-8 text-green-600 dark:text-green-400"}),e==="error"&&a.jsx(_r,{className:"w-8 h-8 text-red-600 dark:text-red-400"})]}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-foreground",children:[e==="loading"&&"Authenticating...",e==="success"&&"Welcome to DayFlow!",e==="error"&&"Authentication Failed"]}),a.jsx("p",{className:"text-muted-foreground mt-2",children:r})]})]}),e==="loading"&&a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 p-4 rounded-lg",children:a.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Please wait while we complete your Google sign-in..."})}),e==="error"&&a.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 p-4 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:"Something went wrong during authentication. You'll be redirected back to the sign-in page."})})]})})]})}const pg=n=>({id:n.id,theme:n.theme,language:n.language,dateFormat:n.date_format,timeFormat:n.time_format,weekStartsOn:n.week_starts_on,autoSave:n.auto_save,showCompletedTasks:n.show_completed_tasks,taskSortBy:n.task_sort_by,taskSortOrder:n.task_sort_order,calendarDefaultZoom:n.calendar_default_zoom||1,calendarDefaultView:n.calendar_default_view||"3-day",boardDefaultView:n.board_default_view||"compact",googleCalendarEnabled:n.google_calendar_enabled||!1,googleCalendarSelectedCalendar:n.google_calendar_selected_calendar||void 0,googleCalendarAutoSync:n.google_calendar_auto_sync||!1,googleCalendarSyncOnlyScheduled:n.google_calendar_sync_only_scheduled!==void 0?n.google_calendar_sync_only_scheduled:!0,autoScheduleEnabled:n.auto_schedule_enabled||!1,workingHoursMondayStart:n.working_hours_monday_start||"09:00",workingHoursMondayEnd:n.working_hours_monday_end||"17:00",workingHoursMondayEnabled:n.working_hours_monday_enabled!==void 0?n.working_hours_monday_enabled:!0,workingHoursTuesdayStart:n.working_hours_tuesday_start||"09:00",workingHoursTuesdayEnd:n.working_hours_tuesday_end||"17:00",workingHoursTuesdayEnabled:n.working_hours_tuesday_enabled!==void 0?n.working_hours_tuesday_enabled:!0,workingHoursWednesdayStart:n.working_hours_wednesday_start||"09:00",workingHoursWednesdayEnd:n.working_hours_wednesday_end||"17:00",workingHoursWednesdayEnabled:n.working_hours_wednesday_enabled!==void 0?n.working_hours_wednesday_enabled:!0,workingHoursThursdayStart:n.working_hours_thursday_start||"09:00",workingHoursThursdayEnd:n.working_hours_thursday_end||"17:00",workingHoursThursdayEnabled:n.working_hours_thursday_enabled!==void 0?n.working_hours_thursday_enabled:!0,workingHoursFridayStart:n.working_hours_friday_start||"09:00",workingHoursFridayEnd:n.working_hours_friday_end||"17:00",workingHoursFridayEnabled:n.working_hours_friday_enabled!==void 0?n.working_hours_friday_enabled:!0,workingHoursSaturdayStart:n.working_hours_saturday_start||"10:00",workingHoursSaturdayEnd:n.working_hours_saturday_end||"15:00",workingHoursSaturdayEnabled:n.working_hours_saturday_enabled||!1,workingHoursSundayStart:n.working_hours_sunday_start||"10:00",workingHoursSundayEnd:n.working_hours_sunday_end||"15:00",workingHoursSundayEnabled:n.working_hours_sunday_enabled||!1,bufferTimeBetweenTasks:n.buffer_time_between_tasks||15,maxTaskChunkSize:n.max_task_chunk_size||120,minTaskChunkSize:n.min_task_chunk_size||30,allowOvertimeScheduling:n.allow_overtime_scheduling||!1,schedulingLookaheadDays:n.scheduling_lookahead_days||14,aiSuggestionPreference:n.ai_suggestion_preference||"balanced",respectCalendarEvents:n.respect_calendar_events!==void 0?n.respect_calendar_events:!0,autoRescheduleOnConflict:n.auto_reschedule_on_conflict||!1,energyPeakHours:n.energy_peak_hours?JSON.parse(JSON.stringify(n.energy_peak_hours)):[],deepWorkTimeSlots:n.deep_work_time_slots?JSON.parse(JSON.stringify(n.deep_work_time_slots)):[],deadlineBufferDays:n.deadline_buffer_days||1,priorityBoostForOverdue:n.priority_boost_for_overdue!==void 0?n.priority_boost_for_overdue:!0,maxDailyWorkHours:n.max_daily_work_hours||8,focusTimeMinimumMinutes:n.focus_time_minimum_minutes||90,contextSwitchPenaltyMinutes:n.context_switch_penalty_minutes||10,createdAt:n.created_at,updatedAt:n.updated_at}),gg=n=>({id:n.id,firstName:n.first_name||void 0,lastName:n.last_name||void 0,avatarUrl:n.avatar_url||void 0,timezone:n.timezone,createdAt:n.created_at,updatedAt:n.updated_at}),EQ=n=>U(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b(b({},n.id&&{id:n.id}),n.theme&&{theme:n.theme}),n.language&&{language:n.language}),n.dateFormat&&{date_format:n.dateFormat}),n.timeFormat&&{time_format:n.timeFormat}),n.weekStartsOn!==void 0&&{week_starts_on:n.weekStartsOn}),n.autoSave!==void 0&&{auto_save:n.autoSave}),n.showCompletedTasks!==void 0&&{show_completed_tasks:n.showCompletedTasks}),n.taskSortBy&&{task_sort_by:n.taskSortBy}),n.taskSortOrder&&{task_sort_order:n.taskSortOrder}),n.calendarDefaultZoom!==void 0&&{calendar_default_zoom:n.calendarDefaultZoom}),n.calendarDefaultView&&{calendar_default_view:n.calendarDefaultView}),n.boardDefaultView&&{board_default_view:n.boardDefaultView}),n.googleCalendarEnabled!==void 0&&{google_calendar_enabled:n.googleCalendarEnabled}),n.googleCalendarSelectedCalendar!==void 0&&{google_calendar_selected_calendar:n.googleCalendarSelectedCalendar}),n.googleCalendarAutoSync!==void 0&&{google_calendar_auto_sync:n.googleCalendarAutoSync}),n.googleCalendarSyncOnlyScheduled!==void 0&&{google_calendar_sync_only_scheduled:n.googleCalendarSyncOnlyScheduled}),n.autoScheduleEnabled!==void 0&&{auto_schedule_enabled:n.autoScheduleEnabled}),n.workingHoursMondayStart&&{working_hours_monday_start:n.workingHoursMondayStart}),n.workingHoursMondayEnd&&{working_hours_monday_end:n.workingHoursMondayEnd}),n.workingHoursMondayEnabled!==void 0&&{working_hours_monday_enabled:n.workingHoursMondayEnabled}),n.workingHoursTuesdayStart&&{working_hours_tuesday_start:n.workingHoursTuesdayStart}),n.workingHoursTuesdayEnd&&{working_hours_tuesday_end:n.workingHoursTuesdayEnd}),n.workingHoursTuesdayEnabled!==void 0&&{working_hours_tuesday_enabled:n.workingHoursTuesdayEnabled}),n.workingHoursWednesdayStart&&{working_hours_wednesday_start:n.workingHoursWednesdayStart}),n.workingHoursWednesdayEnd&&{working_hours_wednesday_end:n.workingHoursWednesdayEnd}),n.workingHoursWednesdayEnabled!==void 0&&{working_hours_wednesday_enabled:n.workingHoursWednesdayEnabled}),n.workingHoursThursdayStart&&{working_hours_thursday_start:n.workingHoursThursdayStart}),n.workingHoursThursdayEnd&&{working_hours_thursday_end:n.workingHoursThursdayEnd}),n.workingHoursThursdayEnabled!==void 0&&{working_hours_thursday_enabled:n.workingHoursThursdayEnabled}),n.workingHoursFridayStart&&{working_hours_friday_start:n.workingHoursFridayStart}),n.workingHoursFridayEnd&&{working_hours_friday_end:n.workingHoursFridayEnd}),n.workingHoursFridayEnabled!==void 0&&{working_hours_friday_enabled:n.workingHoursFridayEnabled}),n.workingHoursSaturdayStart&&{working_hours_saturday_start:n.workingHoursSaturdayStart}),n.workingHoursSaturdayEnd&&{working_hours_saturday_end:n.workingHoursSaturdayEnd}),n.workingHoursSaturdayEnabled!==void 0&&{working_hours_saturday_enabled:n.workingHoursSaturdayEnabled}),n.workingHoursSundayStart&&{working_hours_sunday_start:n.workingHoursSundayStart}),n.workingHoursSundayEnd&&{working_hours_sunday_end:n.workingHoursSundayEnd}),n.workingHoursSundayEnabled!==void 0&&{working_hours_sunday_enabled:n.workingHoursSundayEnabled}),n.bufferTimeBetweenTasks!==void 0&&{buffer_time_between_tasks:n.bufferTimeBetweenTasks}),n.maxTaskChunkSize!==void 0&&{max_task_chunk_size:n.maxTaskChunkSize}),n.minTaskChunkSize!==void 0&&{min_task_chunk_size:n.minTaskChunkSize}),n.allowOvertimeScheduling!==void 0&&{allow_overtime_scheduling:n.allowOvertimeScheduling}),n.schedulingLookaheadDays!==void 0&&{scheduling_lookahead_days:n.schedulingLookaheadDays}),n.aiSuggestionPreference&&{ai_suggestion_preference:n.aiSuggestionPreference}),n.respectCalendarEvents!==void 0&&{respect_calendar_events:n.respectCalendarEvents}),n.autoRescheduleOnConflict!==void 0&&{auto_reschedule_on_conflict:n.autoRescheduleOnConflict}),n.energyPeakHours&&{energy_peak_hours:n.energyPeakHours}),n.deepWorkTimeSlots&&{deep_work_time_slots:n.deepWorkTimeSlots}),n.deadlineBufferDays!==void 0&&{deadline_buffer_days:n.deadlineBufferDays}),n.priorityBoostForOverdue!==void 0&&{priority_boost_for_overdue:n.priorityBoostForOverdue}),n.maxDailyWorkHours!==void 0&&{max_daily_work_hours:n.maxDailyWorkHours}),n.focusTimeMinimumMinutes!==void 0&&{focus_time_minimum_minutes:n.focusTimeMinimumMinutes}),n.contextSwitchPenaltyMinutes!==void 0&&{context_switch_penalty_minutes:n.contextSwitchPenaltyMinutes}),{updated_at:new Date().toISOString()}),MQ=n=>U(b(b(b(b(b({},n.id&&{id:n.id}),n.firstName!==void 0&&{first_name:n.firstName}),n.lastName!==void 0&&{last_name:n.lastName}),n.avatarUrl!==void 0&&{avatar_url:n.avatarUrl}),n.timezone&&{timezone:n.timezone}),{updated_at:new Date().toISOString()});function DQ(n){const[e,t]=k.useState(null),[r,s]=k.useState(null),[o,l]=k.useState(!0),[u,d]=k.useState(null),f=()=>M(null,null,function*(){var C,S;if(n){l(!0),d(null);try{const[T,E]=yield Promise.allSettled([Ke.from("user_preferences").select("*").eq("id",n).single(),Ke.from("profiles").select("*").eq("id",n).single()]);T.status==="fulfilled"&&T.value.data?t(pg(T.value.data)):(T.status==="rejected"||T.status==="fulfilled"&&((C=T.value.error)==null?void 0:C.code)==="PGRST116")&&(yield g(n)),E.status==="fulfilled"&&E.value.data?s(gg(E.value.data)):(E.status==="rejected"||E.status==="fulfilled"&&((S=E.value.error)==null?void 0:S.code)==="PGRST116")&&(yield y(n))}catch(T){console.error("Error loading user settings:",T),d("Failed to load user settings")}finally{l(!1)}}}),g=C=>M(null,null,function*(){const S={id:C,theme:"system",language:"en",date_format:"MM/DD/YYYY",time_format:"12h",week_starts_on:0,auto_save:!0,show_completed_tasks:!1,task_sort_by:"priority",task_sort_order:"asc",calendar_default_zoom:1,calendar_default_view:"3-day",board_default_view:"compact",google_calendar_enabled:!1,google_calendar_selected_calendar:null,google_calendar_auto_sync:!1,google_calendar_sync_only_scheduled:!0,auto_schedule_enabled:!0},{data:T,error:E}=yield Ke.from("user_preferences").insert(S).select().single();if(E)throw console.error("Error creating default preferences:",E),E;T&&t(pg(T))}),y=C=>M(null,null,function*(){const S={id:C,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},{data:T,error:E}=yield Ke.from("profiles").insert(S).select().single();if(E)throw console.error("Error creating default profile:",E),E;T&&s(gg(T))}),x=C=>M(null,null,function*(){if(!n)throw new Error("User ID required");d(null);try{const S=EQ(C);t(P=>P?b(b({},P),C):null);const{data:T,error:E}=yield Ke.from("user_preferences").update(S).eq("id",n).select().single();if(E)throw E;T&&t(pg(T))}catch(S){throw console.error("Error updating user preferences:",S),d("Failed to update preferences"),yield f(),S}}),w=C=>M(null,null,function*(){if(!n)throw new Error("User ID required");d(null);try{const S=MQ(C);s(P=>P?b(b({},P),C):null);const{data:T,error:E}=yield Ke.from("profiles").update(S).eq("id",n).select().single();if(E)throw E;T&&s(gg(T))}catch(S){throw console.error("Error updating user profile:",S),d("Failed to update profile"),yield f(),S}});return k.useEffect(()=>{n?f():(t(null),s(null),l(!1))},[n]),{userPreferences:e,userProfile:r,isLoading:o,error:u,updateUserPreferences:x,updateUserProfile:w,refetch:f}}function IQ(n,e,t,r,s){const o=k.useCallback(()=>{if(r)return{autoSync:r.googleCalendarAutoSync||!1,syncOnlyScheduled:r.googleCalendarSyncOnlyScheduled!==void 0?r.googleCalendarSyncOnlyScheduled:!0,selectedCalendarId:r.googleCalendarSelectedCalendar||"primary"};const C=localStorage.getItem("google_calendar_auto_sync"),S=localStorage.getItem("google_calendar_sync_only_scheduled"),T=localStorage.getItem("google_calendar_selected_calendar");return{autoSync:C?JSON.parse(C):!1,syncOnlyScheduled:S?JSON.parse(S):!0,selectedCalendarId:T||"primary"}},[r]),l=k.useCallback((C,S)=>{const T=o(),E=Zn();if(console.log("🔍 shouldSyncTask check:",{taskId:C.id,taskTitle:C.title,settings:T,isAuthenticated:E==null?void 0:E.isUserAuthenticated(),hasScheduledDate:!!(C.scheduledDate||C.startDate),updates:S}),!T.autoSync||!(E!=null&&E.isUserAuthenticated()))return console.log("❌ Sync blocked - autoSync:",T.autoSync,"isAuthenticated:",E==null?void 0:E.isUserAuthenticated()),!1;const P=S?b(b({},C),S):C;if(T.syncOnlyScheduled){const I=!!(P.scheduledDate||P.startDate);return console.log("📅 syncOnlyScheduled check:",I,"scheduledDate:",P.scheduledDate,"startDate:",P.startDate),I}return console.log("✅ Should sync task"),!0},[o]),u=k.useCallback(C=>{if(!s||!C.boardId)return;const S=s.find(T=>T.id===C.boardId);return S?{name:S.name,color:S.color||void 0}:void 0},[s]),d=k.useCallback(C=>M(null,null,function*(){const S=Zn(),T=o(),E=u(C);if(console.log("📊 syncTaskToCalendar:",{taskId:C.id,taskTitle:C.title,hasExistingEvent:!!C.googleCalendarEventId,calendarId:T.selectedCalendarId,isAuthenticated:S==null?void 0:S.isUserAuthenticated(),boardInfo:E}),!(S!=null&&S.isUserAuthenticated())){console.log("❌ Not authenticated, skipping sync");return}try{if(C.googleCalendarEventId)console.log("🔄 Updating existing Google Calendar event:",C.googleCalendarEventId),yield S.updateEvent(C,C.googleCalendarEventId,T.selectedCalendarId,E),console.log("✅ Successfully updated Google Calendar event");else{console.log("➕ Creating new Google Calendar event");const P=yield S.createEvent(C,T.selectedCalendarId,E);console.log("📅 Created event with ID:",P),P&&(yield n(C.id,{googleCalendarEventId:P,googleCalendarSynced:!0}),console.log("✅ Successfully linked task to Google Calendar event"))}}catch(P){console.error("❌ Failed to sync task to Google Calendar:",P),yield n(C.id,{googleCalendarSynced:!1})}}),[o,n,u]),f=k.useCallback(C=>M(null,null,function*(){const S=Zn(),T=o();if(!(!(S!=null&&S.isUserAuthenticated())||!C.googleCalendarEventId))try{yield S.deleteEvent(C.googleCalendarEventId,T.selectedCalendarId)}catch(E){console.error("Failed to remove task from Google Calendar:",E)}}),[o]),g=k.useCallback((C,S)=>M(null,null,function*(){const T=t.find(P=>P.id===C);if(!T)return n(C,S);console.log("🔄 updateTask called:",{taskId:C,taskTitle:T.title,updates:S});const E=yield n(C,S);if(console.log("💾 Database update result:",E),E&&l(T,S)){console.log("🚀 Starting Google Calendar sync...");const P=b(b({},T),S);T.scheduledDate&&!P.scheduledDate&&!P.startDate?(console.log("🗑️ Removing from Google Calendar (task unscheduled)"),yield f(T),yield n(C,{googleCalendarEventId:void 0,googleCalendarSynced:!1})):(P.scheduledDate||P.startDate)&&(console.log("📅 Syncing to Google Calendar..."),yield d(P))}else console.log("⏭️ Skipping Google Calendar sync");return E}),[t,n,l,d,f]),y=k.useCallback(C=>M(null,null,function*(){const S=t.find(T=>T.id===C);return S&&S.googleCalendarEventId&&(yield f(S)),e(C)}),[t,e,f]),x=k.useCallback(C=>M(null,null,function*(){if(!C.scheduledDate&&!C.startDate)throw new Error("Task must have a scheduled date or start date to sync");yield d(C)}),[d]),w=k.useCallback(C=>M(null,null,function*(){C.googleCalendarEventId&&(yield f(C),yield n(C.id,{googleCalendarEventId:void 0,googleCalendarSynced:!1}))}),[f,n]);return{updateTask:g,deleteTask:y,manualSyncTask:x,manualUnsyncTask:w,isGoogleCalendarConnected:()=>{const C=Zn();return(C==null?void 0:C.isUserAuthenticated())||!1}}}function jQ(){const{tasks:n,boards:e,addTask:t,deleteTask:r,duplicateTask:s,moveTask:o,updateTask:l,reorderTasksInColumn:u,addBoard:d,updateBoard:f,deleteBoard:g,loadTasks:y,isLoading:x,user:w,signOut:C,signUp:S,signIn:T,signInWithGoogle:E,resetPasswordForEmail:P,updatePassword:I}=iv(),{userPreferences:A,userProfile:D,updateUserPreferences:O,updateUserProfile:L}=DQ(w==null?void 0:w.id),[V,B]=k.useState(null),[ee,X]=k.useState(!1),se=He=>{B(He),X(!0)},ce=(He,st)=>M(null,null,function*(){yield l(He,st),X(!1),B(null)}),ke=He=>M(null,null,function*(){yield r(He),X(!1),B(null)}),xe=He=>M(null,null,function*(){yield s(He),X(!1),B(null)}),me=He=>{se(He)};k.useEffect(()=>{M(null,null,function*(){if(!w||!fi.validateGoogleCalendar()){console.log("🔍 Skipping Google Calendar initialization: user not authenticated or config invalid");return}try{console.log("🔄 Initializing Google Calendar service on app startup...");const st=nE(fi.googleCalendar);st.setUserId(w.id);const cr=yield st.loadStoredTokens(),tr=st.isUserAuthenticated();console.log("Google Calendar service initialized:",{hasStoredTokens:cr,isServiceAuthenticated:tr,userId:w.id,config:{hasClientId:!!fi.googleCalendar.clientId,redirectUri:fi.googleCalendar.redirectUri}}),console.log(tr?"✅ Google Calendar service authenticated and ready":"ℹ️ Google Calendar service initialized but not authenticated")}catch(st){console.error("❌ Failed to initialize Google Calendar service:",st)}})},[w]);const{updateTask:pe,deleteTask:j,manualSyncTask:H,manualUnsyncTask:$}=IQ(l,r,n,A,e),[F,q]=k.useState(!1),W=He=>M(null,null,function*(){try{console.log("🔄 Processing Google Calendar authorization code in App.tsx...");const st=Zn();if(!st){console.error("Google Calendar service not initialized");return}st.setUserId(w.id),yield st.exchangeCodeForTokens(He),console.log("✅ Google Calendar connected successfully on app load"),window.history.replaceState({},document.title,window.location.pathname)}catch(st){console.error("❌ Failed to process Google Calendar callback:",st),window.history.replaceState({},document.title,window.location.pathname)}});k.useEffect(()=>{const He=new URLSearchParams(window.location.search),st=He.get("code"),cr=He.get("state"),tr=He.get("error");st&&cr?q(!0):st&&!cr&&w&&fi.validateGoogleCalendar()?(console.log("🔄 Processing Google Calendar OAuth callback on app load..."),W(st)):tr&&(console.error("OAuth error on app load:",tr),window.history.replaceState({},document.title,window.location.pathname))},[w,W]);const ne=()=>{q(!1),window.history.replaceState({},document.title,window.location.pathname)},G=He=>M(null,null,function*(){yield d(He)}),oe=(He,st)=>M(null,null,function*(){yield f(He,st)}),le=He=>M(null,null,function*(){yield g(He)}),Y=(He,st)=>M(null,null,function*(){yield o(He,st)}),he=He=>M(null,null,function*(){const tr=He,{userId:st}=tr,cr=Q(tr,["userId"]);yield t(cr)}),Me=(He,st)=>M(null,null,function*(){yield pe(He,st)}),Be=He=>M(null,null,function*(){yield j(He)}),$e=He=>M(null,null,function*(){yield s(He)}),et=(He,st)=>M(null,null,function*(){yield u(He,st)}),Ut=(He,st)=>M(null,null,function*(){return yield S(He,st)}),Yt=(He,st)=>M(null,null,function*(){return yield T(He,st)}),Vt=()=>M(null,null,function*(){return yield E()}),[gn,an]=k.useState("boards"),[yn,Pn]=k.useState(null),[tt,xn]=k.useState(null),qt=He=>{if(tt){const st=tt.selectedTasks.filter(cr=>cr.id!==He);xn(U(b({},tt),{selectedTasks:st}))}},Un=()=>{an("sprint")};if(F)return a.jsx(NQ,{onAuthComplete:ne});if(!w)return a.jsx(TQ,{onSignUp:Ut,onSignIn:Yt,onGoogleSignIn:Vt,onResetPassword:P});if(x)return a.jsx("div",{className:"h-screen bg-background flex items-center justify-center",children:a.jsx("div",{className:"text-center space-y-4",children:a.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})});const kr=He=>M(null,null,function*(){Pn(He),He.isDefault?yield y():yield y(He.id),an("kanban")}),Pr=()=>{an("settings")},Kr=(He,st)=>M(null,null,function*(){Pn(He),an(st),yield y()}),Cr=()=>{an("boards"),Pn(null),y()},Ss=(He,st)=>M(null,null,function*(){yield l(He,{timeEstimate:st})});return a.jsxs("div",{className:"h-screen bg-background flex flex-col",children:[a.jsx(cl,{title:`DayFlow - ${(yn==null?void 0:yn.name)||"DayFlow"}`}),a.jsx("div",{className:"flex-1",children:(()=>{switch(gn){case"boards":return a.jsx(aG,{boards:e,onSelectBoard:kr,onCreateBoard:G,onUpdateBoard:oe,onDeleteBoard:le,user:w,onSignOut:C,onOpenSettings:Pr,userPreferences:A,onUpdateUserPreferences:O,tasks:n,onTaskClick:me});case"kanban":return yn?a.jsx(JZ,{board:yn,tasks:n,onBack:Cr,onSelectBoard:kr,onMoveTask:Y,onAddTask:he,onUpdateTask:Me,onDeleteTask:Be,onDuplicateTask:$e,onReorderTasksInColumn:et,onUpdateTimeEstimate:Ss,onStartSprint:Un,isAllTasksBoard:yn.isDefault,boards:e,user:w,onSignOut:C,onViewChange:Kr,onOpenSettings:Pr,userPreferences:A,onTaskClick:me}):null;case"calendar":return yn?a.jsx(tQ,{board:yn,tasks:n,onBack:Cr,onSelectBoard:kr,onMoveTask:Y,onAddTask:he,onUpdateTask:Me,onDeleteTask:Be,onDuplicateTask:$e,onUpdateTimeEstimate:Ss,isAllTasksBoard:yn.isDefault,boards:e,user:w,onSignOut:C,onViewChange:Kr,onOpenSettings:Pr,userPreferences:A,onManualSyncTask:H,onManualUnsyncTask:$,onTaskClick:me}):null;case"list":return yn?a.jsx(rQ,{board:yn,tasks:n,onBack:Cr,onSelectBoard:kr,onMoveTask:Y,onAddTask:he,onUpdateTask:Me,onDeleteTask:Be,onDuplicateTask:$e,onUpdateTimeEstimate:Ss,isAllTasksBoard:yn.isDefault,boards:e,user:w,onSignOut:C,onViewChange:Kr,onOpenSettings:Pr,userPreferences:A||void 0,onTaskClick:me}):null;case"sprint":return tt?a.jsx(sQ,{tasks:tt.selectedTasks,timerType:tt.timerType,pomodoroMinutes:tt.pomodoroMinutes,countdownMinutes:tt.countdownMinutes,onTaskComplete:qt,onExit:()=>{an("kanban"),xn(null)},boards:e,onTaskClick:me}):(an("kanban"),null);case"settings":return a.jsx(xQ,{user:w,userPreferences:A||void 0,userProfile:D||void 0,onBack:Cr,onUpdatePreferences:O,onUpdateProfile:L,onSignOut:C,onUpdatePassword:I,onUpdateTask:Me,onAddTask:he,tasks:n,boards:e,onTaskClick:me});default:return null}})()}),a.jsx(Si,{task:V,isOpen:ee,onClose:()=>X(!1),onSave:ce,onDelete:ke,onDuplicate:xe,boards:e,userPreferences:A,isAllTasksBoard:!0})]})}oD.createRoot(document.getElementById("root")).render(a.jsx(be.StrictMode,{children:a.jsx(oQ,{children:a.jsx(jQ,{})})}))});export default AQ();
